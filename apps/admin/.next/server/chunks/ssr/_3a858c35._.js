module.exports=[9843,a=>{"use strict";let b=(0,a.i(28761).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);a.s(["Tag",()=>b],9843)},62584,a=>{"use strict";let b=(0,a.i(28761).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],62584)},77979,a=>{"use strict";var b=a.i(42093),c=a.i(85455),d=a.i(99026);a.i(56120);var e=a.i(86945),f=a.i(27725),g=a.i(6334),h=a.i(18416),i=a.i(29695),j=a.i(27965),k=a.i(66593),l=a.i(69708);function m({lead:a,open:m,onOpenChange:n,onConverted:o}){(0,d.useRouter)();let[p,q]=c.useState("new"),[r,s]=c.useState(!1),[t,u]=c.useState(""),[v,w]=c.useState({companyName:a.company||"",contactName:a.name,email:a.email,phone:a.phone||""}),x=async()=>{s(!0);try{if("new"===p){let b=await (0,k.createClient)({companyName:v.companyName||a.name,contactName:v.contactName,email:v.email,phone:v.phone,status:"onboarding",linkedLeads:[a.id],owner:a.owner});await (0,j.convertLeadToClient)(a.id,b.id),l.showToast.success(`Lead converted to client: ${b.companyName}`),o?.(b.id),n(!1)}else l.showToast.info("Link to existing client (mock - coming soon)")}catch(a){l.showToast.error("Failed to convert lead")}finally{s(!1)}};return(0,b.jsx)(e.Dialog,{open:m,onOpenChange:n,children:(0,b.jsxs)(e.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(e.DialogHeader,{children:[(0,b.jsx)(e.DialogTitle,{children:"Convert Lead to Client"}),(0,b.jsx)(e.DialogDescription,{children:"Create a new client record from this lead or link to an existing client."})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)(i.RadioGroup,{value:p,onValueChange:a=>q(a),children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"new",id:"new"}),(0,b.jsx)(h.Label,{htmlFor:"new",className:"font-normal cursor-pointer",children:"Create new client"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"existing",id:"existing"}),(0,b.jsx)(h.Label,{htmlFor:"existing",className:"font-normal cursor-pointer",children:"Link to existing client"})]})]}),"new"===p?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"companyName",children:"Company Name"}),(0,b.jsx)(g.Input,{id:"companyName",value:v.companyName,onChange:a=>w({...v,companyName:a.target.value}),placeholder:"Company name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"contactName",children:"Primary Contact"}),(0,b.jsx)(g.Input,{id:"contactName",value:v.contactName,onChange:a=>w({...v,contactName:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(g.Input,{id:"email",type:"email",value:v.email,onChange:a=>w({...v,email:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(g.Input,{id:"phone",value:v.phone,onChange:a=>w({...v,phone:a.target.value})})]})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"search",children:"Search Client"}),(0,b.jsx)(g.Input,{id:"search",placeholder:"Search by company name or email...",value:t,onChange:a=>u(a.target.value)})]}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,b.jsx)("p",{children:"Mock: Client search functionality (coming soon)"})})]})]}),(0,b.jsxs)(e.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>n(!1),disabled:r,children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:x,disabled:r||"existing"===p,children:r?"Converting...":"Convert"})]})]})})}a.s(["ConvertLeadDialog",()=>m])},41493,a=>{"use strict";var b=a.i(42093),c=a.i(85455),d=a.i(27965),e=a.i(1054),f=a.i(99026);function g({params:a}){let{id:g}=(0,c.use)(a),h=(0,f.useRouter)(),[i,j]=c.useState(null),[k,l]=c.useState(!0);return(c.useEffect(()=>{(0,d.getLead)(g).then(a=>{j(a),l(!1),a||h.push("/leads")})},[g,h]),k||!i)?null:(0,b.jsx)(e.LeadDetailDrawer,{lead:i,open:!0,onOpenChange:()=>h.push("/leads")})}a.s(["default",()=>g])}];

//# sourceMappingURL=_3a858c35._.js.map