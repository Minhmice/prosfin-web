{"version":3,"sources":["../../../../../../apps/admin/src/components/leads/lead-detail-drawer.tsx","../../../../../../apps/admin/src/app/%28app%29/%40drawer/%28.%29leads/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Sheet, SheetContent, SheetHeader, SheetTitle } from \"@prosfin/ui\";\nimport { X } from \"lucide-react\";\nimport { Button } from \"@prosfin/ui\";\nimport { format } from \"date-fns\";\nimport { Badge } from \"@prosfin/ui\";\nimport type { Lead } from \"@/types/admin\";\n\ninterface LeadDetailDrawerProps {\n  lead: Lead | null;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nconst statusColors: Record<Lead[\"status\"], string> = {\n  new: \"bg-blue-100 text-blue-800\",\n  contacted: \"bg-yellow-100 text-yellow-800\",\n  qualified: \"bg-green-100 text-green-800\",\n  meeting_scheduled: \"bg-purple-100 text-purple-800\",\n  converted: \"bg-gray-100 text-gray-800\",\n  lost: \"bg-red-100 text-red-800\",\n};\n\nexport function LeadDetailDrawer({ lead, open, onOpenChange }: LeadDetailDrawerProps) {\n  const router = useRouter();\n\n  const handleClose = React.useCallback(() => {\n    router.push(\"/leads\");\n    onOpenChange(false);\n  }, [router, onOpenChange]);\n\n  if (!lead) {\n    return null;\n  }\n\n  return (\n    <Sheet open={open} onOpenChange={handleClose}>\n      <SheetContent className=\"w-full sm:max-w-2xl overflow-y-auto\">\n        <SheetHeader>\n          <SheetTitle className=\"flex items-center justify-between\">\n            <span>Lead Details</span>\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={handleClose}\n              className=\"h-8 w-8\"\n            >\n              <X className=\"size-4\" />\n            </Button>\n          </SheetTitle>\n        </SheetHeader>\n\n        <div className=\"mt-6 space-y-6\">\n          {/* Basic Info */}\n          <div>\n            <h3 className=\"text-sm font-medium text-muted-foreground mb-2\">Basic Information</h3>\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"text-xs text-muted-foreground\">Name</label>\n                <p className=\"text-sm font-medium\">{lead.name}</p>\n              </div>\n              {lead.company && (\n                <div>\n                  <label className=\"text-xs text-muted-foreground\">Company</label>\n                  <p className=\"text-sm font-medium\">{lead.company}</p>\n                </div>\n              )}\n              <div>\n                <label className=\"text-xs text-muted-foreground\">Email</label>\n                <p className=\"text-sm font-medium\">{lead.email}</p>\n              </div>\n              {lead.phone && (\n                <div>\n                  <label className=\"text-xs text-muted-foreground\">Phone</label>\n                  <p className=\"text-sm font-medium\">{lead.phone}</p>\n                </div>\n              )}\n              <div>\n                <label className=\"text-xs text-muted-foreground\">Status</label>\n                <div className=\"mt-1\">\n                  <Badge className={statusColors[lead.status]}>\n                    {lead.status}\n                  </Badge>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Source & Attribution */}\n          <div>\n            <h3 className=\"text-sm font-medium text-muted-foreground mb-2\">Source & Attribution</h3>\n            <div className=\"space-y-3\">\n              <div>\n                <label className=\"text-xs text-muted-foreground\">Source</label>\n                <p className=\"text-sm font-medium\">{lead.source}</p>\n              </div>\n              {lead.utm_campaign && (\n                <div>\n                  <label className=\"text-xs text-muted-foreground\">UTM Campaign</label>\n                  <p className=\"text-sm font-medium\">{lead.utm_campaign}</p>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Timeline */}\n          {lead.timeline && lead.timeline.length > 0 && (\n            <div>\n              <h3 className=\"text-sm font-medium text-muted-foreground mb-2\">Timeline</h3>\n              <div className=\"space-y-3\">\n                {lead.timeline.map((event) => (\n                  <div key={event.id} className=\"border-l-2 border-muted pl-4\">\n                    <div className=\"flex items-center justify-between\">\n                      <p className=\"text-sm font-medium\">{event.title}</p>\n                      <span className=\"text-xs text-muted-foreground\">\n                        {format(new Date(event.timestamp), \"MMM dd, yyyy\")}\n                      </span>\n                    </div>\n                    {event.description && (\n                      <p className=\"text-xs text-muted-foreground mt-1\">{event.description}</p>\n                    )}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* Notes */}\n          {lead.notes && (\n            <div>\n              <h3 className=\"text-sm font-medium text-muted-foreground mb-2\">Notes</h3>\n              <p className=\"text-sm\">{lead.notes}</p>\n            </div>\n          )}\n\n          {/* Dates */}\n          <div>\n            <h3 className=\"text-sm font-medium text-muted-foreground mb-2\">Dates</h3>\n            <div className=\"space-y-2\">\n              <div>\n                <label className=\"text-xs text-muted-foreground\">Created</label>\n                <p className=\"text-sm font-medium\">\n                  {format(new Date(lead.createdAt), \"MMM dd, yyyy HH:mm\")}\n                </p>\n              </div>\n              <div>\n                <label className=\"text-xs text-muted-foreground\">Last Updated</label>\n                <p className=\"text-sm font-medium\">\n                  {format(new Date(lead.updatedAt), \"MMM dd, yyyy HH:mm\")}\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </SheetContent>\n    </Sheet>\n  );\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { use } from \"react\";\nimport { getLead } from \"@/lib/data/leads\";\nimport { LeadDetailDrawer } from \"@/components/leads/lead-detail-drawer\";\nimport { useRouter } from \"next/navigation\";\n\ninterface LeadDetailDrawerPageProps {\n  params: Promise<{ id: string }>;\n}\n\nexport default function LeadDetailDrawerPage({ params }: LeadDetailDrawerPageProps) {\n  const { id } = use(params);\n  const router = useRouter();\n  const [lead, setLead] = React.useState<any>(null);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    getLead(id).then((data) => {\n      setLead(data);\n      setIsLoading(false);\n      if (!data) {\n        router.push(\"/leads\");\n      }\n    });\n  }, [id, router]);\n\n  if (isLoading || !lead) {\n    return null;\n  }\n\n  return <LeadDetailDrawer lead={lead} open={true} onOpenChange={() => router.push(\"/leads\")} />;\n}\n\n"],"names":[],"mappings":"wHAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OASA,IAAM,EAA+C,CACnD,IAAK,4BACL,UAAW,gCACX,UAAW,8BACX,kBAAmB,gCACnB,UAAW,4BACX,KAAM,yBACR,EAEO,SAAS,EAAiB,MAAE,CAAI,CAAE,MAAI,cAAE,CAAY,CAAyB,EAClF,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAElB,EAAc,EAAA,WAAiB,CAAC,KACpC,EAAO,IAAI,CAAC,UACZ,EAAa,GACf,EAAG,CAAC,EAAQ,EAAa,SAEzB,AAAK,EAKH,CAAA,CALE,CAKF,CALS,CAKT,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,KAAM,EAAM,aAAc,WAC/B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,gDACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,8CACpB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAK,iBACN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACL,QAAQ,QACR,KAAK,OACL,QAAS,EACT,UAAU,mBAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAC,CAAA,CAAC,UAAU,kBAKnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAiD,sBAC/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,SACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAK,IAAI,MAE9C,EAAK,OAAO,EACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,YACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAK,OAAO,MAGpD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,UACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAK,KAAK,MAE/C,EAAK,KAAK,EACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,UACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAK,KAAK,MAGlD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,WACjD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAY,CAAC,EAAK,MAAM,CAAC,UACxC,EAAK,MAAM,cAQtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAiD,yBAC/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,WACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAK,MAAM,MAEhD,EAAK,YAAY,EAChB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,iBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAK,YAAY,YAO5D,EAAK,QAAQ,EAAI,EAAK,QAAQ,CAAC,MAAM,CAAG,GACvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAiD,aAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAK,QAAQ,CAAC,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAmB,UAAU,yCAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAuB,EAAM,KAAK,GAC/C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCACb,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,IAAI,KAAK,EAAM,SAAS,EAAG,qBAGtC,EAAM,WAAW,EAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAsC,EAAM,WAAW,KAR9D,EAAM,EAAE,QAiBzB,EAAK,KAAK,EACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAiD,UAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAW,EAAK,KAAK,MAKtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0DAAiD,UAC/D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,YACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BACV,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,IAAI,KAAK,EAAK,SAAS,EAAG,2BAGtC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CAAM,UAAU,yCAAgC,iBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BACV,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,IAAI,KAAK,EAAK,SAAS,EAAG,yCApHzC,IA6HX,0EC9JA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OAMe,SAAS,EAAqB,QAAE,CAAM,CAA6B,EAChF,GAAM,IAAE,CAAE,CAAE,CAAG,CAAA,EAAA,EAAA,GAAA,AAAG,EAAC,GACb,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,CAAC,EAAM,EAAQ,CAAG,EAAA,QAAc,CAAM,MACtC,CAAC,EAAW,EAAa,CAAG,EAAA,QAAc,EAAC,SAYjD,CAVA,EAAA,SAAe,CAAC,KACd,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,GAAI,IAAI,CAAC,AAAC,IAChB,EAAQ,GACR,EAAa,IACT,AAAC,GACH,EAAO,CADE,GACE,CAAC,SAEhB,EACF,EAAG,CAAC,EAAI,EAAO,EAEX,GAAa,CAAC,GACT,GADe,EAIjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,KAAM,EAAM,MAAM,EAAM,aAAc,IAAM,EAAO,IAAI,CAAC,WACnF"}