module.exports=[27976,a=>{"use strict";var b=a.i(7945);a.s(["X",()=>b.default])},78192,a=>{"use strict";var b=a.i(42093),c=a.i(85455);a.i(56120);var d=a.i(83750),e=a.i(6334),f=a.i(27725),g=a.i(51367),h=a.i(18416),i=a.i(37717),j=a.i(86754),k=a.i(28761);let l=(0,k.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var m=a.i(27976),n=a.i(90663);let o=(0,k.default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),p=(0,k.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);function q({media:a,selectedIds:c=[],onSelect:d,onMediaClick:e}){return(0,b.jsx)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6",children:a.map(a=>{let g=c.includes(a.id);return(0,b.jsxs)("div",{className:`group relative cursor-pointer rounded-lg border-2 transition-all ${g?"border-primary":"border-border hover:border-primary/50"}`,onClick:()=>e?.(a),children:[(0,b.jsx)("div",{className:"aspect-square overflow-hidden rounded-t-lg bg-muted",children:"image"===a.type?(0,b.jsx)("img",{src:a.url,alt:a.alt||a.filename,className:"h-full w-full object-cover"}):(0,b.jsx)("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:(a=>{switch(a){case"image":return(0,b.jsx)(n.Image,{className:"size-8"});case"video":return(0,b.jsx)(p,{className:"size-8"});default:return(0,b.jsx)(o,{className:"size-8"})}})(a.type)})}),(0,b.jsxs)("div",{className:"p-2",children:[(0,b.jsx)("p",{className:"truncate text-xs font-medium",children:a.filename}),a.tags.length>0&&(0,b.jsx)("div",{className:"mt-1 flex flex-wrap gap-1",children:a.tags.slice(0,2).map(a=>(0,b.jsx)(i.Badge,{variant:"secondary",className:"text-xs",children:a},a))})]}),d&&(0,b.jsx)(f.Button,{variant:g?"default":"outline",size:"sm",className:"absolute right-2 top-2 opacity-0 group-hover:opacity-100",onClick:b=>{b.stopPropagation(),d(a)},children:g?"Selected":"Select"})]},a.id)})})}let r=[{id:"media-1",filename:"prosfin-logo.svg",url:"/brand/prosfin-logo.svg",type:"image",mimeType:"image/svg+xml",width:200,height:50,alt:"ProsFin Logo",caption:"Company logo",tags:["logo","brand"],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},{id:"media-2",filename:"logo-rectangle.svg",url:"/brand/logo_rectangle.svg",type:"image",mimeType:"image/svg+xml",width:300,height:100,alt:"ProsFin Rectangle Logo",tags:["logo","brand"],createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-01T00:00:00Z"},...Array.from({length:20},(a,b)=>({id:`media-${b+3}`,filename:`image-${b+1}.jpg`,url:`https://via.placeholder.com/${400+50*b}x${300+30*b}`,type:"image",mimeType:"image/jpeg",width:400+50*b,height:300+30*b,size:1e5+5e3*b,alt:`Placeholder image ${b+1}`,tags:["placeholder",b%3==0?"featured":"general"],createdAt:new Date(Date.now()-864e5*b).toISOString(),updatedAt:new Date(Date.now()-864e5*b).toISOString()}))];async function s(a){await new Promise(a=>setTimeout(a,100));let b=[...r];if(a&&(a.type&&a.type.length>0&&(b=b.filter(b=>a.type.includes(b.type))),a.tags&&a.tags.length>0&&(b=b.filter(b=>a.tags.some(a=>b.tags.includes(a)))),a.search)){let c=a.search.toLowerCase();b=b.filter(a=>a.filename.toLowerCase().includes(c)||a.alt?.toLowerCase().includes(c)||a.tags.some(a=>a.toLowerCase().includes(c)))}return b}async function t(a,b){await new Promise(a=>setTimeout(a,100));let c=r.find(b=>b.id===a);if(!c)throw Error(`Media with id ${a} not found`);let d={...c,...b,updatedAt:new Date().toISOString()};return r=r.map(b=>b.id===a?d:b),d}function u(){let[a,k]=c.useState([]),[n,o]=c.useState(!0),[p,r]=c.useState(""),[u,v]=c.useState([]),[w,x]=c.useState(null),[y,z]=c.useState(""),[A,B]=c.useState("");c.useEffect(()=>{C()},[p,u]);let C=async()=>{o(!0),k(await s({search:p||void 0,type:u.length>0?u:void 0})),o(!1)};c.useEffect(()=>{w&&(z(w.alt||""),B(w.caption||""))},[w]);let D=async()=>{if(!w)return;await t(w.id,{alt:y,caption:A}),await C();let b=a.find(a=>a.id===w.id);b&&x(b)};return(0,b.jsx)(d.AdminPageShell,{title:"Media Library",description:"Manage your media assets",children:(0,b.jsxs)("div",{className:"flex gap-6",children:[(0,b.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"relative flex-1",children:[(0,b.jsx)(j.Search,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-muted-foreground"}),(0,b.jsx)(e.Input,{placeholder:"Search media...",value:p,onChange:a=>r(a.target.value),className:"pl-9"})]}),(0,b.jsx)("div",{className:"flex gap-2",children:["image","video","document","other"].map(a=>(0,b.jsx)(f.Button,{variant:u.includes(a)?"default":"outline",size:"sm",onClick:()=>{v(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])},children:a},a))}),(0,b.jsxs)(f.Button,{children:[(0,b.jsx)(l,{className:"mr-2 size-4"}),"Upload"]})]}),n?(0,b.jsx)("div",{className:"text-center text-muted-foreground",children:"Loading..."}):(0,b.jsx)(q,{media:a,onMediaClick:x})]}),w&&(0,b.jsxs)("div",{className:"w-80 space-y-4 border-l p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Media Details"}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",onClick:()=>x(null),children:(0,b.jsx)(m.X,{className:"size-4"})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:["image"===w.type&&(0,b.jsx)("img",{src:w.url,alt:w.alt||w.filename,className:"w-full rounded-lg"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"filename",children:"Filename"}),(0,b.jsx)(e.Input,{id:"filename",value:w.filename,disabled:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(h.Label,{htmlFor:"alt",children:["Alt Text ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(e.Input,{id:"alt",value:y,onChange:a=>z(a.target.value),placeholder:"Describe the image"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(h.Label,{htmlFor:"caption",children:"Caption"}),(0,b.jsx)(g.Textarea,{id:"caption",value:A,onChange:a=>B(a.target.value),placeholder:"Optional caption",rows:3})]}),w.width&&w.height&&(0,b.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Dimensions: ",w.width," Ã— ",w.height,"px"]}),w.tags.length>0&&(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:w.tags.map(a=>(0,b.jsx)(i.Badge,{variant:"secondary",children:a},a))}),(0,b.jsx)(f.Button,{onClick:D,className:"w-full",disabled:!y.trim(),children:"Save Changes"})]})]})]})})}a.s(["default",()=>u],78192)}];

//# sourceMappingURL=_794b3e91._.js.map