{"version":3,"sources":["../../../../../../apps/web/src/components/content/post-renderer.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\n/**\n * Lexical editor state type (matches admin app type)\n */\ntype LexicalEditorState = {\n  root: {\n    children: Array<Record<string, any>>;\n    direction: \"ltr\" | \"rtl\" | null;\n    format: string;\n    indent: number;\n    type: \"root\";\n    version: number;\n  };\n};\n\n// Ensure JSX namespace is available\ndeclare global {\n  namespace JSX {\n    interface IntrinsicElements {\n      [elemName: string]: any;\n    }\n  }\n}\n\ninterface PostRendererProps {\n  content: LexicalEditorState;\n}\n\n/**\n * Render Lexical editor state as React components\n */\nexport function PostRenderer({ content }: PostRendererProps) {\n  const renderNode = (node: any, index: number): React.ReactNode => {\n    if (!node || typeof node !== \"object\") return null;\n\n    const { type, children, text, format, ...props } = node;\n\n    // Text node\n    if (type === \"text\") {\n      let className = \"\";\n      if (format & 1) className += \"font-bold \"; // bold\n      if (format & 2) className += \"italic \"; // italic\n      if (format & 4) className += \"underline \"; // underline\n\n      return (\n        <span key={index} className={className}>\n          {text}\n        </span>\n      );\n    }\n\n    // Paragraph\n    if (type === \"paragraph\") {\n      return (\n        <p key={index} className=\"mb-4\">\n          {children?.map((child: any, i: number) => renderNode(child, i))}\n        </p>\n      );\n    }\n\n    // Headings\n    if (type === \"heading\") {\n      const tag = props.tag || \"h1\";\n      const headingClasses = {\n        h1: \"text-4xl font-bold mb-4 mt-8\",\n        h2: \"text-3xl font-bold mb-3 mt-6\",\n        h3: \"text-2xl font-bold mb-2 mt-4\",\n      };\n      const className = headingClasses[tag as keyof typeof headingClasses] || headingClasses.h1;\n      const content = children?.map((child: any, i: number) => renderNode(child, i));\n      \n      if (tag === \"h1\") {\n        return <h1 key={index} className={className}>{content}</h1>;\n      } else if (tag === \"h2\") {\n        return <h2 key={index} className={className}>{content}</h2>;\n      } else if (tag === \"h3\") {\n        return <h3 key={index} className={className}>{content}</h3>;\n      }\n      return <h1 key={index} className={className}>{content}</h1>;\n    }\n\n    // Quote\n    if (type === \"quote\") {\n      return (\n        <blockquote key={index} className=\"border-l-4 border-gray-300 pl-4 italic my-4\">\n          {children?.map((child: any, i: number) => renderNode(child, i))}\n        </blockquote>\n      );\n    }\n\n    // List\n    if (type === \"list\") {\n      const Tag = props.listType === \"number\" ? \"ol\" : \"ul\";\n      const listClasses = props.listType === \"number\" ? \"list-decimal ml-6 my-2\" : \"list-disc ml-6 my-2\";\n      return (\n        <Tag key={index} className={listClasses}>\n          {children?.map((child: any, i: number) => renderNode(child, i))}\n        </Tag>\n      );\n    }\n\n    // List item\n    if (type === \"listitem\") {\n      return (\n        <li key={index} className=\"my-1\">\n          {children?.map((child: any, i: number) => renderNode(child, i))}\n        </li>\n      );\n    }\n\n    // Link\n    if (type === \"link\") {\n      return (\n        <a\n          key={index}\n          href={props.url}\n          target={props.target || \"_self\"}\n          rel={props.target === \"_blank\" ? \"noopener noreferrer\" : undefined}\n          className=\"text-blue-600 underline hover:text-blue-800\"\n        >\n          {children?.map((child: any, i: number) => renderNode(child, i))}\n        </a>\n      );\n    }\n\n    // Default: render children\n    if (children) {\n      return (\n        <div key={index}>\n          {children.map((child: any, i: number) => renderNode(child, i))}\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  if (!content?.root?.children) {\n    return <p className=\"text-muted-foreground\">No content</p>;\n  }\n\n  return (\n    <div className=\"prose prose-lg max-w-none\">\n      {content.root.children.map((child: any, index: number) => renderNode(child, index))}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"wDAkCO,SAAS,EAAa,SAAE,CAAO,CAAqB,EACzD,IAAM,EAAa,CAAC,EAAW,KAC7B,GAAI,CAAC,GAAwB,UAAhB,OAAO,EAAmB,OAAO,KAE9C,GAAM,MAAE,CAAI,UAAE,CAAQ,MAAE,CAAI,CAAE,QAAM,CAAE,GAAG,EAAO,CAAG,EAGnD,GAAa,SAAT,EAAiB,CACnB,IAAI,EAAY,GAKhB,OAJa,EAAT,IAAY,GAAa,YAAA,EAChB,CAD8B,CACvC,IAAY,EADkC,CACrB,SAAA,EACzB,AAAS,CAD2B,KACxB,GAAa,CADoB,WACpB,EAG3B,CAHyC,AAGzC,EAAA,EAAA,GAAA,EAAC,GAHoD,IAGpD,CAAiB,UAAW,WAC1B,GADQ,EAIf,CAGA,GAAa,aAAa,CAAtB,EACF,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAc,UAAU,gBACtB,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KADtD,GAOZ,GAAa,YAAT,EAAoB,CACtB,IAAM,EAAM,EAAM,GAAG,EAAI,KACnB,EAAiB,CACrB,GAAI,+BACJ,GAAI,+BACJ,GAAI,8BACN,EACM,EAAY,CAAc,CAAC,EAAmC,EAAI,EAAe,EAAE,CACnF,EAAU,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,IAE3E,GAAY,MAAM,CAAd,QAEG,GAAY,MAAM,CAAd,EACT,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAe,UAAW,WAAY,GAA9B,QACX,GAAY,MAAM,CAAd,EACT,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAe,UAAW,WAAY,GAA9B,GAElB,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAe,UAAW,WAAY,GAA9B,EAClB,CAGA,GAAa,SAAS,CAAlB,EACF,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,aAAA,CAAuB,UAAU,uDAC/B,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KAD7C,GAOrB,GAAa,SAAT,EAAiB,CACnB,IAAM,EAAyB,WAAnB,EAAM,QAAQ,CAAgB,KAAO,KAC3C,EAAiC,WAAnB,EAAM,QAAQ,CAAgB,yBAA2B,sBAC7E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAgB,UAAW,WACzB,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KADpD,EAId,OAGA,AAAa,YAAY,CAArB,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAe,UAAU,gBACvB,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KADrD,GAOA,QAAQ,CAAjB,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAEC,KAAM,EAAM,GAAG,CACf,OAAQ,EAAM,MAAM,EAAI,QACxB,IAAsB,WAAjB,EAAM,MAAM,CAAgB,2BAAwB,EACzD,UAAU,uDAET,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KANvD,GAYP,EAEA,CAAA,EAAA,EAAA,GAFU,AAEV,EAAC,MAAA,UACE,EAAS,GAAG,CAAC,CAAC,EAAY,IAAc,EAAW,EAAO,KADnD,GAMP,IACT,SAEA,AAAK,GAAS,CAAV,KAAgB,SAKlB,CAL4B,AAK5B,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAQ,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAY,IAAkB,EAAW,EAAO,MALvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,cAQhD"}