{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/admin/data-table/table-toolbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Input, cn } from \"@prosfin/ui\";\r\nimport { Search } from \"lucide-react\";\r\nimport type { TableToolbarProps } from \"./types\";\r\n\r\nexport function TableToolbar({\r\n  searchValue,\r\n  onSearchChange,\r\n  searchPlaceholder = \"Search...\",\r\n  filters,\r\n  rightActions,\r\n}: TableToolbarProps) {\r\n  return (\r\n    <div className=\"flex items-center justify-between gap-4 py-4\">\r\n      <div className=\"relative flex-1 max-w-sm\">\r\n        <Search className=\"text-muted-foreground absolute left-3 top-1/2 size-4 -translate-y-1/2\" />\r\n        <Input\r\n          type=\"search\"\r\n          placeholder={searchPlaceholder}\r\n          value={searchValue}\r\n          onChange={(e) => onSearchChange(e.target.value)}\r\n          className=\"pl-9\"\r\n        />\r\n      </div>\r\n      <div className=\"flex items-center gap-2\">\r\n        {filters && <div className=\"flex items-center gap-2\">{filters}</div>}\r\n        {rightActions && (\r\n          <div className=\"flex items-center gap-2\">{rightActions}</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAJA;;;;AAOO,SAAS,aAAa,EAC3B,WAAW,EACX,cAAc,EACd,oBAAoB,WAAW,EAC/B,OAAO,EACP,YAAY,EACM;IAClB,qBACE,6VAAC;QAAI,WAAU;;0BACb,6VAAC;gBAAI,WAAU;;kCACb,6VAAC,oSAAM;wBAAC,WAAU;;;;;;kCAClB,6VAAC,4JAAK;wBACJ,MAAK;wBACL,aAAa;wBACb,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,WAAU;;;;;;;;;;;;0BAGd,6VAAC;gBAAI,WAAU;;oBACZ,yBAAW,6VAAC;wBAAI,WAAU;kCAA2B;;;;;;oBACrD,8BACC,6VAAC;wBAAI,WAAU;kCAA2B;;;;;;;;;;;;;;;;;;AAKpD"}},
    {"offset": {"line": 83, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/admin/data-table/table-pagination.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport {\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  ChevronsLeft,\r\n  ChevronsRight,\r\n} from \"lucide-react\";\r\nimport { Button } from \"@prosfin/ui\";\r\nimport type { Table } from \"@tanstack/react-table\";\r\n\r\nexport interface TablePaginationProps<T> {\r\n  table: Table<T>;\r\n}\r\n\r\nexport function TablePagination<T>({ table }: TablePaginationProps<T>) {\r\n  // Safely get selected count - may not be available if row selection is disabled\r\n  let selectedCount = 0;\r\n  try {\r\n    const selectedModel = table.getFilteredSelectedRowModel?.();\r\n    if (selectedModel && (selectedModel.rows || selectedModel.flatRows)) {\r\n      selectedCount = (selectedModel.rows || selectedModel.flatRows)?.length ?? 0;\r\n    }\r\n  } catch {\r\n    // Row selection not enabled, default to 0\r\n    selectedCount = 0;\r\n  }\r\n\r\n  // Safely get total count\r\n  let totalCount = 0;\r\n  try {\r\n    const filteredModel = table.getFilteredRowModel();\r\n    if (filteredModel && (filteredModel.rows || filteredModel.flatRows)) {\r\n      totalCount = (filteredModel.rows || filteredModel.flatRows)?.length ?? 0;\r\n    }\r\n  } catch {\r\n    totalCount = 0;\r\n  }\r\n\r\n  // Safely get pagination state\r\n  let paginationState: any = null;\r\n  try {\r\n    const state = table.getState?.();\r\n    paginationState = state?.pagination;\r\n  } catch {\r\n    // Pagination state not available\r\n  }\r\n  \r\n  const pageIndex = paginationState?.pageIndex ?? 0;\r\n  const pageSize = paginationState?.pageSize ?? 10;\r\n  \r\n  let pageCount = 1;\r\n  try {\r\n    pageCount = table.getPageCount?.() ?? 1;\r\n  } catch {\r\n    // Page count not available\r\n  }\r\n  \r\n  let canPreviousPage = false;\r\n  let canNextPage = false;\r\n  try {\r\n    canPreviousPage = table.getCanPreviousPage?.() ?? false;\r\n    canNextPage = table.getCanNextPage?.() ?? false;\r\n  } catch {\r\n    // Navigation state not available\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between px-2 py-4\">\r\n      <div className=\"text-muted-foreground flex-1 text-sm\">\r\n        {selectedCount} of {totalCount} row(s) selected.\r\n      </div>\r\n      <div className=\"flex items-center gap-2\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => table.setPageIndex?.(0)}\r\n          disabled={!canPreviousPage}\r\n        >\r\n          <ChevronsLeft className=\"size-4\" />\r\n        </Button>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => table.previousPage?.()}\r\n          disabled={!canPreviousPage}\r\n        >\r\n          <ChevronLeft className=\"size-4\" />\r\n        </Button>\r\n        <div className=\"text-muted-foreground flex items-center gap-1 text-sm font-medium\">\r\n          Page {pageIndex + 1} of {pageCount}\r\n        </div>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => table.nextPage?.()}\r\n          disabled={!canNextPage}\r\n        >\r\n          <ChevronRight className=\"size-4\" />\r\n        </Button>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => table.setPageIndex?.(pageCount - 1)}\r\n          disabled={!canNextPage}\r\n        >\r\n          <ChevronsRight className=\"size-4\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAMA;AAAA;AATA;;;;AAgBO,SAAS,gBAAmB,EAAE,KAAK,EAA2B;IACnE,gFAAgF;IAChF,IAAI,gBAAgB;IACpB,IAAI;QACF,MAAM,gBAAgB,MAAM,2BAA2B;QACvD,IAAI,iBAAiB,CAAC,cAAc,IAAI,IAAI,cAAc,QAAQ,GAAG;YACnE,gBAAgB,CAAC,cAAc,IAAI,IAAI,cAAc,QAAQ,GAAG,UAAU;QAC5E;IACF,EAAE,OAAM;QACN,0CAA0C;QAC1C,gBAAgB;IAClB;IAEA,yBAAyB;IACzB,IAAI,aAAa;IACjB,IAAI;QACF,MAAM,gBAAgB,MAAM,mBAAmB;QAC/C,IAAI,iBAAiB,CAAC,cAAc,IAAI,IAAI,cAAc,QAAQ,GAAG;YACnE,aAAa,CAAC,cAAc,IAAI,IAAI,cAAc,QAAQ,GAAG,UAAU;QACzE;IACF,EAAE,OAAM;QACN,aAAa;IACf;IAEA,8BAA8B;IAC9B,IAAI,kBAAuB;IAC3B,IAAI;QACF,MAAM,QAAQ,MAAM,QAAQ;QAC5B,kBAAkB,OAAO;IAC3B,EAAE,OAAM;IACN,iCAAiC;IACnC;IAEA,MAAM,YAAY,iBAAiB,aAAa;IAChD,MAAM,WAAW,iBAAiB,YAAY;IAE9C,IAAI,YAAY;IAChB,IAAI;QACF,YAAY,MAAM,YAAY,QAAQ;IACxC,EAAE,OAAM;IACN,2BAA2B;IAC7B;IAEA,IAAI,kBAAkB;IACtB,IAAI,cAAc;IAClB,IAAI;QACF,kBAAkB,MAAM,kBAAkB,QAAQ;QAClD,cAAc,MAAM,cAAc,QAAQ;IAC5C,EAAE,OAAM;IACN,iCAAiC;IACnC;IAEA,qBACE,6VAAC;QAAI,WAAU;;0BACb,6VAAC;gBAAI,WAAU;;oBACZ;oBAAc;oBAAK;oBAAW;;;;;;;0BAEjC,6VAAC;gBAAI,WAAU;;kCACb,6VAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,MAAM,YAAY,GAAG;wBACpC,UAAU,CAAC;kCAEX,cAAA,6VAAC,0TAAY;4BAAC,WAAU;;;;;;;;;;;kCAE1B,6VAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,MAAM,YAAY;wBACjC,UAAU,CAAC;kCAEX,cAAA,6VAAC,uTAAW;4BAAC,WAAU;;;;;;;;;;;kCAEzB,6VAAC;wBAAI,WAAU;;4BAAoE;4BAC3E,YAAY;4BAAE;4BAAK;;;;;;;kCAE3B,6VAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,MAAM,QAAQ;wBAC7B,UAAU,CAAC;kCAEX,cAAA,6VAAC,0TAAY;4BAAC,WAAU;;;;;;;;;;;kCAE1B,6VAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,MAAM,YAAY,GAAG,YAAY;wBAChD,UAAU,CAAC;kCAEX,cAAA,6VAAC,6TAAa;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKnC"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/admin/data-table/app-data-table.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport {\r\n  useReactTable,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getPaginationRowModel,\r\n  getSortedRowModel,\r\n  flexRender,\r\n  type ColumnDef,\r\n  RowSelectionState,\r\n} from \"@tanstack/react-table\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n  AdminSkeleton,\r\n  AdminEmptyState,\r\n  Button,\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuCheckboxItem,\r\n  cn,\r\n} from \"@prosfin/ui\";\r\nimport { Columns } from \"lucide-react\";\r\nimport { TableToolbar } from \"./table-toolbar\";\r\nimport { TablePagination } from \"./table-pagination\";\r\nimport type { DataTableProps } from \"./types\";\r\n\r\nexport function AppDataTable<T>({\r\n  columns,\r\n  data,\r\n  isLoading = false,\r\n  onRowClick,\r\n  enableRowSelection = false,\r\n  onSelectionChange,\r\n  enablePagination = true,\r\n  pageSize = 10,\r\n  searchPlaceholder = \"Search...\",\r\n  emptyMessage = \"No results found.\",\r\n  emptyStateTitle,\r\n  emptyStateDescription,\r\n  // Controlled props for URL state sync\r\n  searchValue: controlledSearchValue,\r\n  onSearchChange: controlledOnSearchChange,\r\n  pageIndex: controlledPageIndex,\r\n  onPageChange: controlledOnPageChange,\r\n  // Toolbar actions\r\n  toolbarRightActions,\r\n  filters,\r\n}: DataTableProps<T>) {\r\n  // Use controlled or internal state\r\n  const [internalSearchValue, setInternalSearchValue] = React.useState(\"\");\r\n  const searchValue = controlledSearchValue ?? internalSearchValue;\r\n  const setSearchValue = controlledOnSearchChange ?? setInternalSearchValue;\r\n  \r\n  const [globalFilter, setGlobalFilter] = React.useState(\"\");\r\n  const [columnVisibility, setColumnVisibility] = React.useState<Record<string, boolean>>({});\r\n  const [rowSelection, setRowSelection] = React.useState<RowSelectionState>({});\r\n\r\n  // Debounce search (only if not controlled)\r\n  React.useEffect(() => {\r\n    if (controlledSearchValue !== undefined) {\r\n      // If controlled, update globalFilter immediately\r\n      setGlobalFilter(controlledSearchValue);\r\n      return;\r\n    }\r\n    // Otherwise, debounce\r\n    const timer = setTimeout(() => {\r\n      setGlobalFilter(searchValue);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchValue, controlledSearchValue]);\r\n\r\n  // Ensure data is always an array\r\n  const safeData = Array.isArray(data) ? data : [];\r\n\r\n  const table = useReactTable({\r\n    data: safeData,\r\n    columns: columns as ColumnDef<T>[],\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getPaginationRowModel: enablePagination\r\n      ? getPaginationRowModel()\r\n      : undefined,\r\n    initialState: {\r\n      pagination: {\r\n        pageSize,\r\n        pageIndex: controlledPageIndex ?? 0,\r\n      },\r\n    },\r\n    state: {\r\n      globalFilter,\r\n      columnVisibility,\r\n      rowSelection: enableRowSelection ? rowSelection : undefined,\r\n      // Always provide pagination state to avoid undefined errors\r\n      pagination: {\r\n        pageIndex: controlledPageIndex ?? 0,\r\n        pageSize,\r\n      },\r\n    },\r\n    onGlobalFilterChange: setGlobalFilter,\r\n    onColumnVisibilityChange: setColumnVisibility,\r\n    onRowSelectionChange: enableRowSelection ? setRowSelection : undefined,\r\n    onPaginationChange: controlledOnPageChange\r\n      ? (updater) => {\r\n          const newPageIndex =\r\n            typeof updater === \"function\"\r\n              ? updater({ pageIndex: controlledPageIndex ?? 0, pageSize }).pageIndex ?? 0\r\n              : updater.pageIndex ?? 0;\r\n          controlledOnPageChange(newPageIndex);\r\n        }\r\n      : undefined,\r\n    enableRowSelection: enableRowSelection,\r\n  });\r\n\r\n  // Notify parent of selection changes\r\n  React.useEffect(() => {\r\n    if (enableRowSelection && onSelectionChange) {\r\n      try {\r\n        const selectedModel = table.getSelectedRowModel?.();\r\n        if (selectedModel && (selectedModel.rows || selectedModel.flatRows)) {\r\n          const rows = selectedModel.rows || selectedModel.flatRows || [];\r\n          const selectedRows = rows.map((row: any) => row.original);\r\n          onSelectionChange(selectedRows);\r\n        }\r\n      } catch {\r\n        // Row selection not available, ignore\r\n      }\r\n    }\r\n  }, [rowSelection, enableRowSelection, onSelectionChange, table]);\r\n\r\n  if (isLoading || !safeData || safeData.length === 0) {\r\n    // Show loading state or empty state\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"space-y-4\">\r\n          <AdminSkeleton variant=\"rectangular\" className=\"h-10 w-full\" />\r\n          {Array.from({ length: 5 }).map((_, i) => (\r\n            <AdminSkeleton key={i} variant=\"rectangular\" className=\"h-16 w-full\" />\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  // Ensure table is ready\r\n  if (!table || typeof table.getRowModel !== 'function') {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <AdminSkeleton variant=\"rectangular\" className=\"h-10 w-full\" />\r\n        <div className=\"rounded-md border p-4 text-center text-muted-foreground\">\r\n          Initializing table...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <TableToolbar\r\n          searchValue={searchValue}\r\n          onSearchChange={setSearchValue}\r\n          searchPlaceholder={searchPlaceholder}\r\n          filters={filters}\r\n          rightActions={toolbarRightActions}\r\n        />\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"outline\" size=\"sm\" suppressHydrationWarning>\r\n              <Columns className=\"mr-2 size-4\" />\r\n              Columns\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\" className=\"w-48\">\r\n            {(() => {\r\n              try {\r\n                const allColumns = table.getAllColumns?.() || [];\r\n                return allColumns\r\n                  .filter((column) => column.getCanHide?.())\r\n                  .map((column) => (\r\n                    <DropdownMenuCheckboxItem\r\n                      key={column.id}\r\n                      checked={column.getIsVisible?.() ?? false}\r\n                      onCheckedChange={(value) => column.toggleVisibility?.(!!value)}\r\n                    >\r\n                      {columns.find((c) => c.id === column.id)?.header || column.id}\r\n                    </DropdownMenuCheckboxItem>\r\n                  ));\r\n              } catch {\r\n                return null;\r\n              }\r\n            })()}\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      </div>\r\n      <div className=\"rounded-md border\">\r\n        <Table>\r\n          <TableHeader>\r\n            {(() => {\r\n              try {\r\n                const headerGroups = table.getHeaderGroups?.() || [];\r\n                return headerGroups.map((headerGroup) => (\r\n                  <TableRow key={headerGroup.id}>\r\n                    {enableRowSelection && (\r\n                      <TableHead className=\"w-12\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={table.getIsAllPageRowsSelected()}\r\n                          onChange={table.getToggleAllPageRowsSelectedHandler()}\r\n                          className=\"size-4 rounded border-input\"\r\n                        />\r\n                      </TableHead>\r\n                    )}\r\n                    {headerGroup.headers.map((header) => (\r\n                      <TableHead key={header.id}>\r\n                        {header.isPlaceholder\r\n                          ? null\r\n                          : flexRender(\r\n                              header.column.columnDef.header,\r\n                              header.getContext()\r\n                            )}\r\n                      </TableHead>\r\n                    ))}\r\n                  </TableRow>\r\n                ));\r\n              } catch {\r\n                return null;\r\n              }\r\n            })()}\r\n          </TableHeader>\r\n          <TableBody>\r\n            {(() => {\r\n              try {\r\n                if (!table || typeof table.getRowModel !== 'function') {\r\n                  return null;\r\n                }\r\n                \r\n                const rowModel = table.getRowModel();\r\n                if (!rowModel) {\r\n                  return null;\r\n                }\r\n                \r\n                // Use rows property, fallback to empty array\r\n                let rows: any[] = [];\r\n                if (rowModel.rows && Array.isArray(rowModel.rows)) {\r\n                  rows = rowModel.rows;\r\n                } else if (rowModel.flatRows && Array.isArray(rowModel.flatRows)) {\r\n                  rows = rowModel.flatRows;\r\n                }\r\n                \r\n                if (rows.length > 0) {\r\n                  return rows\r\n                    .filter((row) => row != null) // Filter out null/undefined rows\r\n                    .map((row: any) => {\r\n                    const isSelected = enableRowSelection ? row.getIsSelected?.() : false;\r\n                    return (\r\n                      <TableRow\r\n                        key={row.id}\r\n                        data-state={isSelected ? \"selected\" : undefined}\r\n                        className={cn(\r\n                          onRowClick && \"cursor-pointer\",\r\n                          isSelected && \"bg-muted/50\"\r\n                        )}\r\n                        onClick={(e) => {\r\n                          // Don't trigger row click if clicking checkbox\r\n                          if ((e.target as HTMLElement).closest('input[type=\"checkbox\"]')) {\r\n                            return;\r\n                          }\r\n                          onRowClick?.(row.original);\r\n                        }}\r\n                      >\r\n                        {enableRowSelection && row.getToggleSelectedHandler && (\r\n                          <TableCell>\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={isSelected}\r\n                              onChange={row.getToggleSelectedHandler()}\r\n                              onClick={(e) => e.stopPropagation()}\r\n                              className=\"size-4 rounded border-input\"\r\n                            />\r\n                          </TableCell>\r\n                        )}\r\n                        {row.getVisibleCells?.()?.map((cell: any) => (\r\n                          <TableCell key={cell.id}>\r\n                            {flexRender(\r\n                              cell.column.columnDef.cell,\r\n                              cell.getContext()\r\n                            )}\r\n                          </TableCell>\r\n                        ))}\r\n                      </TableRow>\r\n                    );\r\n                  });\r\n                }\r\n              } catch {\r\n                // Failed to render rows, show empty state\r\n              }\r\n              return (\r\n                <TableRow>\r\n                  <TableCell\r\n                    colSpan={columns.length + (enableRowSelection ? 1 : 0)}\r\n                    className=\"h-24 text-center\"\r\n                  >\r\n                    <AdminEmptyState \r\n                      title={emptyStateTitle || emptyMessage}\r\n                      description={emptyStateDescription}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })()}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n      {enablePagination && <TablePagination table={table} />}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 684, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/admin/data-table/table-row-actions.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { MoreHorizontal } from \"lucide-react\";\r\nimport {\r\n  Button,\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@prosfin/ui\";\r\n\r\nexport interface RowAction<T> {\r\n  label: string | ((row: T) => string);\r\n  onClick: (row: T) => void;\r\n  variant?: \"default\" | \"destructive\";\r\n}\r\n\r\nexport interface TableRowActionsProps<T> {\r\n  row: T;\r\n  actions: RowAction<T>[];\r\n}\r\n\r\nexport function TableRowActions<T>({\r\n  row,\r\n  actions,\r\n}: TableRowActionsProps<T>) {\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"size-8\" suppressHydrationWarning>\r\n          <MoreHorizontal className=\"size-4\" />\r\n          <span className=\"sr-only\">Open menu</span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\">\r\n        {actions.map((action, index) => {\r\n          const label = typeof action.label === \"function\" ? action.label(row) : action.label;\r\n          return (\r\n            <DropdownMenuItem\r\n              key={index}\r\n              onClick={() => action.onClick(row)}\r\n              className={action.variant === \"destructive\" ? \"text-destructive\" : \"\"}\r\n            >\r\n              {label}\r\n            </DropdownMenuItem>\r\n          );\r\n        })}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAJA;;;;AAuBO,SAAS,gBAAmB,EACjC,GAAG,EACH,OAAO,EACiB;IACxB,qBACE,6VAAC,8KAAY;;0BACX,6VAAC,qLAAmB;gBAAC,OAAO;0BAC1B,cAAA,6VAAC,8JAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAO,WAAU;oBAAS,wBAAwB;;sCAC7E,6VAAC,sTAAc;4BAAC,WAAU;;;;;;sCAC1B,6VAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,6VAAC,qLAAmB;gBAAC,OAAM;0BACxB,QAAQ,GAAG,CAAC,CAAC,QAAQ;oBACpB,MAAM,QAAQ,OAAO,OAAO,KAAK,KAAK,aAAa,OAAO,KAAK,CAAC,OAAO,OAAO,KAAK;oBACnF,qBACE,6VAAC,kLAAgB;wBAEf,SAAS,IAAM,OAAO,OAAO,CAAC;wBAC9B,WAAW,OAAO,OAAO,KAAK,gBAAgB,qBAAqB;kCAElE;uBAJI;;;;;gBAOX;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 764, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/hooks/use-url-state.ts"],"sourcesContent":["/**\r\n * URL State Management Hook\r\n * \r\n * Syncs component state with URL searchParams for deep-linkable state.\r\n * Supports debounce for search inputs and replace vs push for history.\r\n */\r\n\r\n\"use client\";\r\n\r\nimport { useSearchParams, useRouter, usePathname } from \"next/navigation\";\r\nimport { useCallback, useEffect, useRef } from \"react\";\r\n\r\ninterface UseUrlStateOptions {\r\n  replace?: boolean; // Use router.replace vs router.push\r\n  debounce?: number; // Debounce delay in ms (for search inputs)\r\n}\r\n\r\n/**\r\n * Hook to sync state with URL searchParams\r\n * \r\n * @param key - URL search param key\r\n * @param defaultValue - Default value if not in URL\r\n * @param options - Configuration options\r\n * @returns [value, setValue] tuple\r\n */\r\nexport function useUrlState<T extends string | number | boolean>(\r\n  key: string,\r\n  defaultValue: T,\r\n  options?: UseUrlStateOptions\r\n): [T, (value: T) => void] {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Parse value from URL\r\n  const urlValue = searchParams.get(key);\r\n  const value: T = urlValue\r\n    ? (parseValue(urlValue, defaultValue) as T)\r\n    : defaultValue;\r\n\r\n  // Update URL with new value\r\n  const setValue = useCallback(\r\n    (newValue: T) => {\r\n      // Don't update if value hasn't changed\r\n      const currentValue = urlValue ? (parseValue(urlValue, defaultValue) as T) : defaultValue;\r\n      if (currentValue === newValue) {\r\n        return;\r\n      }\r\n\r\n      // Clear existing debounce timer\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      const updateUrl = () => {\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        \r\n        // Remove param if value equals default\r\n        if (newValue === defaultValue) {\r\n          params.delete(key);\r\n        } else {\r\n          params.set(key, String(newValue));\r\n        }\r\n\r\n        const queryString = params.toString();\r\n        const url = queryString ? `${pathname}?${queryString}` : pathname;\r\n        const method = options?.replace ? router.replace : router.push;\r\n        method(url);\r\n      };\r\n\r\n      // Apply debounce if specified\r\n      if (options?.debounce && options.debounce > 0) {\r\n        debounceTimerRef.current = setTimeout(updateUrl, options.debounce);\r\n      } else {\r\n        updateUrl();\r\n      }\r\n    },\r\n    [key, defaultValue, urlValue, searchParams, pathname, router, options]\r\n  );\r\n\r\n  // Cleanup debounce timer on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return [value, setValue];\r\n}\r\n\r\n/**\r\n * Parse string value to appropriate type based on default value\r\n */\r\nfunction parseValue(value: string, defaultValue: string | number | boolean): string | number | boolean {\r\n  if (typeof defaultValue === \"number\") {\r\n    const parsed = Number(value);\r\n    return isNaN(parsed) ? defaultValue : parsed;\r\n  }\r\n  if (typeof defaultValue === \"boolean\") {\r\n    return value === \"true\";\r\n  }\r\n  return value;\r\n}\r\n\r\n/**\r\n * Hook for array values (e.g., multiple filters)\r\n */\r\nexport function useUrlStateArray(\r\n  key: string,\r\n  defaultValue: string[] = [],\r\n  options?: UseUrlStateOptions\r\n): [string[], (value: string[]) => void] {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Parse array from URL (comma-separated)\r\n  const urlValue = searchParams.get(key);\r\n  const value: string[] = urlValue\r\n    ? urlValue.split(\",\").filter(Boolean)\r\n    : defaultValue;\r\n\r\n  const setValue = useCallback(\r\n    (newValue: string[]) => {\r\n      // Don't update if value hasn't changed\r\n      const currentValue = urlValue ? urlValue.split(\",\").filter(Boolean) : defaultValue;\r\n      if (JSON.stringify(currentValue) === JSON.stringify(newValue)) {\r\n        return;\r\n      }\r\n\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      const updateUrl = () => {\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        \r\n        if (newValue.length === 0 || JSON.stringify(newValue) === JSON.stringify(defaultValue)) {\r\n          params.delete(key);\r\n        } else {\r\n          params.set(key, newValue.join(\",\"));\r\n        }\r\n\r\n        const queryString = params.toString();\r\n        const url = queryString ? `${pathname}?${queryString}` : pathname;\r\n        const method = options?.replace ? router.replace : router.push;\r\n        method(url);\r\n      };\r\n\r\n      if (options?.debounce && options.debounce > 0) {\r\n        debounceTimerRef.current = setTimeout(updateUrl, options.debounce);\r\n      } else {\r\n        updateUrl();\r\n      }\r\n    },\r\n    [key, defaultValue, urlValue, searchParams, pathname, router, options]\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return [value, setValue];\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 911, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/lib/toast.ts"],"sourcesContent":["/**\r\n * Toast utilities wrapper\r\n * \r\n * Centralized toast notifications using Sonner.\r\n * Provides consistent API for success, error, info, and promise toasts.\r\n */\r\n\r\nimport { toast } from \"sonner\";\r\n\r\nexport const showToast = {\r\n  success: (message: string) => {\r\n    toast.success(message);\r\n  },\r\n  error: (message: string) => {\r\n    toast.error(message);\r\n  },\r\n  info: (message: string) => {\r\n    toast.info(message);\r\n  },\r\n  promise: <T,>(\r\n    promise: Promise<T>,\r\n    messages: { loading: string; success: string; error: string }\r\n  ) => {\r\n    return toast.promise(promise, messages);\r\n  },\r\n};\r\n\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AAED;;AAEO,MAAM,YAAY;IACvB,SAAS,CAAC;QACR,iRAAK,CAAC,OAAO,CAAC;IAChB;IACA,OAAO,CAAC;QACN,iRAAK,CAAC,KAAK,CAAC;IACd;IACA,MAAM,CAAC;QACL,iRAAK,CAAC,IAAI,CAAC;IACb;IACA,SAAS,CACP,SACA;QAEA,OAAO,iRAAK,CAAC,OAAO,CAAC,SAAS;IAChC;AACF"}},
    {"offset": {"line": 940, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/inline-status-edit.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Badge, DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@prosfin/ui\";\r\nimport { ChevronDown } from \"lucide-react\";\r\nimport type { Lead, LeadStatus } from \"@/types/admin\";\r\nimport { updateLeadStatus } from \"@/lib/data/leads\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface InlineStatusEditProps {\r\n  lead: Lead;\r\n  onUpdate: (leadId: string, status: LeadStatus) => void;\r\n}\r\n\r\nconst statusColors: Record<LeadStatus, string> = {\r\n  new: \"bg-blue-100 text-blue-800\",\r\n  contacted: \"bg-yellow-100 text-yellow-800\",\r\n  qualified: \"bg-green-100 text-green-800\",\r\n  meeting_scheduled: \"bg-purple-100 text-purple-800\",\r\n  converted: \"bg-gray-100 text-gray-800\",\r\n  lost: \"bg-red-100 text-red-800\",\r\n};\r\n\r\nconst statusOptions: { value: LeadStatus; label: string }[] = [\r\n  { value: \"new\", label: \"New\" },\r\n  { value: \"contacted\", label: \"Contacted\" },\r\n  { value: \"qualified\", label: \"Qualified\" },\r\n  { value: \"meeting_scheduled\", label: \"Meeting Scheduled\" },\r\n  { value: \"converted\", label: \"Converted\" },\r\n  { value: \"lost\", label: \"Lost\" },\r\n];\r\n\r\nexport function InlineStatusEdit({ lead, onUpdate }: InlineStatusEditProps) {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n  const handleStatusChange = async (newStatus: LeadStatus) => {\r\n    if (newStatus === lead.status) {\r\n      setIsOpen(false);\r\n      return;\r\n    }\r\n\r\n    // Optimistic update\r\n    onUpdate(lead.id, newStatus);\r\n\r\n    try {\r\n      await updateLeadStatus(lead.id, newStatus);\r\n      showToast.success(`Status updated to ${newStatus}`);\r\n    } catch (error) {\r\n      // Revert on error\r\n      onUpdate(lead.id, lead.status);\r\n      showToast.error(\"Failed to update status\");\r\n    }\r\n\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\r\n      <DropdownMenuTrigger asChild>\r\n        <button className=\"flex items-center gap-1 hover:opacity-80 transition-opacity\" suppressHydrationWarning>\r\n          <Badge className={statusColors[lead.status]}>\r\n            {lead.status}\r\n          </Badge>\r\n          <ChevronDown className=\"size-3 text-muted-foreground\" />\r\n        </button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"start\">\r\n        {statusOptions.map((option) => (\r\n          <DropdownMenuItem\r\n            key={option.value}\r\n            onClick={() => handleStatusChange(option.value)}\r\n            className={option.value === lead.status ? \"bg-muted\" : \"\"}\r\n          >\r\n            {option.label}\r\n          </DropdownMenuItem>\r\n        ))}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AAPA;;;;;;;AAcA,MAAM,eAA2C;IAC/C,KAAK;IACL,WAAW;IACX,WAAW;IACX,mBAAmB;IACnB,WAAW;IACX,MAAM;AACR;AAEA,MAAM,gBAAwD;IAC5D;QAAE,OAAO;QAAO,OAAO;IAAM;IAC7B;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAqB,OAAO;IAAoB;IACzD;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAQ,OAAO;IAAO;CAChC;AAEM,SAAS,iBAAiB,EAAE,IAAI,EAAE,QAAQ,EAAyB;IACxE,MAAM,CAAC,QAAQ,UAAU,GAAG,gUAAc,CAAC;IAE3C,MAAM,qBAAqB,OAAO;QAChC,IAAI,cAAc,KAAK,MAAM,EAAE;YAC7B,UAAU;YACV;QACF;QAEA,oBAAoB;QACpB,SAAS,KAAK,EAAE,EAAE;QAElB,IAAI;YACF,MAAM,IAAA,gKAAgB,EAAC,KAAK,EAAE,EAAE;YAChC,iJAAS,CAAC,OAAO,CAAC,CAAC,kBAAkB,EAAE,WAAW;QACpD,EAAE,OAAO,OAAO;YACd,kBAAkB;YAClB,SAAS,KAAK,EAAE,EAAE,KAAK,MAAM;YAC7B,iJAAS,CAAC,KAAK,CAAC;QAClB;QAEA,UAAU;IACZ;IAEA,qBACE,6VAAC,8KAAY;QAAC,MAAM;QAAQ,cAAc;;0BACxC,6VAAC,qLAAmB;gBAAC,OAAO;0BAC1B,cAAA,6VAAC;oBAAO,WAAU;oBAA8D,wBAAwB;;sCACtG,6VAAC,4JAAK;4BAAC,WAAW,YAAY,CAAC,KAAK,MAAM,CAAC;sCACxC,KAAK,MAAM;;;;;;sCAEd,6VAAC,uTAAW;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAG3B,6VAAC,qLAAmB;gBAAC,OAAM;0BACxB,cAAc,GAAG,CAAC,CAAC,uBAClB,6VAAC,kLAAgB;wBAEf,SAAS,IAAM,mBAAmB,OAAO,KAAK;wBAC9C,WAAW,OAAO,KAAK,KAAK,KAAK,MAAM,GAAG,aAAa;kCAEtD,OAAO,KAAK;uBAJR,OAAO,KAAK;;;;;;;;;;;;;;;;AAU7B"}},
    {"offset": {"line": 1075, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/inline-owner-edit.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@prosfin/ui\";\r\nimport { ChevronDown, User } from \"lucide-react\";\r\nimport type { Lead } from \"@/types/admin\";\r\nimport { updateLeadOwner } from \"@/lib/data/leads\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface InlineOwnerEditProps {\r\n  lead: Lead;\r\n  onUpdate: (leadId: string, owner: string | undefined) => void;\r\n}\r\n\r\nconst ownerOptions = [\"You\", \"Admin\", \"Editor A\", \"Editor B\"];\r\n\r\nexport function InlineOwnerEdit({ lead, onUpdate }: InlineOwnerEditProps) {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n  const handleOwnerChange = async (newOwner: string | undefined) => {\r\n    if (newOwner === lead.owner) {\r\n      setIsOpen(false);\r\n      return;\r\n    }\r\n\r\n    // Optimistic update\r\n    onUpdate(lead.id, newOwner);\r\n\r\n    try {\r\n      await updateLeadOwner(lead.id, newOwner);\r\n      showToast.success(newOwner ? `Assigned to ${newOwner}` : \"Unassigned\");\r\n    } catch (error) {\r\n      // Revert on error\r\n      onUpdate(lead.id, lead.owner);\r\n      showToast.error(\"Failed to update owner\");\r\n    }\r\n\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\r\n      <DropdownMenuTrigger asChild>\r\n        <button className=\"flex items-center gap-1 hover:opacity-80 transition-opacity text-sm\" suppressHydrationWarning>\r\n          {lead.owner ? (\r\n            <>\r\n              <User className=\"size-3\" />\r\n              <span>{lead.owner}</span>\r\n            </>\r\n          ) : (\r\n            <span className=\"text-muted-foreground\">Unassigned</span>\r\n          )}\r\n          <ChevronDown className=\"size-3 text-muted-foreground\" />\r\n        </button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"start\">\r\n        <DropdownMenuItem onClick={() => handleOwnerChange(undefined)}>\r\n          <span className=\"text-muted-foreground\">Unassigned</span>\r\n        </DropdownMenuItem>\r\n        {ownerOptions.map((owner) => (\r\n          <DropdownMenuItem\r\n            key={owner}\r\n            onClick={() => handleOwnerChange(owner)}\r\n            className={owner === lead.owner ? \"bg-muted\" : \"\"}\r\n          >\r\n            {owner}\r\n          </DropdownMenuItem>\r\n        ))}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAPA;;;;;;;AAcA,MAAM,eAAe;IAAC;IAAO;IAAS;IAAY;CAAW;AAEtD,SAAS,gBAAgB,EAAE,IAAI,EAAE,QAAQ,EAAwB;IACtE,MAAM,CAAC,QAAQ,UAAU,GAAG,gUAAc,CAAC;IAE3C,MAAM,oBAAoB,OAAO;QAC/B,IAAI,aAAa,KAAK,KAAK,EAAE;YAC3B,UAAU;YACV;QACF;QAEA,oBAAoB;QACpB,SAAS,KAAK,EAAE,EAAE;QAElB,IAAI;YACF,MAAM,IAAA,+JAAe,EAAC,KAAK,EAAE,EAAE;YAC/B,iJAAS,CAAC,OAAO,CAAC,WAAW,CAAC,YAAY,EAAE,UAAU,GAAG;QAC3D,EAAE,OAAO,OAAO;YACd,kBAAkB;YAClB,SAAS,KAAK,EAAE,EAAE,KAAK,KAAK;YAC5B,iJAAS,CAAC,KAAK,CAAC;QAClB;QAEA,UAAU;IACZ;IAEA,qBACE,6VAAC,8KAAY;QAAC,MAAM;QAAQ,cAAc;;0BACxC,6VAAC,qLAAmB;gBAAC,OAAO;0BAC1B,cAAA,6VAAC;oBAAO,WAAU;oBAAsE,wBAAwB;;wBAC7G,KAAK,KAAK,iBACT;;8CACE,6VAAC,8RAAI;oCAAC,WAAU;;;;;;8CAChB,6VAAC;8CAAM,KAAK,KAAK;;;;;;;yDAGnB,6VAAC;4BAAK,WAAU;sCAAwB;;;;;;sCAE1C,6VAAC,uTAAW;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAG3B,6VAAC,qLAAmB;gBAAC,OAAM;;kCACzB,6VAAC,kLAAgB;wBAAC,SAAS,IAAM,kBAAkB;kCACjD,cAAA,6VAAC;4BAAK,WAAU;sCAAwB;;;;;;;;;;;oBAEzC,aAAa,GAAG,CAAC,CAAC,sBACjB,6VAAC,kLAAgB;4BAEf,SAAS,IAAM,kBAAkB;4BACjC,WAAW,UAAU,KAAK,KAAK,GAAG,aAAa;sCAE9C;2BAJI;;;;;;;;;;;;;;;;;AAUjB"}},
    {"offset": {"line": 1216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/bulk-actions-bar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Button, DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@prosfin/ui\";\r\nimport { Download, User, Tag, X } from \"lucide-react\";\r\nimport type { Lead, LeadStatus } from \"@/types/admin\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface BulkActionsBarProps {\r\n  selectedLeads: Lead[];\r\n  onBulkStatusUpdate: (leadIds: string[], status: LeadStatus) => void;\r\n  onBulkOwnerAssign: (leadIds: string[], owner: string | undefined) => void;\r\n  onClearSelection: () => void;\r\n}\r\n\r\nconst statusOptions: { value: LeadStatus; label: string }[] = [\r\n  { value: \"new\", label: \"New\" },\r\n  { value: \"contacted\", label: \"Contacted\" },\r\n  { value: \"qualified\", label: \"Qualified\" },\r\n  { value: \"meeting_scheduled\", label: \"Meeting Scheduled\" },\r\n  { value: \"converted\", label: \"Converted\" },\r\n  { value: \"lost\", label: \"Lost\" },\r\n];\r\n\r\nconst ownerOptions = [\"You\", \"Admin\", \"Editor A\", \"Editor B\"];\r\n\r\nexport function BulkActionsBar({\r\n  selectedLeads,\r\n  onBulkStatusUpdate,\r\n  onBulkOwnerAssign,\r\n  onClearSelection,\r\n}: BulkActionsBarProps) {\r\n  const [statusMenuOpen, setStatusMenuOpen] = React.useState(false);\r\n  const [ownerMenuOpen, setOwnerMenuOpen] = React.useState(false);\r\n\r\n  if (selectedLeads.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const handleBulkStatus = (status: LeadStatus) => {\r\n    const leadIds = selectedLeads.map((lead) => lead.id);\r\n    onBulkStatusUpdate(leadIds, status);\r\n    setStatusMenuOpen(false);\r\n  };\r\n\r\n  const handleBulkOwner = (owner: string | undefined) => {\r\n    const leadIds = selectedLeads.map((lead) => lead.id);\r\n    onBulkOwnerAssign(leadIds, owner);\r\n    setOwnerMenuOpen(false);\r\n  };\r\n\r\n  const handleBulkExport = () => {\r\n    // Placeholder\r\n    showToast.info(`Exporting ${selectedLeads.length} lead(s)...`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between rounded-md border bg-muted/50 px-4 py-2\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <span className=\"text-sm font-medium\">\r\n          {selectedLeads.length} selected\r\n        </span>\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={onClearSelection}\r\n          className=\"h-7\"\r\n        >\r\n          <X className=\"mr-1 size-3\" />\r\n          Clear\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2\">\r\n        <DropdownMenu open={statusMenuOpen} onOpenChange={setStatusMenuOpen}>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\" suppressHydrationWarning>\r\n              <Tag className=\"mr-2 size-3\" />\r\n              Update Status\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            {statusOptions.map((option) => (\r\n              <DropdownMenuItem\r\n                key={option.value}\r\n                onClick={() => handleBulkStatus(option.value)}\r\n              >\r\n                {option.label}\r\n              </DropdownMenuItem>\r\n            ))}\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n\r\n        <DropdownMenu open={ownerMenuOpen} onOpenChange={setOwnerMenuOpen}>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\" suppressHydrationWarning>\r\n              <User className=\"mr-2 size-3\" />\r\n              Assign Owner\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            <DropdownMenuItem onClick={() => handleBulkOwner(undefined)}>\r\n              <span className=\"text-muted-foreground\">Unassigned</span>\r\n            </DropdownMenuItem>\r\n            {ownerOptions.map((owner) => (\r\n              <DropdownMenuItem\r\n                key={owner}\r\n                onClick={() => handleBulkOwner(owner)}\r\n              >\r\n                {owner}\r\n              </DropdownMenuItem>\r\n            ))}\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n\r\n        <Button variant=\"outline\" size=\"sm\" onClick={handleBulkExport} className=\"h-7\">\r\n          <Download className=\"mr-2 size-3\" />\r\n          Export\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AANA;;;;;;AAeA,MAAM,gBAAwD;IAC5D;QAAE,OAAO;QAAO,OAAO;IAAM;IAC7B;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAqB,OAAO;IAAoB;IACzD;QAAE,OAAO;QAAa,OAAO;IAAY;IACzC;QAAE,OAAO;QAAQ,OAAO;IAAO;CAChC;AAED,MAAM,eAAe;IAAC;IAAO;IAAS;IAAY;CAAW;AAEtD,SAAS,eAAe,EAC7B,aAAa,EACb,kBAAkB,EAClB,iBAAiB,EACjB,gBAAgB,EACI;IACpB,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,gUAAc,CAAC;IAC3D,MAAM,CAAC,eAAe,iBAAiB,GAAG,gUAAc,CAAC;IAEzD,IAAI,cAAc,MAAM,KAAK,GAAG;QAC9B,OAAO;IACT;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,UAAU,cAAc,GAAG,CAAC,CAAC,OAAS,KAAK,EAAE;QACnD,mBAAmB,SAAS;QAC5B,kBAAkB;IACpB;IAEA,MAAM,kBAAkB,CAAC;QACvB,MAAM,UAAU,cAAc,GAAG,CAAC,CAAC,OAAS,KAAK,EAAE;QACnD,kBAAkB,SAAS;QAC3B,iBAAiB;IACnB;IAEA,MAAM,mBAAmB;QACvB,cAAc;QACd,iJAAS,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,cAAc,MAAM,CAAC,WAAW,CAAC;IAC/D;IAEA,qBACE,6VAAC;QAAI,WAAU;;0BACb,6VAAC;gBAAI,WAAU;;kCACb,6VAAC;wBAAK,WAAU;;4BACb,cAAc,MAAM;4BAAC;;;;;;;kCAExB,6VAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS;wBACT,WAAU;;0CAEV,6VAAC,qRAAC;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;;;;;;;0BAKjC,6VAAC;gBAAI,WAAU;;kCACb,6VAAC,8KAAY;wBAAC,MAAM;wBAAgB,cAAc;;0CAChD,6VAAC,qLAAmB;gCAAC,OAAO;0CAC1B,cAAA,6VAAC,8JAAM;oCAAC,SAAQ;oCAAU,MAAK;oCAAK,WAAU;oCAAM,wBAAwB;;sDAC1E,6VAAC,2RAAG;4CAAC,WAAU;;;;;;wCAAgB;;;;;;;;;;;;0CAInC,6VAAC,qLAAmB;gCAAC,OAAM;0CACxB,cAAc,GAAG,CAAC,CAAC,uBAClB,6VAAC,kLAAgB;wCAEf,SAAS,IAAM,iBAAiB,OAAO,KAAK;kDAE3C,OAAO,KAAK;uCAHR,OAAO,KAAK;;;;;;;;;;;;;;;;kCASzB,6VAAC,8KAAY;wBAAC,MAAM;wBAAe,cAAc;;0CAC/C,6VAAC,qLAAmB;gCAAC,OAAO;0CAC1B,cAAA,6VAAC,8JAAM;oCAAC,SAAQ;oCAAU,MAAK;oCAAK,WAAU;oCAAM,wBAAwB;;sDAC1E,6VAAC,8RAAI;4CAAC,WAAU;;;;;;wCAAgB;;;;;;;;;;;;0CAIpC,6VAAC,qLAAmB;gCAAC,OAAM;;kDACzB,6VAAC,kLAAgB;wCAAC,SAAS,IAAM,gBAAgB;kDAC/C,cAAA,6VAAC;4CAAK,WAAU;sDAAwB;;;;;;;;;;;oCAEzC,aAAa,GAAG,CAAC,CAAC,sBACjB,6VAAC,kLAAgB;4CAEf,SAAS,IAAM,gBAAgB;sDAE9B;2CAHI;;;;;;;;;;;;;;;;;kCASb,6VAAC,8JAAM;wBAAC,SAAQ;wBAAU,MAAK;wBAAK,SAAS;wBAAkB,WAAU;;0CACvE,6VAAC,0SAAQ;gCAAC,WAAU;;;;;;4BAAgB;;;;;;;;;;;;;;;;;;;AAM9C"}},
    {"offset": {"line": 1492, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/saved-views.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { Button, DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuSeparator, DropdownMenuTrigger } from \"@prosfin/ui\";\r\nimport { Filter, ChevronDown, Bookmark } from \"lucide-react\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface SavedView {\r\n  id: string;\r\n  name: string;\r\n  params: Record<string, string>;\r\n}\r\n\r\nconst STORAGE_KEY = \"prosfin-saved-views\";\r\n\r\nconst defaultViews: SavedView[] = [\r\n  {\r\n    id: \"my-new-leads\",\r\n    name: \"My New Leads\",\r\n    params: { owner: \"You\", status: \"new\" },\r\n  },\r\n  {\r\n    id: \"qualified-high-fit\",\r\n    name: \"Qualified  High Fit\",\r\n    params: { status: \"qualified\" },\r\n  },\r\n  {\r\n    id: \"facebook-this-week\",\r\n    name: \"Facebook  This Week\",\r\n    params: { source: \"Facebook\" },\r\n  },\r\n];\r\n\r\nfunction loadSavedViews(): SavedView[] {\r\n  try {\r\n    const stored = localStorage.getItem(STORAGE_KEY);\r\n    if (stored) {\r\n      return JSON.parse(stored);\r\n    }\r\n  } catch (error) {\r\n    // Ignore\r\n  }\r\n  return defaultViews;\r\n}\r\n\r\nfunction saveViews(views: SavedView[]) {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(views));\r\n  } catch (error) {\r\n    // Ignore\r\n  }\r\n}\r\n\r\nexport function SavedViews() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const [views, setViews] = React.useState<SavedView[]>([]);\r\n  const [hydrated, setHydrated] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setViews(loadSavedViews());\r\n    setHydrated(true);\r\n  }, []);\r\n\r\n  const applyView = (view: SavedView) => {\r\n    const params = new URLSearchParams();\r\n    \r\n    // Apply view params\r\n    Object.entries(view.params).forEach(([key, value]) => {\r\n      if (value) {\r\n        params.set(key, value);\r\n      }\r\n    });\r\n\r\n    // Preserve existing params that are not in view\r\n    searchParams.forEach((value, key) => {\r\n      if (!view.params[key] && key !== \"view\") {\r\n        params.set(key, value);\r\n      }\r\n    });\r\n\r\n    params.set(\"view\", view.id);\r\n    router.push(`/leads?${params.toString()}`);\r\n    showToast.info(`Applied view: ${view.name}`);\r\n  };\r\n\r\n  if (!hydrated) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"outline\" size=\"sm\" className=\"h-8\" suppressHydrationWarning>\r\n          <Filter className=\"mr-2 size-3\" />\r\n          Views\r\n          <ChevronDown className=\"ml-2 size-3\" />\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n        {views.map((view) => (\r\n          <DropdownMenuItem\r\n            key={view.id}\r\n            onClick={() => applyView(view)}\r\n            className={searchParams.get(\"view\") === view.id ? \"bg-muted\" : \"\"}\r\n          >\r\n            <Bookmark className=\"mr-2 size-3\" />\r\n            {view.name}\r\n          </DropdownMenuItem>\r\n        ))}\r\n        <DropdownMenuSeparator />\r\n        <DropdownMenuItem disabled className=\"text-muted-foreground text-xs\">\r\n          Save current view (coming soon)\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AANA;;;;;;;AAcA,MAAM,cAAc;AAEpB,MAAM,eAA4B;IAChC;QACE,IAAI;QACJ,MAAM;QACN,QAAQ;YAAE,OAAO;YAAO,QAAQ;QAAM;IACxC;IACA;QACE,IAAI;QACJ,MAAM;QACN,QAAQ;YAAE,QAAQ;QAAY;IAChC;IACA;QACE,IAAI;QACJ,MAAM;QACN,QAAQ;YAAE,QAAQ;QAAW;IAC/B;CACD;AAED,SAAS;IACP,IAAI;QACF,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,IAAI,QAAQ;YACV,OAAO,KAAK,KAAK,CAAC;QACpB;IACF,EAAE,OAAO,OAAO;IACd,SAAS;IACX;IACA,OAAO;AACT;AAEA,SAAS,UAAU,KAAkB;IACnC,IAAI;QACF,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACnD,EAAE,OAAO,OAAO;IACd,SAAS;IACX;AACF;AAEO,SAAS;IACd,MAAM,SAAS,IAAA,8PAAS;IACxB,MAAM,eAAe,IAAA,oQAAe;IACpC,MAAM,CAAC,OAAO,SAAS,GAAG,gUAAc,CAAc,EAAE;IACxD,MAAM,CAAC,UAAU,YAAY,GAAG,gUAAc,CAAC;IAE/C,iUAAe,CAAC;QACd,SAAS;QACT,YAAY;IACd,GAAG,EAAE;IAEL,MAAM,YAAY,CAAC;QACjB,MAAM,SAAS,IAAI;QAEnB,oBAAoB;QACpB,OAAO,OAAO,CAAC,KAAK,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC,KAAK,MAAM;YAC/C,IAAI,OAAO;gBACT,OAAO,GAAG,CAAC,KAAK;YAClB;QACF;QAEA,gDAAgD;QAChD,aAAa,OAAO,CAAC,CAAC,OAAO;YAC3B,IAAI,CAAC,KAAK,MAAM,CAAC,IAAI,IAAI,QAAQ,QAAQ;gBACvC,OAAO,GAAG,CAAC,KAAK;YAClB;QACF;QAEA,OAAO,GAAG,CAAC,QAAQ,KAAK,EAAE;QAC1B,OAAO,IAAI,CAAC,CAAC,OAAO,EAAE,OAAO,QAAQ,IAAI;QACzC,iJAAS,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE,KAAK,IAAI,EAAE;IAC7C;IAEA,IAAI,CAAC,UAAU;QACb,OAAO;IACT;IAEA,qBACE,6VAAC,8KAAY;;0BACX,6VAAC,qLAAmB;gBAAC,OAAO;0BAC1B,cAAA,6VAAC,8JAAM;oBAAC,SAAQ;oBAAU,MAAK;oBAAK,WAAU;oBAAM,wBAAwB;;sCAC1E,6VAAC,oSAAM;4BAAC,WAAU;;;;;;wBAAgB;sCAElC,6VAAC,uTAAW;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAG3B,6VAAC,qLAAmB;gBAAC,OAAM;gBAAM,WAAU;;oBACxC,MAAM,GAAG,CAAC,CAAC,qBACV,6VAAC,kLAAgB;4BAEf,SAAS,IAAM,UAAU;4BACzB,WAAW,aAAa,GAAG,CAAC,YAAY,KAAK,EAAE,GAAG,aAAa;;8CAE/D,6VAAC,0SAAQ;oCAAC,WAAU;;;;;;gCACnB,KAAK,IAAI;;2BALL,KAAK,EAAE;;;;;kCAQhB,6VAAC,uLAAqB;;;;;kCACtB,6VAAC,kLAAgB;wBAAC,QAAQ;wBAAC,WAAU;kCAAgC;;;;;;;;;;;;;;;;;;AAM7E"}},
    {"offset": {"line": 1675, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/convert-lead-dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  Button,\r\n  Input,\r\n  Label,\r\n  RadioGroup,\r\n  RadioGroupItem,\r\n} from \"@prosfin/ui\";\r\nimport { convertLeadToClient } from \"@/lib/data/leads\";\r\nimport { createClient, type CreateClientInput } from \"@/lib/data/clients\";\r\nimport { showToast } from \"@/lib/toast\";\r\nimport type { Lead } from \"@/types/admin\";\r\n\r\ninterface ConvertLeadDialogProps {\r\n  lead: Lead;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConverted?: (clientId: string) => void;\r\n}\r\n\r\nexport function ConvertLeadDialog({\r\n  lead,\r\n  open,\r\n  onOpenChange,\r\n  onConverted,\r\n}: ConvertLeadDialogProps) {\r\n  const router = useRouter();\r\n  const [mode, setMode] = React.useState<\"new\" | \"existing\">(\"new\");\r\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\r\n  const [existingClientSearch, setExistingClientSearch] = React.useState(\"\");\r\n\r\n  // Prefill mapping\r\n  const [clientData, setClientData] = React.useState({\r\n    companyName: lead.company || \"\",\r\n    contactName: lead.name,\r\n    email: lead.email,\r\n    phone: lead.phone || \"\",\r\n  });\r\n\r\n  const handleConvert = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      if (mode === \"new\") {\r\n        // Create new client\r\n        const newClient = await createClient({\r\n          companyName: clientData.companyName || lead.name,\r\n          contactName: clientData.contactName,\r\n          email: clientData.email,\r\n          phone: clientData.phone,\r\n          status: \"onboarding\",\r\n          linkedLeads: [lead.id],\r\n          owner: lead.owner,\r\n        });\r\n\r\n        // Convert lead\r\n        await convertLeadToClient(lead.id, newClient.id);\r\n\r\n        showToast.success(`Lead converted to client: ${newClient.companyName}`);\r\n        onConverted?.(newClient.id);\r\n        onOpenChange(false);\r\n\r\n        // Option: Navigate to client detail\r\n        // router.push(`/clients/${newClient.id}`);\r\n      } else {\r\n        // Link to existing client (mock - would search and select)\r\n        showToast.info(\"Link to existing client (mock - coming soon)\");\r\n      }\r\n    } catch (error) {\r\n      showToast.error(\"Failed to convert lead\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[500px]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Convert Lead to Client</DialogTitle>\r\n          <DialogDescription>\r\n            Create a new client record from this lead or link to an existing client.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-6 py-4\">\r\n          {/* Mode Selection */}\r\n          <RadioGroup value={mode} onValueChange={(value) => setMode(value as \"new\" | \"existing\")}>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <RadioGroupItem value=\"new\" id=\"new\" />\r\n              <Label htmlFor=\"new\" className=\"font-normal cursor-pointer\">\r\n                Create new client\r\n              </Label>\r\n            </div>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <RadioGroupItem value=\"existing\" id=\"existing\" />\r\n              <Label htmlFor=\"existing\" className=\"font-normal cursor-pointer\">\r\n                Link to existing client\r\n              </Label>\r\n            </div>\r\n          </RadioGroup>\r\n\r\n          {mode === \"new\" ? (\r\n            /* New Client Form */\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"companyName\">Company Name</Label>\r\n                <Input\r\n                  id=\"companyName\"\r\n                  value={clientData.companyName}\r\n                  onChange={(e) =>\r\n                    setClientData({ ...clientData, companyName: e.target.value })\r\n                  }\r\n                  placeholder=\"Company name\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"contactName\">Primary Contact</Label>\r\n                <Input\r\n                  id=\"contactName\"\r\n                  value={clientData.contactName}\r\n                  onChange={(e) =>\r\n                    setClientData({ ...clientData, contactName: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"email\">Email</Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={clientData.email}\r\n                  onChange={(e) =>\r\n                    setClientData({ ...clientData, email: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"phone\">Phone</Label>\r\n                <Input\r\n                  id=\"phone\"\r\n                  value={clientData.phone}\r\n                  onChange={(e) =>\r\n                    setClientData({ ...clientData, phone: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            /* Existing Client Search */\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"search\">Search Client</Label>\r\n                <Input\r\n                  id=\"search\"\r\n                  placeholder=\"Search by company name or email...\"\r\n                  value={existingClientSearch}\r\n                  onChange={(e) => setExistingClientSearch(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                <p>Mock: Client search functionality (coming soon)</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter>\r\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={isSubmitting}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleConvert} disabled={isSubmitting || mode === \"existing\"}>\r\n            {isSubmitting ? \"Converting...\" : \"Convert\"}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2057, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/app/%28app%29/leads/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { format } from \"date-fns\";\r\nimport { AdminPageShell } from \"@prosfin/ui\";\r\nimport { AppDataTable } from \"@/components/admin/data-table/app-data-table\";\r\nimport { TableRowActions, type RowAction } from \"@/components/admin/data-table/table-row-actions\";\r\nimport { Badge } from \"@prosfin/ui\";\r\nimport { listLeads, updateLeadStatus, updateLeadOwner } from \"@/lib/data/leads\";\r\nimport { useUrlState, useUrlStateArray } from \"@/hooks/use-url-state\";\r\nimport { showToast } from \"@/lib/toast\";\r\nimport { InlineStatusEdit } from \"@/components/leads/inline-status-edit\";\r\nimport { InlineOwnerEdit } from \"@/components/leads/inline-owner-edit\";\r\nimport { BulkActionsBar } from \"@/components/leads/bulk-actions-bar\";\r\nimport { SavedViews } from \"@/components/leads/saved-views\";\r\nimport { ConvertLeadDialog } from \"@/components/leads/convert-lead-dialog\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n  Button,\r\n} from \"@prosfin/ui\";\r\nimport { Filter, X } from \"lucide-react\";\r\nimport type { Lead, LeadStatus } from \"@/types/admin\";\r\nimport type { DataTableColumn } from \"@/components/admin/data-table/types\";\r\n\r\nconst statusColors: Record<Lead[\"status\"], string> = {\r\n  new: \"bg-blue-100 text-blue-800\",\r\n  contacted: \"bg-yellow-100 text-yellow-800\",\r\n  qualified: \"bg-green-100 text-green-800\",\r\n  meeting_scheduled: \"bg-purple-100 text-purple-800\",\r\n  converted: \"bg-gray-100 text-gray-800\",\r\n  lost: \"bg-red-100 text-red-800\",\r\n};\r\n\r\nexport default function LeadsPage() {\r\n  const router = useRouter();\r\n  const [leads, setLeads] = React.useState<Lead[]>([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const [selectedLeads, setSelectedLeads] = React.useState<Lead[]>([]);\r\n  const [convertDialogOpen, setConvertDialogOpen] = React.useState(false);\r\n  const [selectedLeadForConvert, setSelectedLeadForConvert] = React.useState<Lead | null>(null);\r\n\r\n  // URL state sync\r\n  const [search, setSearch] = useUrlState<string>(\"q\", \"\", { debounce: 300, replace: true });\r\n  const [statusFilter, setStatusFilter] = useUrlStateArray(\"status\", []);\r\n  const [sourceFilter, setSourceFilter] = useUrlState<string>(\"source\", \"\");\r\n  const [ownerFilter, setOwnerFilter] = useUrlState<string>(\"owner\", \"\");\r\n  const [interestFilter, setInterestFilter] = useUrlState<string>(\"interest\", \"\");\r\n  const [utmCampaignFilter, setUtmCampaignFilter] = useUrlState<string>(\"utm_campaign\", \"\");\r\n  const [pageIndexStr, setPageIndexStr] = useUrlState<string>(\"page\", \"0\");\r\n  const pageIndex = React.useMemo(() => {\r\n    const parsed = parseInt(pageIndexStr, 10);\r\n    return isNaN(parsed) || parsed < 0 ? 0 : parsed;\r\n  }, [pageIndexStr]);\r\n  const setPageIndex = React.useCallback((index: number) => {\r\n    setPageIndexStr(String(index) as string);\r\n  }, [setPageIndexStr]);\r\n\r\n  React.useEffect(() => {\r\n    listLeads().then((data) => {\r\n      setLeads(data);\r\n      setIsLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  // Filter leads based on URL state\r\n  const filteredLeads = React.useMemo(() => {\r\n    let filtered = [...leads];\r\n\r\n    // Search filter\r\n    if (search) {\r\n      const searchLower = search.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (lead) =>\r\n          lead.name.toLowerCase().includes(searchLower) ||\r\n          lead.email.toLowerCase().includes(searchLower) ||\r\n          lead.phone?.toLowerCase().includes(searchLower) ||\r\n          lead.company?.toLowerCase().includes(searchLower)\r\n      );\r\n    }\r\n\r\n    // Status filter\r\n    if (statusFilter.length > 0) {\r\n      filtered = filtered.filter((lead) => statusFilter.includes(lead.status));\r\n    }\r\n\r\n    // Source filter\r\n    if (sourceFilter) {\r\n      filtered = filtered.filter((lead) => lead.source === sourceFilter);\r\n    }\r\n\r\n    // Owner filter\r\n    if (ownerFilter) {\r\n      if (ownerFilter === \"unassigned\") {\r\n        filtered = filtered.filter((lead) => !lead.owner);\r\n      } else {\r\n        filtered = filtered.filter((lead) => lead.owner === ownerFilter);\r\n      }\r\n    }\r\n\r\n    // Service interest filter\r\n    if (interestFilter) {\r\n      filtered = filtered.filter((lead) => lead.interest === interestFilter);\r\n    }\r\n\r\n    // UTM Campaign filter (deep-link from campaigns)\r\n    if (utmCampaignFilter) {\r\n      filtered = filtered.filter((lead) => lead.utm_campaign === utmCampaignFilter);\r\n    }\r\n\r\n    return filtered;\r\n  }, [leads, search, statusFilter, sourceFilter, ownerFilter, interestFilter, utmCampaignFilter]);\r\n\r\n  const handleStatusChange = async (leadId: string, status: LeadStatus) => {\r\n    try {\r\n      await updateLeadStatus(leadId, status);\r\n      setLeads((prev) =>\r\n        prev.map((lead) => (lead.id === leadId ? { ...lead, status } : lead))\r\n      );\r\n      showToast.success(`Lead status updated to ${status}`);\r\n    } catch (error) {\r\n      showToast.error(\"Failed to update lead status\");\r\n    }\r\n  };\r\n\r\n  const handleOwnerChange = async (leadId: string, owner: string | undefined) => {\r\n    try {\r\n      await updateLeadOwner(leadId, owner);\r\n      setLeads((prev) =>\r\n        prev.map((lead) => (lead.id === leadId ? { ...lead, owner } : lead))\r\n      );\r\n      showToast.success(owner ? `Assigned to ${owner}` : \"Unassigned\");\r\n    } catch (error) {\r\n      showToast.error(\"Failed to update owner\");\r\n    }\r\n  };\r\n\r\n  const handleBulkStatusUpdate = async (leadIds: string[], status: LeadStatus) => {\r\n    try {\r\n      await Promise.all(leadIds.map((id) => updateLeadStatus(id, status)));\r\n      setLeads((prev) =>\r\n        prev.map((lead) =>\r\n          leadIds.includes(lead.id) ? { ...lead, status } : lead\r\n        )\r\n      );\r\n      setSelectedLeads([]);\r\n      showToast.success(`Updated ${leadIds.length} lead(s) to ${status}`);\r\n    } catch (error) {\r\n      showToast.error(\"Failed to update leads\");\r\n    }\r\n  };\r\n\r\n  const handleBulkOwnerAssign = async (leadIds: string[], owner: string | undefined) => {\r\n    try {\r\n      await Promise.all(leadIds.map((id) => updateLeadOwner(id, owner)));\r\n      setLeads((prev) =>\r\n        prev.map((lead) =>\r\n          leadIds.includes(lead.id) ? { ...lead, owner } : lead\r\n        )\r\n      );\r\n      setSelectedLeads([]);\r\n      showToast.success(\r\n        owner\r\n          ? `Assigned ${leadIds.length} lead(s) to ${owner}`\r\n          : `Unassigned ${leadIds.length} lead(s)`\r\n      );\r\n    } catch (error) {\r\n      showToast.error(\"Failed to update leads\");\r\n    }\r\n  };\r\n\r\n  const handleExportRow = (lead: Lead) => {\r\n    const csv = [\r\n      [\"Name\", \"Company\", \"Email\", \"Phone\", \"Status\", \"Owner\", \"Source\"].join(\",\"),\r\n      [\r\n        lead.name,\r\n        lead.company || \"\",\r\n        lead.email,\r\n        lead.phone || \"\",\r\n        lead.status,\r\n        lead.owner || \"\",\r\n        lead.source,\r\n      ].join(\",\"),\r\n    ].join(\"\\n\");\r\n    const blob = new Blob([csv], { type: \"text/csv\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `lead-${lead.id}.csv`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n    showToast.success(\"Lead exported\");\r\n  };\r\n\r\n  const rowActions: RowAction<Lead>[] = [\r\n    {\r\n      label: \"Mark as Contacted\",\r\n      onClick: (row) => handleStatusChange(row.id, \"contacted\"),\r\n    },\r\n    {\r\n      label: \"Change Status\",\r\n      onClick: (row) => {\r\n        router.push(`/leads/${row.id}`);\r\n      },\r\n    },\r\n    {\r\n      label: \"Convert to Client\",\r\n      onClick: (row) => {\r\n        setSelectedLeadForConvert(row);\r\n        setConvertDialogOpen(true);\r\n      },\r\n    },\r\n    {\r\n      label: \"Export\",\r\n      onClick: (row) => handleExportRow(row),\r\n    },\r\n  ];\r\n\r\n  const urgencyColors: Record<\"low\" | \"medium\" | \"high\", string> = {\r\n    low: \"bg-gray-100 text-gray-800\",\r\n    medium: \"bg-yellow-100 text-yellow-800\",\r\n    high: \"bg-red-100 text-red-800\",\r\n  };\r\n\r\n  // Extract unique values for filters\r\n  const ownerOptions = React.useMemo(() => {\r\n    const owners = new Set<string>();\r\n    leads.forEach((lead) => {\r\n      if (lead.owner) owners.add(lead.owner);\r\n    });\r\n    return Array.from(owners).sort();\r\n  }, [leads]);\r\n\r\n  const interestOptions = React.useMemo(() => {\r\n    const interests = new Set<string>();\r\n    leads.forEach((lead) => {\r\n      if (lead.interest) interests.add(lead.interest);\r\n    });\r\n    return Array.from(interests).sort();\r\n  }, [leads]);\r\n\r\n  const sourceOptions = React.useMemo(() => {\r\n    const sources = new Set<string>();\r\n    leads.forEach((lead) => {\r\n      if (lead.source) sources.add(lead.source);\r\n    });\r\n    return Array.from(sources).sort();\r\n  }, [leads]);\r\n\r\n  const filters = (\r\n    <div className=\"flex items-center gap-2\">\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-8\">\r\n            <Filter className=\"mr-2 size-3\" />\r\n            Status\r\n            {statusFilter.length > 0 && (\r\n              <span className=\"ml-2 rounded-full bg-primary px-1.5 py-0.5 text-xs text-primary-foreground\">\r\n                {statusFilter.length}\r\n              </span>\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\r\n          {Object.entries(statusColors).map(([status, _]) => (\r\n            <DropdownMenuItem\r\n              key={status}\r\n              onClick={() => {\r\n                const newFilter = statusFilter.includes(status)\r\n                  ? statusFilter.filter((s) => s !== status)\r\n                  : [...statusFilter, status];\r\n                setStatusFilter(newFilter);\r\n              }}\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={statusFilter.includes(status)}\r\n                onChange={() => {}}\r\n                className=\"mr-2\"\r\n              />\r\n              {status}\r\n            </DropdownMenuItem>\r\n          ))}\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-8\">\r\n            <Filter className=\"mr-2 size-3\" />\r\n            Owner\r\n            {ownerFilter && (\r\n              <X\r\n                className=\"ml-2 size-3\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setOwnerFilter(\"\");\r\n                }}\r\n              />\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\r\n          <DropdownMenuItem onClick={() => setOwnerFilter(\"unassigned\")}>\r\n            Unassigned\r\n          </DropdownMenuItem>\r\n          {ownerOptions.map((owner) => (\r\n            <DropdownMenuItem\r\n              key={owner}\r\n              onClick={() => setOwnerFilter(owner)}\r\n            >\r\n              {owner}\r\n            </DropdownMenuItem>\r\n          ))}\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-8\">\r\n            <Filter className=\"mr-2 size-3\" />\r\n            Interest\r\n            {interestFilter && (\r\n              <X\r\n                className=\"ml-2 size-3\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setInterestFilter(\"\");\r\n                }}\r\n              />\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\r\n          {interestOptions.map((interest) => (\r\n            <DropdownMenuItem\r\n              key={interest}\r\n              onClick={() => setInterestFilter(interest)}\r\n            >\r\n              {interest}\r\n            </DropdownMenuItem>\r\n          ))}\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-8\">\r\n            <Filter className=\"mr-2 size-3\" />\r\n            Source\r\n            {sourceFilter && (\r\n              <X\r\n                className=\"ml-2 size-3\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setSourceFilter(\"\");\r\n                }}\r\n              />\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\r\n          {sourceOptions.map((source) => (\r\n            <DropdownMenuItem\r\n              key={source}\r\n              onClick={() => setSourceFilter(source)}\r\n            >\r\n              {source}\r\n            </DropdownMenuItem>\r\n          ))}\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n    </div>\r\n  );\r\n\r\n  const columns: DataTableColumn<Lead>[] = [\r\n    {\r\n      id: \"name\",\r\n      header: \"Name\",\r\n      accessorKey: \"name\",\r\n      enableSorting: true,\r\n    },\r\n    {\r\n      id: \"company\",\r\n      header: \"Company\",\r\n      accessorKey: \"company\",\r\n      enableSorting: true,\r\n    },\r\n    {\r\n      id: \"email\",\r\n      header: \"Email\",\r\n      accessorKey: \"email\",\r\n    },\r\n    {\r\n      id: \"phone\",\r\n      header: \"Phone\",\r\n      accessorKey: \"phone\",\r\n    },\r\n    {\r\n      id: \"interest\",\r\n      header: \"Service Interest\",\r\n      accessorKey: \"interest\",\r\n      cell: ({ row }) =>\r\n        row.original.interest ? (\r\n          <Badge variant=\"outline\">{row.original.interest}</Badge>\r\n        ) : (\r\n          <span className=\"text-muted-foreground text-sm\"></span>\r\n        ),\r\n    },\r\n    {\r\n      id: \"urgency\",\r\n      header: \"Urgency\",\r\n      accessorKey: \"urgency\",\r\n      cell: ({ row }) =>\r\n        row.original.urgency ? (\r\n          <Badge className={urgencyColors[row.original.urgency]}>\r\n            {row.original.urgency}\r\n          </Badge>\r\n        ) : (\r\n          <span className=\"text-muted-foreground text-sm\"></span>\r\n        ),\r\n    },\r\n    {\r\n      id: \"status\",\r\n      header: \"Status\",\r\n      accessorKey: \"status\",\r\n      cell: ({ row }) => (\r\n        <InlineStatusEdit\r\n          lead={row.original}\r\n          onUpdate={handleStatusChange}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      id: \"owner\",\r\n      header: \"Owner\",\r\n      accessorKey: \"owner\",\r\n      cell: ({ row }) => (\r\n        <InlineOwnerEdit\r\n          lead={row.original}\r\n          onUpdate={handleOwnerChange}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      id: \"source\",\r\n      header: \"Source\",\r\n      accessorKey: \"source\",\r\n    },\r\n    {\r\n      id: \"utm_campaign\",\r\n      header: \"UTM Campaign\",\r\n      accessorKey: \"utm_campaign\",\r\n      cell: ({ row }) =>\r\n        row.original.utm_campaign ? (\r\n          <span className=\"text-sm\">{row.original.utm_campaign}</span>\r\n        ) : (\r\n          <span className=\"text-muted-foreground text-sm\"></span>\r\n        ),\r\n    },\r\n    {\r\n      id: \"createdAt\",\r\n      header: \"Created\",\r\n      accessorKey: \"createdAt\",\r\n      cell: ({ row }) =>\r\n        format(new Date(row.original.createdAt), \"MMM dd, yyyy\"),\r\n    },\r\n    {\r\n      id: \"updatedAt\",\r\n      header: \"Updated\",\r\n      accessorKey: \"updatedAt\",\r\n      cell: ({ row }) =>\r\n        format(new Date(row.original.updatedAt), \"MMM dd, yyyy\"),\r\n    },\r\n    {\r\n      id: \"actions\",\r\n      header: \"\",\r\n      cell: ({ row }) => (\r\n        <TableRowActions row={row.original} actions={rowActions} />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <AdminPageShell\r\n      title=\"Leads\"\r\n      description=\"Manage and track your leads\"\r\n    >\r\n      <div className=\"space-y-4\">\r\n        {selectedLeads.length > 0 && (\r\n          <BulkActionsBar\r\n            selectedLeads={selectedLeads}\r\n            onBulkStatusUpdate={handleBulkStatusUpdate}\r\n            onBulkOwnerAssign={handleBulkOwnerAssign}\r\n            onClearSelection={() => setSelectedLeads([])}\r\n          />\r\n        )}\r\n        <AppDataTable\r\n          columns={columns}\r\n          data={filteredLeads}\r\n          isLoading={isLoading}\r\n          searchPlaceholder=\"Search leads...\"\r\n          emptyMessage=\"No leads found\"\r\n          searchValue={search}\r\n          onSearchChange={setSearch}\r\n          pageIndex={pageIndex}\r\n          onPageChange={setPageIndex}\r\n          enableRowSelection={true}\r\n          onSelectionChange={setSelectedLeads}\r\n          filters={filters}\r\n          toolbarRightActions={<SavedViews />}\r\n          onRowClick={(lead) => {\r\n            router.push(`/leads/${lead.id}`);\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {selectedLeadForConvert && (\r\n        <ConvertLeadDialog\r\n          lead={selectedLeadForConvert}\r\n          open={convertDialogOpen}\r\n          onOpenChange={(open) => {\r\n            setConvertDialogOpen(open);\r\n            if (!open) {\r\n              setSelectedLeadForConvert(null);\r\n            }\r\n          }}\r\n          onConverted={(clientId) => {\r\n            showToast.success(\"Lead converted successfully\");\r\n            setConvertDialogOpen(false);\r\n            setSelectedLeadForConvert(null);\r\n          }}\r\n        />\r\n      )}\r\n    </AdminPageShell>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}