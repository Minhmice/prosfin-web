{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/app/%28app%29/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { AdminPageShell, AdminSectionCard } from \"@prosfin/ui\";\nimport { listLeads } from \"@/lib/data/leads\";\n\nexport default function DashboardPage() {\n  const [stats, setStats] = React.useState({\n    leadsThisWeek: 0,\n    conversionRate: 0,\n    topSource: \"-\",\n    pipeline: 0,\n  });\n\n  React.useEffect(() => {\n    listLeads().then((leads) => {\n      const weekAgo = new Date();\n      weekAgo.setDate(weekAgo.getDate() - 7);\n      const leadsThisWeek = leads.filter(\n        (lead) => new Date(lead.createdAt) >= weekAgo\n      ).length;\n\n      const converted = leads.filter((l) => l.status === \"converted\").length;\n      const conversionRate = leads.length > 0 ? (converted / leads.length) * 100 : 0;\n\n      const sourceCounts: Record<string, number> = {};\n      leads.forEach((lead) => {\n        sourceCounts[lead.source] = (sourceCounts[lead.source] || 0) + 1;\n      });\n      const topSource =\n        Object.entries(sourceCounts).sort((a, b) => b[1] - a[1])[0]?.[0] || \"-\";\n\n      setStats({\n        leadsThisWeek,\n        conversionRate: Math.round(conversionRate * 10) / 10,\n        topSource,\n        pipeline: leads.filter((l) => l.status === \"qualified\" || l.status === \"meeting_scheduled\").length,\n      });\n    });\n  }, []);\n\n  return (\n    <AdminPageShell\n      title=\"Dashboard\"\n      description=\"Overview of your business metrics\"\n    >\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\n        <AdminSectionCard title=\"Leads This Week\">\n          <div className=\"text-2xl font-bold\">{stats.leadsThisWeek}</div>\n          <p className=\"text-muted-foreground text-xs\">New leads</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Conversion Rate\">\n          <div className=\"text-2xl font-bold\">{stats.conversionRate}%</div>\n          <p className=\"text-muted-foreground text-xs\">Last 30 days</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Top Source\">\n          <div className=\"text-2xl font-bold\">{stats.topSource}</div>\n          <p className=\"text-muted-foreground text-xs\">Most effective</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Pipeline\">\n          <div className=\"text-2xl font-bold\">{stats.pipeline}</div>\n          <p className=\"text-muted-foreground text-xs\">Active deals</p>\n        </AdminSectionCard>\n      </div>\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        <AdminSectionCard title=\"Leads Over Time\">\n          <div className=\"flex h-64 items-center justify-center text-muted-foreground\">\n            Chart placeholder\n          </div>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Source Distribution\">\n          <div className=\"flex h-64 items-center justify-center text-muted-foreground\">\n            Chart placeholder\n          </div>\n        </AdminSectionCard>\n      </div>\n    </AdminPageShell>\n  );\n}\n"],"names":["c","_c","React","AdminPageShell","AdminSectionCard","listLeads","DashboardPage","$","$i","Symbol","for","t0","leadsThisWeek","conversionRate","topSource","pipeline","stats","setStats","useState","t1","t2","DashboardPage[useEffect()]","then","leads","weekAgo","Date","setDate","getDate","filter","lead","createdAt","length","converted","_DashboardPageUseEffectAnonymousLeadsFilter","sourceCounts","forEach","lead_0","source","Object","entries","sort","_DashboardPageUseEffectAnonymousAnonymous","Math","round","_DashboardPageUseEffectAnonymousLeadsFilter2","useEffect","t3","t4","t5","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","l_0","l","status","a","b"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAO,KAAKC,KAAK,MAAM,OAAO;AAC9B,SAASC,cAAc,EAAEC,gBAAgB,QAAQ,aAAa;;;AAC9D,SAASC,SAAS,QAAQ,kBAAkB;;;AAJ5C,YAAY;;;;;AAMG;;IAAA,MAAAE,CAAA,OAAAN,sYAAA,EAAA;IAAA,IAAAM,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAA,IAAAI,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAC4BC,EAAA,GAAA;YAAAC,aAAA,EACxB,CAAC;YAAAC,cAAA,EACA,CAAC;YAAAC,SAAA,EACN,GAAG;YAAAC,QAAA,EACJ;QACZ,CAAC;QAAAR,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;IALD,MAAA,CAAAS,KAAA,EAAAC,QAAA,CAAA,GAA0Bf,KAAK,CAAAgB,yXAAS,CAACP,EAKxC,CAAC;IAAC,IAAAQ,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAb,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEaS,EAAA,GAAA,CAAA;YAAA,8BAAAE,CAAA;gBACdhB,gKAAS,CAAC,CAAC,EAAAiB,IAAK,CAAC;oBAAA,+CAAAC,KAAA;wBACf,MAAAC,OAAA,GAAgB,IAAIC,IAAI,CAAC,CAAC;wBAC1BD,OAAO,CAAAE,OAAQ,CAACF,OAAO,CAAAG,OAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;wBACtC,MAAAf,aAAA,GAAsBW,KAAK,CAAAK,MAAO,CAChC;4BAAA,+DAAAC,IAAA,IAAU,IAAIJ,IAAI,CAACI,IAAI,CAAAC,SAAU,CAAC,IAAIN;wBAAO,CAAA,CAAA,8DAC/C,CAAC,CAAAO,MAAO;wBAER,MAAAC,SAAA,GAAkBT,KAAK,CAAAK,MAAO,CAACK,2CAA+B,CAAC,CAAAF,MAAO;wBACtE,MAAAlB,cAAA,GAAuBU,KAAK,CAAAQ,MAAO,GAAG,CAAwC,GAAnCC,SAAS,GAAGT,KAAK,CAAAQ,MAAO,GAAI,GAAO,GAAvD,CAAuD;wBAE9E,MAAAG,YAAA,GAA6C,CAAC,CAAC;wBAC/CX,KAAK,CAAAY,OAAQ,CAAC;4BAAA,iEAAAC,MAAA;gCACZF,YAAY,CAACL,MAAI,CAAAQ,MAAO,CAAA,GAAI,CAACH,YAAY,CAACL,MAAI,CAAAQ,MAAO,CAAM,IAA9B,CAA8B,IAAI,CAAtC;4BAAA;wBAAA,CAAA,CAAA,+DAC1B,CAAC;wBACF,MAAAvB,SAAA,GACEwB,MAAM,CAAAC,OAAQ,CAACL,YAAY,CAAC,CAAAM,IAAK,CAACC,yCAAqB,CAAC,CAAA,EAAQ,EAAA,CAAA,EAAO,IAAvE,GAAuE;wBAEzExB,QAAQ,CAAC;4BAAAL,aAAA;4BAAAC,cAAA,EAES6B,IAAI,CAAAC,KAAM,CAAC9B,cAAc,GAAG,EAAE,CAAC,GAAG,EAAE;4BAAAC,SAAA;4BAAAC,QAAA,EAE1CQ,KAAK,CAAAK,MAAO,CAACgB,4CAAmE,CAAC,CAAAb,MAAAA;wBAC7F,CAAC,CAAC;oBAAA;gBAAA,CAAA,CAAA,6CACH,CAAC;YAAA;SAAA,CAAA,CAAA,6BACH;QAAEX,EAAA,GAAA,EAAE;QAAAb,CAAA,CAAA,EAAA,GAAAY,EAAA;QAAAZ,CAAA,CAAA,EAAA,GAAAa,EAAA;IAAA,OAAA;QAAAD,EAAA,GAAAZ,CAAA,CAAA,EAAA;QAAAa,EAAA,GAAAb,CAAA,CAAA,EAAA;IAAA;IAzBLL,KAAK,CAAA2C,0XAAU,CAAC1B,EAyBf,EAAEC,EAAE,CAAC;IAAA,IAAA0B,EAAA;IAAA,IAAAvC,CAAA,CAAA,EAAA,KAAAS,KAAA,CAAAJ,aAAA,EAAA;QASEkC,EAAA,iBAAA,mZAAA,GAA+D;YAAhD,SAAoB,EAApB,oBAAoB,CAAE;sBAAA9B,KAAK,CAAAJ,aAAa,CAAE,EAAzD,GAA+D;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAS,KAAA,CAAAJ,aAAA;QAAAL,CAAA,CAAA,EAAA,GAAAuC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAvC,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAwC,EAAA;IAAA,IAAAxC,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAC/DqC,EAAA,iBAAA,mZAAA,CAA0D;YAA7C,SAA+B,EAA/B,+BAA+B;sBAAC,SAAS,EAAtD,CAA0D;;;;;;QAAAxC,CAAA,CAAA,EAAA,GAAAwC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAxC,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAyC,EAAA;IAAA,IAAAzC,CAAA,CAAA,EAAA,KAAAuC,EAAA,EAAA;QAF5DE,EAAA,iBAAA,mZAAC,gMAAgB;YAAO,KAAiB,EAAjB,iBAAiB,CACvC;;gBAAAF,EAA8D,CAC9D;gBAAAC,EAAyD,CAC3D,EAHC,gBAAgB,CAGE;;;;;;;QAAAxC,CAAA,CAAA,EAAA,GAAAuC,EAAA;QAAAvC,CAAA,CAAA,EAAA,GAAAyC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAzC,CAAA,CAAA,EAAA;IAAA;IAAA,IAAA0C,EAAA;IAAA,IAAA1C,CAAA,CAAA,EAAA,KAAAS,KAAA,CAAAH,cAAA,EAAA;QAEjBoC,EAAA,iBAAA,mZAAA,GAAiE;YAAlD,SAAoB,EAApB,oBAAoB,CAAE;;gBAAAjC,KAAK,CAAAH,cAAc;gBAAE,CAAC,EAA3D,GAAiE;;;;;;;QAAAN,CAAA,CAAA,EAAA,GAAAS,KAAA,CAAAH,cAAA;QAAAN,CAAA,CAAA,GAAA,GAAA0C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA1C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA2C,EAAA;IAAA,IAAA3C,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACjEwC,EAAA,iBAAA,mZAAA,CAA6D;YAAhD,SAA+B,EAA/B,+BAA+B;sBAAC,YAAY,EAAzD,CAA6D;;;;;;QAAA3C,CAAA,CAAA,GAAA,GAAA2C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA3C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA4C,EAAA;IAAA,IAAA5C,CAAA,CAAA,GAAA,KAAA0C,EAAA,EAAA;QAF/DE,EAAA,iBAAA,mZAAC,gMAAgB;YAAO,KAAiB,EAAjB,iBAAiB,CACvC;;gBAAAF,EAAgE,CAChE;gBAAAC,EAA4D,CAC9D,EAHC,gBAAgB,CAGE;;;;;;;QAAA3C,CAAA,CAAA,GAAA,GAAA0C,EAAA;QAAA1C,CAAA,CAAA,GAAA,GAAA4C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA5C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA6C,EAAA;IAAA,IAAA7C,CAAA,CAAA,GAAA,KAAAS,KAAA,CAAAF,SAAA,EAAA;QAEjBsC,EAAA,iBAAA,mZAAA,GAA2D;YAA5C,SAAoB,EAApB,oBAAoB,CAAE;sBAAApC,KAAK,CAAAF,SAAS,CAAE,EAArD,GAA2D;;;;;;QAAAP,CAAA,CAAA,GAAA,GAAAS,KAAA,CAAAF,SAAA;QAAAP,CAAA,CAAA,GAAA,GAAA6C,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA7C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA8C,GAAA;IAAA,IAAA9C,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAC3D2C,GAAA,iBAAA,mZAAA,CAA+D;YAAlD,SAA+B,EAA/B,+BAA+B;sBAAC,cAAc,EAA3D,CAA+D;;;;;;QAAA9C,CAAA,CAAA,GAAA,GAAA8C,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA9C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAA+C,GAAA;IAAA,IAAA/C,CAAA,CAAA,GAAA,KAAA6C,EAAA,EAAA;QAFjEE,GAAA,iBAAA,mZAAC,gMAAgB;YAAO,KAAY,EAAZ,YAAY,CAClC;;gBAAAF,EAA0D,CAC1D;gBAAAC,GAA8D,CAChE,EAHC,gBAAgB,CAGE;;;;;;;QAAA9C,CAAA,CAAA,GAAA,GAAA6C,EAAA;QAAA7C,CAAA,CAAA,GAAA,GAAA+C,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAA/C,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgD,GAAA;IAAA,IAAAhD,CAAA,CAAA,GAAA,KAAAS,KAAA,CAAAD,QAAA,EAAA;QAEjBwC,GAAA,iBAAA,mZAAA,GAA0D;YAA3C,SAAoB,EAApB,oBAAoB,CAAE;sBAAAvC,KAAK,CAAAD,QAAQ,CAAE,EAApD,GAA0D;;;;;;QAAAR,CAAA,CAAA,GAAA,GAAAS,KAAA,CAAAD,QAAA;QAAAR,CAAA,CAAA,GAAA,GAAAgD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAhD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiD,GAAA;IAAA,IAAAjD,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAC1D8C,GAAA,iBAAA,mZAAA,CAA6D;YAAhD,SAA+B,EAA/B,+BAA+B;sBAAC,YAAY,EAAzD,CAA6D;;;;;;QAAAjD,CAAA,CAAA,GAAA,GAAAiD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAjD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAkD,GAAA;IAAA,IAAAlD,CAAA,CAAA,GAAA,KAAAgD,GAAA,EAAA;QAF/DE,GAAA,iBAAA,mZAAC,gMAAgB;YAAO,KAAU,EAAV,UAAU,CAChC;;gBAAAF,GAAyD,CACzD;gBAAAC,GAA4D,CAC9D,EAHC,gBAAgB,CAGE;;;;;;;QAAAjD,CAAA,CAAA,GAAA,GAAAgD,GAAA;QAAAhD,CAAA,CAAA,GAAA,GAAAkD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmD,GAAA;IAAA,IAAAnD,CAAA,CAAA,GAAA,KAAA+C,GAAA,IAAA/C,CAAA,CAAA,GAAA,KAAAkD,GAAA,IAAAlD,CAAA,CAAA,GAAA,KAAAyC,EAAA,IAAAzC,CAAA,CAAA,GAAA,KAAA4C,EAAA,EAAA;QAhBrBO,GAAA,iBAAA,mZAAA,GAiBM;YAjBS,SAA0C,EAA1C,0CAA0C,CACvD;;gBAAAV,EAGkB,CAClB;gBAAAG,EAGkB,CAClB;gBAAAG,GAGkB,CAClB;gBAAAG,GAGkB,CACpB,EAjBA,GAiBM;;;;;;;QAAAlD,CAAA,CAAA,GAAA,GAAA+C,GAAA;QAAA/C,CAAA,CAAA,GAAA,GAAAkD,GAAA;QAAAlD,CAAA,CAAA,GAAA,GAAAyC,EAAA;QAAAzC,CAAA,CAAA,GAAA,GAAA4C,EAAA;QAAA5C,CAAA,CAAA,GAAA,GAAAmD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAnD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoD,GAAA;IAAA,IAAApD,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAEJiD,GAAA,iBAAA,mZAAC,gMAAgB;YAAO,KAAiB,EAAjB,iBAAiB;oCACvC,mZAAA,GAEM;gBAFS,SAA6D,EAA7D,6DAA6D;0BAAC,iBAE7E,EAFA,GAEM,CACR,EAJC,gBAAgB,CAIE;;;;;;;;;;;QAAApD,CAAA,CAAA,GAAA,GAAAoD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAApD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAqD,GAAA;IAAA,IAAArD,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QALrBkD,GAAA,iBAAA,mZAAA,GAWM;YAXS,SAA2B,EAA3B,2BAA2B,CACxC;;gBAAAD,GAIkB;8BAClB,mZAAC,gMAAgB;oBAAO,KAAqB,EAArB,qBAAqB;4CAC3C,mZAAA,GAEM;wBAFS,SAA6D,EAA7D,6DAA6D;kCAAC,iBAE7E,EAFA,GAEM,CACR,EAJC,gBAAgB,CAKnB,EAXA,GAWM;;;;;;;;;;;;;;;;;QAAApD,CAAA,CAAA,GAAA,GAAAqD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAArD,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAsD,GAAA;IAAA,IAAAtD,CAAA,CAAA,GAAA,KAAAmD,GAAA,EAAA;QAjCRG,GAAA,iBAAA,mZAAC,4LAAc;YACP,KAAW,EAAX,WAAW;YACL,WAAmC,EAAnC,mCAAmC,CAE/C;;gBAAAH,GAiBK,CACL;gBAAAE,GAWK,CACP,EAlCC,cAAc,CAkCE;;;;;;;QAAArD,CAAA,CAAA,GAAA,GAAAmD,GAAA;QAAAnD,CAAA,CAAA,GAAA,GAAAsD,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtD,CAAA,CAAA,GAAA;IAAA;IAAA,OAlCjBsD,GAkCiB;AAAA;;KAtENvD,cAAA;AAAA,SAAAsC,6CAAAkB,GAAA;IAAA,OA8BuBC,GAAC,CAAAC,MAAO,KAAK,WAA+C,IAAhCD,GAAC,CAAAC,MAAO,KAAK,mBAAmB;AAAA;AA9BnF,SAAAvB,0CAAAwB,CAAA,EAAAC,CAAA;IAAA,OAwBqCA,CAAC,CAAA,EAAG,GAAGD,CAAC,CAAA,EAAG;AAAA;AAxBhD,SAAAhC,4CAAA8B,CAAA;IAAA,OAgB6BA,CAAC,CAAAC,MAAO,KAAK,WAAW;AAAA","ignoreList":[]}}]
}