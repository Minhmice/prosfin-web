module.exports=[93391,a=>{"use strict";var b=a.i(99026),c=a.i(85455);function d(a,d,f){let g=(0,b.useSearchParams)(),h=(0,b.useRouter)(),i=(0,b.usePathname)(),j=(0,c.useRef)(null),k=g.get(a),l=k?e(k,d):d,m=(0,c.useCallback)(b=>{if((k?e(k,d):d)===b)return;j.current&&clearTimeout(j.current);let c=()=>{let c=new URLSearchParams(g.toString());b===d?c.delete(a):c.set(a,String(b));let e=c.toString(),j=e?`${i}?${e}`:i;(f?.replace?h.replace:h.push)(j)};f?.debounce&&f.debounce>0?j.current=setTimeout(c,f.debounce):c()},[a,d,k,g,i,h,f]);return(0,c.useEffect)(()=>()=>{j.current&&clearTimeout(j.current)},[]),[l,m]}function e(a,b){if("number"==typeof b){let c=Number(a);return isNaN(c)?b:c}return"boolean"==typeof b?"true"===a:a}function f(a,d=[],e){let g=(0,b.useSearchParams)(),h=(0,b.useRouter)(),i=(0,b.usePathname)(),j=(0,c.useRef)(null),k=g.get(a),l=k?k.split(",").filter(Boolean):d,m=(0,c.useCallback)(b=>{if(JSON.stringify(k?k.split(",").filter(Boolean):d)===JSON.stringify(b))return;j.current&&clearTimeout(j.current);let c=()=>{let c=new URLSearchParams(g.toString());0===b.length||JSON.stringify(b)===JSON.stringify(d)?c.delete(a):c.set(a,b.join(","));let f=c.toString(),j=f?`${i}?${f}`:i;(e?.replace?h.replace:h.push)(j)};e?.debounce&&e.debounce>0?j.current=setTimeout(c,e.debounce):c()},[a,d,k,g,i,h,e]);return(0,c.useEffect)(()=>()=>{j.current&&clearTimeout(j.current)},[]),[l,m]}a.s(["useUrlState",()=>d,"useUrlStateArray",()=>f])},27976,a=>{"use strict";var b=a.i(7945);a.s(["X",()=>b.default])},69708,a=>{"use strict";var b=a.i(49377);a.s(["showToast",0,{success:a=>{b.toast.success(a)},error:a=>{b.toast.error(a)},info:a=>{b.toast.info(a)},promise:(a,c)=>b.toast.promise(a,c)}])},9843,a=>{"use strict";let b=(0,a.i(28761).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);a.s(["Tag",()=>b],9843)},77979,a=>{"use strict";var b=a.i(42093),c=a.i(85455),d=a.i(99026);a.i(56120);var e=a.i(86945),f=a.i(27725),g=a.i(6334),h=a.i(18416),i=a.i(29695),j=a.i(27965),k=a.i(66593),l=a.i(69708);function m({lead:a,open:m,onOpenChange:n,onConverted:o}){(0,d.useRouter)();let[p,q]=c.useState("new"),[r,s]=c.useState(!1),[t,u]=c.useState(""),[v,w]=c.useState({companyName:a.company||"",contactName:a.name,email:a.email,phone:a.phone||""}),x=async()=>{s(!0);try{if("new"===p){let b=await (0,k.createClient)({companyName:v.companyName||a.name,contactName:v.contactName,email:v.email,phone:v.phone,status:"onboarding",linkedLeads:[a.id],owner:a.owner});await (0,j.convertLeadToClient)(a.id,b.id),l.showToast.success(`Lead converted to client: ${b.companyName}`),o?.(b.id),n(!1)}else l.showToast.info("Link to existing client (mock - coming soon)")}catch(a){l.showToast.error("Failed to convert lead")}finally{s(!1)}};return(0,b.jsx)(e.Dialog,{open:m,onOpenChange:n,children:(0,b.jsxs)(e.DialogContent,{className:"sm:max-w-[500px]",children:[(0,b.jsxs)(e.DialogHeader,{children:[(0,b.jsx)(e.DialogTitle,{children:"Convert Lead to Client"}),(0,b.jsx)(e.DialogDescription,{children:"Create a new client record from this lead or link to an existing client."})]}),(0,b.jsxs)("div",{className:"space-y-6 py-4",children:[(0,b.jsxs)(i.RadioGroup,{value:p,onValueChange:a=>q(a),children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"new",id:"new"}),(0,b.jsx)(h.Label,{htmlFor:"new",className:"font-normal cursor-pointer",children:"Create new client"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(i.RadioGroupItem,{value:"existing",id:"existing"}),(0,b.jsx)(h.Label,{htmlFor:"existing",className:"font-normal cursor-pointer",children:"Link to existing client"})]})]}),"new"===p?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"companyName",children:"Company Name"}),(0,b.jsx)(g.Input,{id:"companyName",value:v.companyName,onChange:a=>w({...v,companyName:a.target.value}),placeholder:"Company name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"contactName",children:"Primary Contact"}),(0,b.jsx)(g.Input,{id:"contactName",value:v.contactName,onChange:a=>w({...v,contactName:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(g.Input,{id:"email",type:"email",value:v.email,onChange:a=>w({...v,email:a.target.value})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(g.Input,{id:"phone",value:v.phone,onChange:a=>w({...v,phone:a.target.value})})]})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(h.Label,{htmlFor:"search",children:"Search Client"}),(0,b.jsx)(g.Input,{id:"search",placeholder:"Search by company name or email...",value:t,onChange:a=>u(a.target.value)})]}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,b.jsx)("p",{children:"Mock: Client search functionality (coming soon)"})})]})]}),(0,b.jsxs)(e.DialogFooter,{children:[(0,b.jsx)(f.Button,{variant:"outline",onClick:()=>n(!1),disabled:r,children:"Cancel"}),(0,b.jsx)(f.Button,{onClick:x,disabled:r||"existing"===p,children:r?"Converting...":"Convert"})]})]})})}a.s(["ConvertLeadDialog",()=>m])},15810,a=>{"use strict";let b=(0,a.i(28761).default)("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);a.s(["Columns",()=>b],15810)},22448,a=>{"use strict";var b=a.i(42093);let c=(0,a.i(28761).default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.i(56120);var d=a.i(27725),e=a.i(2042);function f({row:a,actions:f}){return(0,b.jsxs)(e.DropdownMenu,{children:[(0,b.jsx)(e.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(d.Button,{variant:"ghost",size:"icon",className:"size-8",suppressHydrationWarning:!0,children:[(0,b.jsx)(c,{className:"size-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,b.jsx)(e.DropdownMenuContent,{align:"end",children:f.map((c,d)=>{let f="function"==typeof c.label?c.label(a):c.label;return(0,b.jsx)(e.DropdownMenuItem,{onClick:()=>c.onClick(a),className:"destructive"===c.variant?"text-destructive":"",children:f},d)})})]})}a.s(["TableRowActions",()=>f],22448)},48593,a=>{"use strict";let b=(0,a.i(28761).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);a.s(["Filter",()=>b],48593)}];

//# sourceMappingURL=_9d04f0e7._.js.map