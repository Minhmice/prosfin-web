(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,10012,e=>{"use strict";var t=e.i(12926),r=e.i(42276),n=e.i(52088);function i(e){let i,o,l,a,s,c=(0,r.c)(10);return c[0]!==e?({className:i,type:l,...o}=e,c[0]=e,c[1]=i,c[2]=o,c[3]=l):(i=c[1],o=c[2],l=c[3]),c[4]!==i?(a=(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",i),c[4]=i,c[5]=a):a=c[5],c[6]!==o||c[7]!==a||c[8]!==l?(s=(0,t.jsx)("input",{type:l,"data-slot":"input",className:a,...o}),c[6]=o,c[7]=a,c[8]=l,c[9]=s):s=c[9],s}e.s(["Input",()=>i])},22075,e=>{"use strict";var t=e.i(38131);let r="prosfin_lead_draft_v1";function n(){let[e,n]=t.useState(null),[i,o]=t.useState(!1);return t.useEffect(()=>{n(function(){try{let e=localStorage.getItem(r);if(!e)return null;return JSON.parse(e)}catch{return null}}()),o(!0)},[]),{draft:e,hydrated:i,updateDraft:t.useCallback(e=>{n(t=>{let n={...t??{},...e,updatedAt:new Date().toISOString()};try{localStorage.setItem(r,JSON.stringify(n))}catch{}return n})},[])}}e.s(["useLeadDraft",()=>n])},85617,(e,t,r)=>{t.exports=e.r(21383)},61258,e=>{"use strict";var t=e.i(12926),r=e.i(38131),n=e.i(85617),i=e.i(75002),o=e.i(8137),l=e.i(9782),a=e.i(64911),s=e.i(10012),c=e.i(41247);e.i(49389);var m=e.i(18513),d=e.i(89082),u=e.i(44497),h=e.i(22075);let g="prosfin_attribution",x=l.object({fullName:l.string().min(2,"Họ tên cần ít nhất 2 ký tự"),email:l.string().min(1,"Vui lòng nhập email").email("Email không đúng định dạng"),phone:l.string().min(10,"Số điện thoại cần ít nhất 10 số").regex(/^[0-9+\-\s()]+$/,"Số điện thoại không hợp lệ"),concern:l.string().min(1,"Vui lòng nhập vấn đề bạn quan tâm")});function f({mode:e="page",onSubmitted:l}){let f=(0,n.useRouter)(),{draft:p,hydrated:b,updateDraft:j}=(0,h.useLeadDraft)(),{attribution:v}=function(){let[e,t]=r.useState(null),n=r.useCallback(()=>{let e=new URLSearchParams(window.location.search),r=e.get("utm_source")||void 0,n=e.get("utm_medium")||void 0,i=e.get("utm_campaign")||void 0,o=e.get("utm_content")||void 0,l=e.get("utm_term")||void 0,a={landingPath:window.location.pathname,referrer:document.referrer||void 0,utm_source:r,utm_medium:n,utm_campaign:i,utm_content:o,utm_term:l,timestamp:new Date().toISOString()};try{localStorage.setItem(g,JSON.stringify(a)),t(a)}catch(e){console.warn("Failed to save attribution to localStorage:",e)}},[]),i=r.useCallback(()=>{try{let e=localStorage.getItem(g);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to read attribution from localStorage:",e)}return e},[e]);r.useEffect(()=>{n()},[n]);let o=r.useCallback(()=>{try{localStorage.removeItem(g),t(null)}catch(e){console.warn("Failed to clear attribution from localStorage:",e)}},[]);return{attribution:e||i(),captureAttribution:n,getAttribution:i,clearAttribution:o}}(),[F,S]=r.useState(!1),y=(0,i.useForm)({resolver:(0,o.zodResolver)(x),defaultValues:{fullName:"",email:"",phone:"",concern:""}});r.useEffect(()=>{!b||y.formState.isDirty||y.reset({fullName:p?.fullName??"",email:p?.email??"",phone:p?.phone??"",concern:p?.concern??""})},[b]);let w=async e=>{S(!0);try{j(e);let t={...e,attribution:v||void 0};console.log("Lead form submitted with attribution:",t),l?.(),f.push("/onboarding/thanks")}finally{S(!1)}};return(0,t.jsxs)("div",{className:"page"===e?"mx-auto w-full max-w-xl":"w-full",children:[(0,t.jsxs)("div",{className:"mb-6 space-y-2",children:["page"===e?(0,t.jsx)(m.FormTitle,{children:"Gửi thông tin nhanh"}):(0,t.jsx)(u.Text,{as:"p",variant:"large",children:"Gửi thông tin nhanh"}),(0,t.jsx)(u.Text,{as:"p",variant:"muted",children:"Chỉ mất 1–2 phút. ProsFIN sẽ dùng thông tin này để liên hệ và chuẩn bị buổi tư vấn."})]}),(0,t.jsx)(a.Form,{...y,children:(0,t.jsxs)("form",{onSubmit:y.handleSubmit(w),className:"space-y-4",children:[(0,t.jsx)(a.FormField,{control:y.control,name:"fullName",render:({field:e})=>(0,t.jsxs)(a.FormItem,{children:[(0,t.jsx)(a.FormLabel,{children:"Họ tên *"}),(0,t.jsx)(a.FormControl,{children:(0,t.jsx)(s.Input,{placeholder:"Nguyễn Văn A",...e})}),(0,t.jsx)(a.FormMessage,{})]})}),(0,t.jsx)(a.FormField,{control:y.control,name:"email",render:({field:e})=>(0,t.jsxs)(a.FormItem,{children:[(0,t.jsx)(a.FormLabel,{children:"Email *"}),(0,t.jsx)(a.FormControl,{children:(0,t.jsx)(s.Input,{type:"email",placeholder:"email@domain.com",...e})}),(0,t.jsx)(a.FormMessage,{})]})}),(0,t.jsx)(a.FormField,{control:y.control,name:"phone",render:({field:e})=>(0,t.jsxs)(a.FormItem,{children:[(0,t.jsx)(a.FormLabel,{children:"Số điện thoại *"}),(0,t.jsx)(a.FormControl,{children:(0,t.jsx)(s.Input,{placeholder:"090xxxxxxx",...e})}),(0,t.jsx)(a.FormMessage,{})]})}),(0,t.jsx)(a.FormField,{control:y.control,name:"concern",render:({field:e})=>(0,t.jsxs)(a.FormItem,{children:[(0,t.jsx)(a.FormLabel,{children:"Bạn đang lo nhất điều gì? *"}),(0,t.jsx)(a.FormControl,{children:(0,t.jsx)(c.Textarea,{rows:3,placeholder:"Ví dụ: dòng tiền luôn căng, khó kiểm soát chi phí...",...e})}),(0,t.jsx)(a.FormMessage,{})]})}),(0,t.jsx)(d.ProsfinPrimaryButton,{type:"submit",className:"w-full",loading:F,children:"Gửi thông tin nhanh"})]})})]})}e.s(["MiniLeadForm",()=>f],61258)},82836,e=>{"use strict";var t=e.i(12926),r=e.i(42276),n=e.i(61258),i=e.i(43316);function o(){let e,o=(0,r.c)(1);return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("section",{className:"py-12 md:py-20",children:(0,t.jsx)(i.PageContainer,{children:(0,t.jsx)(n.MiniLeadForm,{mode:"page"})})}),o[0]=e):e=o[0],e}e.s(["default",()=>o])}]);