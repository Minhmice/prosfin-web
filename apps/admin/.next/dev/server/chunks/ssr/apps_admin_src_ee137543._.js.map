{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/components/admin/data-table/table-toolbar.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { Input, cn } from \"@prosfin/ui\";\nimport { Search } from \"lucide-react\";\nimport type { TableToolbarProps } from \"./types\";\n\nexport function TableToolbar({\n  searchValue,\n  onSearchChange,\n  searchPlaceholder = \"Search...\",\n  filters,\n  rightActions,\n}: TableToolbarProps) {\n  return (\n    <div className=\"flex items-center justify-between gap-4 py-4\">\n      <div className=\"relative flex-1 max-w-sm\">\n        <Search className=\"text-muted-foreground absolute left-3 top-1/2 size-4 -translate-y-1/2\" />\n        <Input\n          type=\"search\"\n          placeholder={searchPlaceholder}\n          value={searchValue}\n          onChange={(e) => onSearchChange(e.target.value)}\n          className=\"pl-9\"\n        />\n      </div>\n      {filters && <div className=\"flex items-center gap-2\">{filters}</div>}\n      {rightActions && (\n        <div className=\"flex items-center gap-2\">{rightActions}</div>\n      )}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AAJA;;;;AAOO,SAAS,aAAa,EAC3B,WAAW,EACX,cAAc,EACd,oBAAoB,WAAW,EAC/B,OAAO,EACP,YAAY,EACM;IAClB,qBACE,ocAAC;QAAI,WAAU;;0BACb,ocAAC;gBAAI,WAAU;;kCACb,ocAAC,oSAAM;wBAAC,WAAU;;;;;;kCAClB,ocAAC,4JAAK;wBACJ,MAAK;wBACL,aAAa;wBACb,OAAO;wBACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,WAAU;;;;;;;;;;;;YAGb,yBAAW,ocAAC;gBAAI,WAAU;0BAA2B;;;;;;YACrD,8BACC,ocAAC;gBAAI,WAAU;0BAA2B;;;;;;;;;;;;AAIlD"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/components/admin/data-table/table-pagination.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport {\n  ChevronLeft,\n  ChevronRight,\n  ChevronsLeft,\n  ChevronsRight,\n} from \"lucide-react\";\nimport { Button } from \"@prosfin/ui\";\nimport type { Table } from \"@tanstack/react-table\";\n\nexport interface TablePaginationProps<T> {\n  table: Table<T>;\n}\n\nexport function TablePagination<T>({ table }: TablePaginationProps<T>) {\n  // Safely get selected count - may not be available if row selection is disabled\n  let selectedCount = 0;\n  try {\n    selectedCount = table.getFilteredSelectedRowModel?.()?.rows?.length ?? 0;\n  } catch {\n    // Row selection not enabled, default to 0\n    selectedCount = 0;\n  }\n\n  const totalCount = table.getFilteredRowModel()?.rows?.length ?? 0;\n\n  return (\n    <div className=\"flex items-center justify-between px-2 py-4\">\n      <div className=\"text-muted-foreground flex-1 text-sm\">\n        {selectedCount} of {totalCount} row(s) selected.\n      </div>\n      <div className=\"flex items-center gap-2\">\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => table.setPageIndex(0)}\n          disabled={!table.getCanPreviousPage()}\n        >\n          <ChevronsLeft className=\"size-4\" />\n        </Button>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => table.previousPage()}\n          disabled={!table.getCanPreviousPage()}\n        >\n          <ChevronLeft className=\"size-4\" />\n        </Button>\n        <div className=\"text-muted-foreground flex items-center gap-1 text-sm font-medium\">\n          Page {table.getState().pagination.pageIndex + 1} of{\" \"}\n          {table.getPageCount()}\n        </div>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => table.nextPage()}\n          disabled={!table.getCanNextPage()}\n        >\n          <ChevronRight className=\"size-4\" />\n        </Button>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          onClick={() => table.setPageIndex(table.getPageCount() - 1)}\n          disabled={!table.getCanNextPage()}\n        >\n          <ChevronsRight className=\"size-4\" />\n        </Button>\n      </div>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAMA;AAAA;AATA;;;;AAgBO,SAAS,gBAAmB,EAAE,KAAK,EAA2B;IACnE,gFAAgF;IAChF,IAAI,gBAAgB;IACpB,IAAI;QACF,gBAAgB,MAAM,2BAA2B,MAAM,MAAM,UAAU;IACzE,EAAE,OAAM;QACN,0CAA0C;QAC1C,gBAAgB;IAClB;IAEA,MAAM,aAAa,MAAM,mBAAmB,IAAI,MAAM,UAAU;IAEhE,qBACE,ocAAC;QAAI,WAAU;;0BACb,ocAAC;gBAAI,WAAU;;oBACZ;oBAAc;oBAAK;oBAAW;;;;;;;0BAEjC,ocAAC;gBAAI,WAAU;;kCACb,ocAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,MAAM,YAAY,CAAC;wBAClC,UAAU,CAAC,MAAM,kBAAkB;kCAEnC,cAAA,ocAAC,0TAAY;4BAAC,WAAU;;;;;;;;;;;kCAE1B,ocAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,MAAM,YAAY;wBACjC,UAAU,CAAC,MAAM,kBAAkB;kCAEnC,cAAA,ocAAC,uTAAW;4BAAC,WAAU;;;;;;;;;;;kCAEzB,ocAAC;wBAAI,WAAU;;4BAAoE;4BAC3E,MAAM,QAAQ,GAAG,UAAU,CAAC,SAAS,GAAG;4BAAE;4BAAI;4BACnD,MAAM,YAAY;;;;;;;kCAErB,ocAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,MAAM,QAAQ;wBAC7B,UAAU,CAAC,MAAM,cAAc;kCAE/B,cAAA,ocAAC,0TAAY;4BAAC,WAAU;;;;;;;;;;;kCAE1B,ocAAC,8JAAM;wBACL,SAAQ;wBACR,MAAK;wBACL,SAAS,IAAM,MAAM,YAAY,CAAC,MAAM,YAAY,KAAK;wBACzD,UAAU,CAAC,MAAM,cAAc;kCAE/B,cAAA,ocAAC,6TAAa;4BAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;AAKnC"}},
    {"offset": {"line": 217, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/components/admin/data-table/app-data-table.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport {\n  useReactTable,\n  getCoreRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  getSortedRowModel,\n  flexRender,\n  type ColumnDef,\n  RowSelectionState,\n} from \"@tanstack/react-table\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n  AdminSkeleton,\n  AdminEmptyState,\n  Button,\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n  DropdownMenuCheckboxItem,\n  cn,\n} from \"@prosfin/ui\";\nimport { Columns } from \"lucide-react\";\nimport { TableToolbar } from \"./table-toolbar\";\nimport { TablePagination } from \"./table-pagination\";\nimport type { DataTableProps } from \"./types\";\n\nexport function AppDataTable<T>({\n  columns,\n  data,\n  isLoading = false,\n  onRowClick,\n  enableRowSelection = false,\n  onSelectionChange,\n  enablePagination = true,\n  pageSize = 10,\n  searchPlaceholder = \"Search...\",\n  emptyMessage = \"No results found.\",\n  emptyStateTitle,\n  emptyStateDescription,\n}: DataTableProps<T>) {\n  const [searchValue, setSearchValue] = React.useState(\"\");\n  const [globalFilter, setGlobalFilter] = React.useState(\"\");\n  const [columnVisibility, setColumnVisibility] = React.useState<Record<string, boolean>>({});\n  const [rowSelection, setRowSelection] = React.useState<RowSelectionState>({});\n\n  // Debounce search\n  React.useEffect(() => {\n    const timer = setTimeout(() => {\n      setGlobalFilter(searchValue);\n    }, 300);\n    return () => clearTimeout(timer);\n  }, [searchValue]);\n\n  const table = useReactTable({\n    data,\n    columns: columns as ColumnDef<T>[],\n    getCoreRowModel: getCoreRowModel(),\n    getFilteredRowModel: getFilteredRowModel(),\n    getSortedRowModel: getSortedRowModel(),\n    getPaginationRowModel: enablePagination\n      ? getPaginationRowModel()\n      : undefined,\n    initialState: {\n      pagination: {\n        pageSize,\n      },\n    },\n    state: {\n      globalFilter,\n      columnVisibility,\n      rowSelection: enableRowSelection ? rowSelection : undefined,\n    },\n    onGlobalFilterChange: setGlobalFilter,\n    onColumnVisibilityChange: setColumnVisibility,\n    onRowSelectionChange: enableRowSelection ? setRowSelection : undefined,\n    enableRowSelection: enableRowSelection,\n  });\n\n  // Notify parent of selection changes\n  React.useEffect(() => {\n    if (enableRowSelection && onSelectionChange) {\n      const selectedRows = table.getSelectedRowModel().rows.map((row) => row.original);\n      onSelectionChange(selectedRows);\n    }\n  }, [rowSelection, enableRowSelection, onSelectionChange, table]);\n\n  if (isLoading) {\n    return (\n      <div className=\"space-y-4\">\n        <AdminSkeleton variant=\"rectangular\" className=\"h-10 w-full\" />\n        {Array.from({ length: 5 }).map((_, i) => (\n          <AdminSkeleton key={i} variant=\"rectangular\" className=\"h-16 w-full\" />\n        ))}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <TableToolbar\n          searchValue={searchValue}\n          onSearchChange={setSearchValue}\n          searchPlaceholder={searchPlaceholder}\n        />\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"outline\" size=\"sm\">\n              <Columns className=\"mr-2 size-4\" />\n              Columns\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"end\" className=\"w-48\">\n            {table\n              .getAllColumns()\n              .filter((column) => column.getCanHide())\n              .map((column) => (\n                <DropdownMenuCheckboxItem\n                  key={column.id}\n                  checked={column.getIsVisible()}\n                  onCheckedChange={(value) => column.toggleVisibility(!!value)}\n                >\n                  {columns.find((c) => c.id === column.id)?.header || column.id}\n                </DropdownMenuCheckboxItem>\n              ))}\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n      <div className=\"rounded-md border\">\n        <Table>\n          <TableHeader>\n            {table.getHeaderGroups().map((headerGroup) => (\n              <TableRow key={headerGroup.id}>\n                {enableRowSelection && (\n                  <TableHead className=\"w-12\">\n                    <input\n                      type=\"checkbox\"\n                      checked={table.getIsAllPageRowsSelected()}\n                      onChange={table.getToggleAllPageRowsSelectedHandler()}\n                      className=\"size-4 rounded border-input\"\n                    />\n                  </TableHead>\n                )}\n                {headerGroup.headers.map((header) => (\n                  <TableHead key={header.id}>\n                    {header.isPlaceholder\n                      ? null\n                      : flexRender(\n                          header.column.columnDef.header,\n                          header.getContext()\n                        )}\n                  </TableHead>\n                ))}\n              </TableRow>\n            ))}\n          </TableHeader>\n          <TableBody>\n            {table.getRowModel().rows && table.getRowModel().rows.length > 0 ? (\n              table.getRowModel().rows.map((row) => {\n                const isSelected = enableRowSelection ? row.getIsSelected() : false;\n                return (\n                  <TableRow\n                    key={row.id}\n                    data-state={isSelected ? \"selected\" : undefined}\n                    className={cn(\n                      onRowClick && \"cursor-pointer\",\n                      isSelected && \"bg-muted/50\"\n                    )}\n                    onClick={(e) => {\n                      // Don't trigger row click if clicking checkbox\n                      if ((e.target as HTMLElement).closest('input[type=\"checkbox\"]')) {\n                        return;\n                      }\n                      onRowClick?.(row.original);\n                    }}\n                  >\n                    {enableRowSelection && row.getToggleSelectedHandler && (\n                      <TableCell>\n                        <input\n                          type=\"checkbox\"\n                          checked={isSelected}\n                          onChange={row.getToggleSelectedHandler()}\n                          onClick={(e) => e.stopPropagation()}\n                          className=\"size-4 rounded border-input\"\n                        />\n                      </TableCell>\n                    )}\n                    {row.getVisibleCells().map((cell) => (\n                      <TableCell key={cell.id}>\n                        {flexRender(\n                          cell.column.columnDef.cell,\n                          cell.getContext()\n                        )}\n                      </TableCell>\n                    ))}\n                  </TableRow>\n                );\n              })\n            ) : (\n              <TableRow>\n                <TableCell\n                  colSpan={columns.length + (enableRowSelection ? 1 : 0)}\n                  className=\"h-24 text-center\"\n                >\n                  <AdminEmptyState \n                    title={emptyStateTitle || emptyMessage}\n                    description={emptyStateDescription}\n                  />\n                </TableCell>\n              </TableRow>\n            )}\n          </TableBody>\n        </Table>\n      </div>\n      {enablePagination && <TablePagination table={table} />}\n    </div>\n  );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 533, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/components/admin/data-table/table-row-actions.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { MoreHorizontal } from \"lucide-react\";\nimport {\n  Button,\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@prosfin/ui\";\n\nexport interface RowAction<T> {\n  label: string | ((row: T) => string);\n  onClick: (row: T) => void;\n  variant?: \"default\" | \"destructive\";\n}\n\nexport interface TableRowActionsProps<T> {\n  row: T;\n  actions: RowAction<T>[];\n}\n\nexport function TableRowActions<T>({\n  row,\n  actions,\n}: TableRowActionsProps<T>) {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <Button variant=\"ghost\" size=\"icon\" className=\"size-8\">\n          <MoreHorizontal className=\"size-4\" />\n          <span className=\"sr-only\">Open menu</span>\n        </Button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\">\n        {actions.map((action, index) => {\n          const label = typeof action.label === \"function\" ? action.label(row) : action.label;\n          return (\n            <DropdownMenuItem\n              key={index}\n              onClick={() => action.onClick(row)}\n              className={action.variant === \"destructive\" ? \"text-destructive\" : \"\"}\n            >\n              {label}\n            </DropdownMenuItem>\n          );\n        })}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AAAA;AAJA;;;;AAuBO,SAAS,gBAAmB,EACjC,GAAG,EACH,OAAO,EACiB;IACxB,qBACE,ocAAC,8KAAY;;0BACX,ocAAC,qLAAmB;gBAAC,OAAO;0BAC1B,cAAA,ocAAC,8JAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAO,WAAU;;sCAC5C,ocAAC,sTAAc;4BAAC,WAAU;;;;;;sCAC1B,ocAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,ocAAC,qLAAmB;gBAAC,OAAM;0BACxB,QAAQ,GAAG,CAAC,CAAC,QAAQ;oBACpB,MAAM,QAAQ,OAAO,OAAO,KAAK,KAAK,aAAa,OAAO,KAAK,CAAC,OAAO,OAAO,KAAK;oBACnF,qBACE,ocAAC,kLAAgB;wBAEf,SAAS,IAAM,OAAO,OAAO,CAAC;wBAC9B,WAAW,OAAO,OAAO,KAAK,gBAAgB,qBAAqB;kCAElE;uBAJI;;;;;gBAOX;;;;;;;;;;;;AAIR"}},
    {"offset": {"line": 612, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/mocks/leads.ts"],"sourcesContent":["import type { Lead } from \"@/types/admin\";\n\nexport const mockLeads: Lead[] = [\n  {\n    id: \"lead-1\",\n    name: \"Nguyễn Văn A\",\n    company: \"Công ty ABC\",\n    email: \"nguyenvana@example.com\",\n    phone: \"0901234567\",\n    interest: \"Tư vấn tài chính\",\n    status: \"new\",\n    source: \"Google Ads\",\n    utm_campaign: \"summer-2024\",\n    attribution: {\n      landingPath: \"/\",\n      referrer: \"https://google.com\",\n      utm_source: \"google\",\n      utm_medium: \"cpc\",\n      utm_campaign: \"summer-2024\",\n      timestamp: \"2024-01-15T10:30:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-1\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-15T10:30:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-15T10:30:00Z\",\n    updatedAt: \"2024-01-15T10:30:00Z\",\n  },\n  {\n    id: \"lead-2\",\n    name: \"Trần Thị B\",\n    company: \"Studio XYZ\",\n    email: \"tranthib@example.com\",\n    phone: \"0912345678\",\n    interest: \"Báo cáo tài chính\",\n    status: \"contacted\",\n    source: \"Facebook\",\n    utm_campaign: \"fb-q1-2024\",\n    attribution: {\n      landingPath: \"/services\",\n      referrer: \"https://facebook.com\",\n      utm_source: \"facebook\",\n      utm_medium: \"social\",\n      utm_campaign: \"fb-q1-2024\",\n      timestamp: \"2024-01-14T14:20:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-2\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-14T14:20:00Z\",\n      },\n      {\n        id: \"event-3\",\n        type: \"contacted\",\n        title: \"Contacted via email\",\n        timestamp: \"2024-01-14T15:00:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-14T14:20:00Z\",\n    updatedAt: \"2024-01-14T15:00:00Z\",\n  },\n  {\n    id: \"lead-3\",\n    name: \"Lê Văn C\",\n    company: \"Startup Tech\",\n    email: \"levanc@example.com\",\n    phone: \"0923456789\",\n    interest: \"Dòng tiền\",\n    status: \"qualified\",\n    source: \"LinkedIn\",\n    utm_campaign: \"linkedin-b2b\",\n    attribution: {\n      landingPath: \"/contact\",\n      referrer: \"https://linkedin.com\",\n      utm_source: \"linkedin\",\n      utm_medium: \"social\",\n      utm_campaign: \"linkedin-b2b\",\n      timestamp: \"2024-01-13T09:15:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-4\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-13T09:15:00Z\",\n      },\n      {\n        id: \"event-5\",\n        type: \"contacted\",\n        title: \"Contacted via phone\",\n        timestamp: \"2024-01-13T10:00:00Z\",\n      },\n      {\n        id: \"event-6\",\n        type: \"qualified\",\n        title: \"Qualified as hot lead\",\n        timestamp: \"2024-01-13T11:00:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-13T09:15:00Z\",\n    updatedAt: \"2024-01-13T11:00:00Z\",\n  },\n  {\n    id: \"lead-4\",\n    name: \"Phạm Thị D\",\n    company: \"DN Sản xuất\",\n    email: \"phamthid@example.com\",\n    phone: \"0934567890\",\n    interest: \"Kiểm soát chi phí\",\n    status: \"meeting_scheduled\",\n    source: \"Direct\",\n    attribution: {\n      landingPath: \"/\",\n      timestamp: \"2024-01-12T16:45:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-7\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-12T16:45:00Z\",\n      },\n      {\n        id: \"event-8\",\n        type: \"qualified\",\n        title: \"Qualified\",\n        timestamp: \"2024-01-12T17:00:00Z\",\n      },\n      {\n        id: \"event-9\",\n        type: \"meeting\",\n        title: \"Meeting scheduled for Jan 20\",\n        timestamp: \"2024-01-12T17:30:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-12T16:45:00Z\",\n    updatedAt: \"2024-01-12T17:30:00Z\",\n  },\n  {\n    id: \"lead-5\",\n    name: \"Hoàng Văn E\",\n    company: \"Công ty E\",\n    email: \"hoangvane@example.com\",\n    phone: \"0945678901\",\n    interest: \"Tư vấn thuế\",\n    status: \"converted\",\n    source: \"Referral\",\n    attribution: {\n      landingPath: \"/services\",\n      timestamp: \"2024-01-10T11:20:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-10\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-10T11:20:00Z\",\n      },\n      {\n        id: \"event-11\",\n        type: \"converted\",\n        title: \"Converted to client\",\n        timestamp: \"2024-01-11T10:00:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-10T11:20:00Z\",\n    updatedAt: \"2024-01-11T10:00:00Z\",\n  },\n];\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,YAAoB;IAC/B;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,aAAa;YACX,aAAa;YACb,UAAU;YACV,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,aAAa;YACX,aAAa;YACb,UAAU;YACV,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,aAAa;YACX,aAAa;YACb,UAAU;YACV,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,aAAa;YACX,aAAa;YACb,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,aAAa;YACX,aAAa;YACb,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;CACD"}},
    {"offset": {"line": 793, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/lib/data/leads.ts"],"sourcesContent":["import type { Lead, LeadStatus } from \"@/types/admin\";\nimport { mockLeads } from \"@/mocks/leads\";\n\n/**\n * Data adapter cho Leads\n * \n * UI components chỉ import từ đây, không import mocks trực tiếp.\n * Có thể swap sang API calls trong Phase 3.\n */\n\nlet leadsData: Lead[] = [...mockLeads];\n\nexport async function listLeads(): Promise<Lead[]> {\n  // Simulate API delay\n  await new Promise((resolve) => setTimeout(resolve, 100));\n  return [...leadsData];\n}\n\nexport async function getLead(id: string): Promise<Lead | null> {\n  await new Promise((resolve) => setTimeout(resolve, 50));\n  return leadsData.find((lead) => lead.id === id) || null;\n}\n\nexport async function updateLeadStatus(\n  id: string,\n  status: LeadStatus\n): Promise<Lead> {\n  await new Promise((resolve) => setTimeout(resolve, 100));\n  const lead = leadsData.find((l) => l.id === id);\n  if (!lead) {\n    throw new Error(`Lead with id ${id} not found`);\n  }\n  const updated = {\n    ...lead,\n    status,\n    updatedAt: new Date().toISOString(),\n  };\n  leadsData = leadsData.map((l) => (l.id === id ? updated : l));\n  return updated;\n}\n\nexport async function convertLeadToClient(leadId: string): Promise<void> {\n  await new Promise((resolve) => setTimeout(resolve, 100));\n  const lead = leadsData.find((l) => l.id === leadId);\n  if (!lead) {\n    throw new Error(`Lead with id ${leadId} not found`);\n  }\n  // Update lead status to converted\n  await updateLeadStatus(leadId, \"converted\");\n  // In Phase 3, this would create a client record in DB\n}\n\n"],"names":[],"mappings":";;;;;;;;;;AACA;;AAEA;;;;;CAKC,GAED,IAAI,YAAoB;OAAI,mJAAS;CAAC;AAE/B,eAAe;IACpB,qBAAqB;IACrB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,OAAO;WAAI;KAAU;AACvB;AAEO,eAAe,QAAQ,EAAU;IACtC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,OAAO,UAAU,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO;AACrD;AAEO,eAAe,iBACpB,EAAU,EACV,MAAkB;IAElB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,MAAM,OAAO,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5C,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,GAAG,UAAU,CAAC;IAChD;IACA,MAAM,UAAU;QACd,GAAG,IAAI;QACP;QACA,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,YAAY,UAAU,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK,UAAU;IAC1D,OAAO;AACT;AAEO,eAAe,oBAAoB,MAAc;IACtD,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,MAAM,OAAO,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5C,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,OAAO,UAAU,CAAC;IACpD;IACA,kCAAkC;IAClC,MAAM,iBAAiB,QAAQ;AAC/B,sDAAsD;AACxD"}},
    {"offset": {"line": 852, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/app/%28app%29/leads/page.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { format } from \"date-fns\";\nimport { AdminPageShell } from \"@prosfin/ui\";\nimport { AppDataTable } from \"@/components/admin/data-table/app-data-table\";\nimport { TableRowActions, type RowAction } from \"@/components/admin/data-table/table-row-actions\";\nimport { Badge } from \"@prosfin/ui\";\nimport { listLeads, updateLeadStatus } from \"@/lib/data/leads\";\nimport type { Lead } from \"@/types/admin\";\nimport type { DataTableColumn } from \"@/components/admin/data-table/types\";\n\nconst statusColors: Record<Lead[\"status\"], string> = {\n  new: \"bg-blue-100 text-blue-800\",\n  contacted: \"bg-yellow-100 text-yellow-800\",\n  qualified: \"bg-green-100 text-green-800\",\n  meeting_scheduled: \"bg-purple-100 text-purple-800\",\n  converted: \"bg-gray-100 text-gray-800\",\n  lost: \"bg-red-100 text-red-800\",\n};\n\nexport default function LeadsPage() {\n  const [leads, setLeads] = React.useState<Lead[]>([]);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    listLeads().then((data) => {\n      setLeads(data);\n      setIsLoading(false);\n    });\n  }, []);\n\n  const handleStatusChange = async (leadId: string, status: Lead[\"status\"]) => {\n    await updateLeadStatus(leadId, status);\n    setLeads((prev) =>\n      prev.map((lead) => (lead.id === leadId ? { ...lead, status } : lead))\n    );\n  };\n\n  const rowActions: RowAction<Lead>[] = [\n    {\n      label: \"Mark as Contacted\",\n      onClick: (row) => handleStatusChange(row.id, \"contacted\"),\n    },\n    {\n      label: \"Change Status\",\n      onClick: (row) => {\n        // TODO: Open status change dialog\n        console.log(\"Change status for\", row.id);\n      },\n    },\n    {\n      label: \"Convert to Client\",\n      onClick: (row) => {\n        // TODO: Open convert dialog\n        console.log(\"Convert\", row.id);\n      },\n    },\n    {\n      label: \"Export\",\n      onClick: (row) => {\n        // TODO: Export row\n        console.log(\"Export\", row.id);\n      },\n    },\n  ];\n\n  const columns: DataTableColumn<Lead>[] = [\n    {\n      id: \"name\",\n      header: \"Name\",\n      accessorKey: \"name\",\n      enableSorting: true,\n    },\n    {\n      id: \"company\",\n      header: \"Company\",\n      accessorKey: \"company\",\n      enableSorting: true,\n    },\n    {\n      id: \"email\",\n      header: \"Email\",\n      accessorKey: \"email\",\n    },\n    {\n      id: \"phone\",\n      header: \"Phone\",\n      accessorKey: \"phone\",\n    },\n    {\n      id: \"status\",\n      header: \"Status\",\n      accessorKey: \"status\",\n      cell: ({ row }) => (\n        <Badge className={statusColors[row.original.status]}>\n          {row.original.status}\n        </Badge>\n      ),\n    },\n    {\n      id: \"source\",\n      header: \"Source\",\n      accessorKey: \"source\",\n    },\n    {\n      id: \"createdAt\",\n      header: \"Created\",\n      accessorKey: \"createdAt\",\n      cell: ({ row }) =>\n        format(new Date(row.original.createdAt), \"MMM dd, yyyy\"),\n    },\n    {\n      id: \"actions\",\n      header: \"\",\n      cell: ({ row }) => (\n        <TableRowActions row={row.original} actions={rowActions} />\n      ),\n    },\n  ];\n\n  return (\n    <AdminPageShell\n      title=\"Leads\"\n      description=\"Manage and track your leads\"\n    >\n      <AppDataTable\n        columns={columns}\n        data={leads}\n        isLoading={isLoading}\n        searchPlaceholder=\"Search leads...\"\n        emptyMessage=\"No leads found\"\n      />\n    </AdminPageShell>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAYA,MAAM,eAA+C;IACnD,KAAK;IACL,WAAW;IACX,WAAW;IACX,mBAAmB;IACnB,WAAW;IACX,MAAM;AACR;AAEe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,uaAAc,CAAS,EAAE;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,uaAAc,CAAC;IAEjD,waAAe,CAAC;QACd,IAAA,yJAAS,IAAG,IAAI,CAAC,CAAC;YAChB,SAAS;YACT,aAAa;QACf;IACF,GAAG,EAAE;IAEL,MAAM,qBAAqB,OAAO,QAAgB;QAChD,MAAM,IAAA,gKAAgB,EAAC,QAAQ;QAC/B,SAAS,CAAC,OACR,KAAK,GAAG,CAAC,CAAC,OAAU,KAAK,EAAE,KAAK,SAAS;oBAAE,GAAG,IAAI;oBAAE;gBAAO,IAAI;IAEnE;IAEA,MAAM,aAAgC;QACpC;YACE,OAAO;YACP,SAAS,CAAC,MAAQ,mBAAmB,IAAI,EAAE,EAAE;QAC/C;QACA;YACE,OAAO;YACP,SAAS,CAAC;gBACR,kCAAkC;gBAClC,QAAQ,GAAG,CAAC,qBAAqB,IAAI,EAAE;YACzC;QACF;QACA;YACE,OAAO;YACP,SAAS,CAAC;gBACR,4BAA4B;gBAC5B,QAAQ,GAAG,CAAC,WAAW,IAAI,EAAE;YAC/B;QACF;QACA;YACE,OAAO;YACP,SAAS,CAAC;gBACR,mBAAmB;gBACnB,QAAQ,GAAG,CAAC,UAAU,IAAI,EAAE;YAC9B;QACF;KACD;IAED,MAAM,UAAmC;QACvC;YACE,IAAI;YACJ,QAAQ;YACR,aAAa;YACb,eAAe;QACjB;QACA;YACE,IAAI;YACJ,QAAQ;YACR,aAAa;YACb,eAAe;QACjB;QACA;YACE,IAAI;YACJ,QAAQ;YACR,aAAa;QACf;QACA;YACE,IAAI;YACJ,QAAQ;YACR,aAAa;QACf;QACA;YACE,IAAI;YACJ,QAAQ;YACR,aAAa;YACb,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,ocAAC,4JAAK;oBAAC,WAAW,YAAY,CAAC,IAAI,QAAQ,CAAC,MAAM,CAAC;8BAChD,IAAI,QAAQ,CAAC,MAAM;;;;;;QAG1B;QACA;YACE,IAAI;YACJ,QAAQ;YACR,aAAa;QACf;QACA;YACE,IAAI;YACJ,QAAQ;YACR,aAAa;YACb,MAAM,CAAC,EAAE,GAAG,EAAE,GACZ,IAAA,wNAAM,EAAC,IAAI,KAAK,IAAI,QAAQ,CAAC,SAAS,GAAG;QAC7C;QACA;YACE,IAAI;YACJ,QAAQ;YACR,MAAM,CAAC,EAAE,GAAG,EAAE,iBACZ,ocAAC,2MAAe;oBAAC,KAAK,IAAI,QAAQ;oBAAE,SAAS;;;;;;QAEjD;KACD;IAED,qBACE,ocAAC,yLAAc;QACb,OAAM;QACN,aAAY;kBAEZ,cAAA,ocAAC,qMAAY;YACX,SAAS;YACT,MAAM;YACN,WAAW;YACX,mBAAkB;YAClB,cAAa;;;;;;;;;;;AAIrB"}}]
}