{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/mocks/leads.ts"],"sourcesContent":["import type { Lead } from \"@/types/admin\";\n\nexport const mockLeads: Lead[] = [\n  {\n    id: \"lead-1\",\n    name: \"Nguyễn Văn A\",\n    company: \"Công ty ABC\",\n    email: \"nguyenvana@example.com\",\n    phone: \"0901234567\",\n    interest: \"Tư vấn tài chính\",\n    status: \"new\",\n    source: \"Google Ads\",\n    utm_campaign: \"summer-2024\",\n    attribution: {\n      landingPath: \"/\",\n      referrer: \"https://google.com\",\n      utm_source: \"google\",\n      utm_medium: \"cpc\",\n      utm_campaign: \"summer-2024\",\n      timestamp: \"2024-01-15T10:30:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-1\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-15T10:30:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-15T10:30:00Z\",\n    updatedAt: \"2024-01-15T10:30:00Z\",\n  },\n  {\n    id: \"lead-2\",\n    name: \"Trần Thị B\",\n    company: \"Studio XYZ\",\n    email: \"tranthib@example.com\",\n    phone: \"0912345678\",\n    interest: \"Báo cáo tài chính\",\n    status: \"contacted\",\n    source: \"Facebook\",\n    utm_campaign: \"fb-q1-2024\",\n    attribution: {\n      landingPath: \"/services\",\n      referrer: \"https://facebook.com\",\n      utm_source: \"facebook\",\n      utm_medium: \"social\",\n      utm_campaign: \"fb-q1-2024\",\n      timestamp: \"2024-01-14T14:20:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-2\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-14T14:20:00Z\",\n      },\n      {\n        id: \"event-3\",\n        type: \"contacted\",\n        title: \"Contacted via email\",\n        timestamp: \"2024-01-14T15:00:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-14T14:20:00Z\",\n    updatedAt: \"2024-01-14T15:00:00Z\",\n  },\n  {\n    id: \"lead-3\",\n    name: \"Lê Văn C\",\n    company: \"Startup Tech\",\n    email: \"levanc@example.com\",\n    phone: \"0923456789\",\n    interest: \"Dòng tiền\",\n    status: \"qualified\",\n    source: \"LinkedIn\",\n    utm_campaign: \"linkedin-b2b\",\n    attribution: {\n      landingPath: \"/contact\",\n      referrer: \"https://linkedin.com\",\n      utm_source: \"linkedin\",\n      utm_medium: \"social\",\n      utm_campaign: \"linkedin-b2b\",\n      timestamp: \"2024-01-13T09:15:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-4\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-13T09:15:00Z\",\n      },\n      {\n        id: \"event-5\",\n        type: \"contacted\",\n        title: \"Contacted via phone\",\n        timestamp: \"2024-01-13T10:00:00Z\",\n      },\n      {\n        id: \"event-6\",\n        type: \"qualified\",\n        title: \"Qualified as hot lead\",\n        timestamp: \"2024-01-13T11:00:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-13T09:15:00Z\",\n    updatedAt: \"2024-01-13T11:00:00Z\",\n  },\n  {\n    id: \"lead-4\",\n    name: \"Phạm Thị D\",\n    company: \"DN Sản xuất\",\n    email: \"phamthid@example.com\",\n    phone: \"0934567890\",\n    interest: \"Kiểm soát chi phí\",\n    status: \"meeting_scheduled\",\n    source: \"Direct\",\n    attribution: {\n      landingPath: \"/\",\n      timestamp: \"2024-01-12T16:45:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-7\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-12T16:45:00Z\",\n      },\n      {\n        id: \"event-8\",\n        type: \"qualified\",\n        title: \"Qualified\",\n        timestamp: \"2024-01-12T17:00:00Z\",\n      },\n      {\n        id: \"event-9\",\n        type: \"meeting\",\n        title: \"Meeting scheduled for Jan 20\",\n        timestamp: \"2024-01-12T17:30:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-12T16:45:00Z\",\n    updatedAt: \"2024-01-12T17:30:00Z\",\n  },\n  {\n    id: \"lead-5\",\n    name: \"Hoàng Văn E\",\n    company: \"Công ty E\",\n    email: \"hoangvane@example.com\",\n    phone: \"0945678901\",\n    interest: \"Tư vấn thuế\",\n    status: \"converted\",\n    source: \"Referral\",\n    attribution: {\n      landingPath: \"/services\",\n      timestamp: \"2024-01-10T11:20:00Z\",\n    },\n    timeline: [\n      {\n        id: \"event-10\",\n        type: \"submitted\",\n        title: \"Form submitted\",\n        timestamp: \"2024-01-10T11:20:00Z\",\n      },\n      {\n        id: \"event-11\",\n        type: \"converted\",\n        title: \"Converted to client\",\n        timestamp: \"2024-01-11T10:00:00Z\",\n      },\n    ],\n    createdAt: \"2024-01-10T11:20:00Z\",\n    updatedAt: \"2024-01-11T10:00:00Z\",\n  },\n];\n\n"],"names":[],"mappings":";;;;AAEO,MAAM,YAAoB;IAC/B;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,aAAa;YACX,aAAa;YACb,UAAU;YACV,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,aAAa;YACX,aAAa;YACb,UAAU;YACV,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,cAAc;QACd,aAAa;YACX,aAAa;YACb,UAAU;YACV,YAAY;YACZ,YAAY;YACZ,cAAc;YACd,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,aAAa;YACX,aAAa;YACb,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;IACA;QACE,IAAI;QACJ,MAAM;QACN,SAAS;QACT,OAAO;QACP,OAAO;QACP,UAAU;QACV,QAAQ;QACR,QAAQ;QACR,aAAa;YACX,aAAa;YACb,WAAW;QACb;QACA,UAAU;YACR;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;YACA;gBACE,IAAI;gBACJ,MAAM;gBACN,OAAO;gBACP,WAAW;YACb;SACD;QACD,WAAW;QACX,WAAW;IACb;CACD"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/lib/data/leads.ts"],"sourcesContent":["import type { Lead, LeadStatus } from \"@/types/admin\";\nimport { mockLeads } from \"@/mocks/leads\";\n\n/**\n * Data adapter cho Leads\n * \n * UI components chỉ import từ đây, không import mocks trực tiếp.\n * Có thể swap sang API calls trong Phase 3.\n */\n\nlet leadsData: Lead[] = [...mockLeads];\n\nexport async function listLeads(): Promise<Lead[]> {\n  // Simulate API delay\n  await new Promise((resolve) => setTimeout(resolve, 100));\n  return [...leadsData];\n}\n\nexport async function getLead(id: string): Promise<Lead | null> {\n  await new Promise((resolve) => setTimeout(resolve, 50));\n  return leadsData.find((lead) => lead.id === id) || null;\n}\n\nexport async function updateLeadStatus(\n  id: string,\n  status: LeadStatus\n): Promise<Lead> {\n  await new Promise((resolve) => setTimeout(resolve, 100));\n  const lead = leadsData.find((l) => l.id === id);\n  if (!lead) {\n    throw new Error(`Lead with id ${id} not found`);\n  }\n  const updated = {\n    ...lead,\n    status,\n    updatedAt: new Date().toISOString(),\n  };\n  leadsData = leadsData.map((l) => (l.id === id ? updated : l));\n  return updated;\n}\n\nexport async function convertLeadToClient(leadId: string): Promise<void> {\n  await new Promise((resolve) => setTimeout(resolve, 100));\n  const lead = leadsData.find((l) => l.id === leadId);\n  if (!lead) {\n    throw new Error(`Lead with id ${leadId} not found`);\n  }\n  // Update lead status to converted\n  await updateLeadStatus(leadId, \"converted\");\n  // In Phase 3, this would create a client record in DB\n}\n\n"],"names":[],"mappings":";;;;;;;;;;AACA;;AAEA;;;;;CAKC,GAED,IAAI,YAAoB;OAAI,mJAAS;CAAC;AAE/B,eAAe;IACpB,qBAAqB;IACrB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,OAAO;WAAI;KAAU;AACvB;AAEO,eAAe,QAAQ,EAAU;IACtC,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,OAAO,UAAU,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK,OAAO;AACrD;AAEO,eAAe,iBACpB,EAAU,EACV,MAAkB;IAElB,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,MAAM,OAAO,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5C,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,GAAG,UAAU,CAAC;IAChD;IACA,MAAM,UAAU;QACd,GAAG,IAAI;QACP;QACA,WAAW,IAAI,OAAO,WAAW;IACnC;IACA,YAAY,UAAU,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,KAAK,UAAU;IAC1D,OAAO;AACT;AAEO,eAAe,oBAAoB,MAAc;IACtD,MAAM,IAAI,QAAQ,CAAC,UAAY,WAAW,SAAS;IACnD,MAAM,OAAO,UAAU,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK;IAC5C,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM,CAAC,aAAa,EAAE,OAAO,UAAU,CAAC;IACpD;IACA,kCAAkC;IAClC,MAAM,iBAAiB,QAAQ;AAC/B,sDAAsD;AACxD"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/app/%28app%29/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { AdminPageShell, AdminSectionCard } from \"@prosfin/ui\";\nimport { listLeads } from \"@/lib/data/leads\";\n\nexport default function DashboardPage() {\n  const [stats, setStats] = React.useState({\n    leadsThisWeek: 0,\n    conversionRate: 0,\n    topSource: \"-\",\n    pipeline: 0,\n  });\n\n  React.useEffect(() => {\n    listLeads().then((leads) => {\n      const weekAgo = new Date();\n      weekAgo.setDate(weekAgo.getDate() - 7);\n      const leadsThisWeek = leads.filter(\n        (lead) => new Date(lead.createdAt) >= weekAgo\n      ).length;\n\n      const converted = leads.filter((l) => l.status === \"converted\").length;\n      const conversionRate = leads.length > 0 ? (converted / leads.length) * 100 : 0;\n\n      const sourceCounts: Record<string, number> = {};\n      leads.forEach((lead) => {\n        sourceCounts[lead.source] = (sourceCounts[lead.source] || 0) + 1;\n      });\n      const topSource =\n        Object.entries(sourceCounts).sort((a, b) => b[1] - a[1])[0]?.[0] || \"-\";\n\n      setStats({\n        leadsThisWeek,\n        conversionRate: Math.round(conversionRate * 10) / 10,\n        topSource,\n        pipeline: leads.filter((l) => l.status === \"qualified\" || l.status === \"meeting_scheduled\").length,\n      });\n    });\n  }, []);\n\n  return (\n    <AdminPageShell\n      title=\"Dashboard\"\n      description=\"Overview of your business metrics\"\n    >\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\n        <AdminSectionCard title=\"Leads This Week\">\n          <div className=\"text-2xl font-bold\">{stats.leadsThisWeek}</div>\n          <p className=\"text-muted-foreground text-xs\">New leads</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Conversion Rate\">\n          <div className=\"text-2xl font-bold\">{stats.conversionRate}%</div>\n          <p className=\"text-muted-foreground text-xs\">Last 30 days</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Top Source\">\n          <div className=\"text-2xl font-bold\">{stats.topSource}</div>\n          <p className=\"text-muted-foreground text-xs\">Most effective</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Pipeline\">\n          <div className=\"text-2xl font-bold\">{stats.pipeline}</div>\n          <p className=\"text-muted-foreground text-xs\">Active deals</p>\n        </AdminSectionCard>\n      </div>\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        <AdminSectionCard title=\"Leads Over Time\">\n          <div className=\"flex h-64 items-center justify-center text-muted-foreground\">\n            Chart placeholder\n          </div>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Source Distribution\">\n          <div className=\"flex h-64 items-center justify-center text-muted-foreground\">\n            Chart placeholder\n          </div>\n        </AdminSectionCard>\n      </div>\n    </AdminPageShell>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,uaAAc,CAAC;QACvC,eAAe;QACf,gBAAgB;QAChB,WAAW;QACX,UAAU;IACZ;IAEA,waAAe,CAAC;QACd,IAAA,yJAAS,IAAG,IAAI,CAAC,CAAC;YAChB,MAAM,UAAU,IAAI;YACpB,QAAQ,OAAO,CAAC,QAAQ,OAAO,KAAK;YACpC,MAAM,gBAAgB,MAAM,MAAM,CAChC,CAAC,OAAS,IAAI,KAAK,KAAK,SAAS,KAAK,SACtC,MAAM;YAER,MAAM,YAAY,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,aAAa,MAAM;YACtE,MAAM,iBAAiB,MAAM,MAAM,GAAG,IAAI,AAAC,YAAY,MAAM,MAAM,GAAI,MAAM;YAE7E,MAAM,eAAuC,CAAC;YAC9C,MAAM,OAAO,CAAC,CAAC;gBACb,YAAY,CAAC,KAAK,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI;YACjE;YACA,MAAM,YACJ,OAAO,OAAO,CAAC,cAAc,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI;YAEtE,SAAS;gBACP;gBACA,gBAAgB,KAAK,KAAK,CAAC,iBAAiB,MAAM;gBAClD;gBACA,UAAU,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,eAAe,EAAE,MAAM,KAAK,qBAAqB,MAAM;YACpG;QACF;IACF,GAAG,EAAE;IAEL,qBACE,ocAAC,yLAAc;QACb,OAAM;QACN,aAAY;;0BAEZ,ocAAC;gBAAI,WAAU;;kCACb,ocAAC,6LAAgB;wBAAC,OAAM;;0CACtB,ocAAC;gCAAI,WAAU;0CAAsB,MAAM,aAAa;;;;;;0CACxD,ocAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAE/C,ocAAC,6LAAgB;wBAAC,OAAM;;0CACtB,ocAAC;gCAAI,WAAU;;oCAAsB,MAAM,cAAc;oCAAC;;;;;;;0CAC1D,ocAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAE/C,ocAAC,6LAAgB;wBAAC,OAAM;;0CACtB,ocAAC;gCAAI,WAAU;0CAAsB,MAAM,SAAS;;;;;;0CACpD,ocAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAE/C,ocAAC,6LAAgB;wBAAC,OAAM;;0CACtB,ocAAC;gCAAI,WAAU;0CAAsB,MAAM,QAAQ;;;;;;0CACnD,ocAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;;;;;;;0BAGjD,ocAAC;gBAAI,WAAU;;kCACb,ocAAC,6LAAgB;wBAAC,OAAM;kCACtB,cAAA,ocAAC;4BAAI,WAAU;sCAA8D;;;;;;;;;;;kCAI/E,ocAAC,6LAAgB;wBAAC,OAAM;kCACtB,cAAA,ocAAC;4BAAI,WAAU;sCAA8D;;;;;;;;;;;;;;;;;;;;;;;AAOvF"}}]
}