{"version":3,"sources":["../../../../../../apps/web/src/components/content/post-renderer.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\n/**\r\n * Lexical editor state type (matches admin app type)\r\n */\r\ntype LexicalEditorState = {\r\n  root: {\r\n    children: Array<Record<string, any>>;\r\n    direction: \"ltr\" | \"rtl\" | null;\r\n    format: string;\r\n    indent: number;\r\n    type: \"root\";\r\n    version: number;\r\n  };\r\n};\r\n\r\n// Ensure JSX namespace is available\r\ndeclare global {\r\n  namespace JSX {\r\n    interface IntrinsicElements {\r\n      [elemName: string]: any;\r\n    }\r\n  }\r\n}\r\n\r\ninterface PostRendererProps {\r\n  content: LexicalEditorState;\r\n}\r\n\r\n/**\r\n * Render Lexical editor state as React components\r\n */\r\nexport function PostRenderer({ content }: PostRendererProps) {\r\n  const renderNode = (node: any, index: number): React.ReactNode => {\r\n    if (!node || typeof node !== \"object\") return null;\r\n\r\n    const { type, children, text, format, ...props } = node;\r\n\r\n    // Text node\r\n    if (type === \"text\") {\r\n      let className = \"\";\r\n      if (format & 1) className += \"font-bold \"; // bold\r\n      if (format & 2) className += \"italic \"; // italic\r\n      if (format & 4) className += \"underline \"; // underline\r\n\r\n      return (\r\n        <span key={index} className={className}>\r\n          {text}\r\n        </span>\r\n      );\r\n    }\r\n\r\n    // Paragraph\r\n    if (type === \"paragraph\") {\r\n      return (\r\n        <p key={index} className=\"mb-4\">\r\n          {children?.map((child: any, i: number) => renderNode(child, i))}\r\n        </p>\r\n      );\r\n    }\r\n\r\n    // Headings\r\n    if (type === \"heading\") {\r\n      const tag = props.tag || \"h1\";\r\n      const headingClasses = {\r\n        h1: \"text-4xl font-bold mb-4 mt-8\",\r\n        h2: \"text-3xl font-bold mb-3 mt-6\",\r\n        h3: \"text-2xl font-bold mb-2 mt-4\",\r\n      };\r\n      const className = headingClasses[tag as keyof typeof headingClasses] || headingClasses.h1;\r\n      const content = children?.map((child: any, i: number) => renderNode(child, i));\r\n      \r\n      if (tag === \"h1\") {\r\n        return <h1 key={index} className={className}>{content}</h1>;\r\n      } else if (tag === \"h2\") {\r\n        return <h2 key={index} className={className}>{content}</h2>;\r\n      } else if (tag === \"h3\") {\r\n        return <h3 key={index} className={className}>{content}</h3>;\r\n      }\r\n      return <h1 key={index} className={className}>{content}</h1>;\r\n    }\r\n\r\n    // Quote\r\n    if (type === \"quote\") {\r\n      return (\r\n        <blockquote key={index} className=\"border-l-4 border-gray-300 pl-4 italic my-4\">\r\n          {children?.map((child: any, i: number) => renderNode(child, i))}\r\n        </blockquote>\r\n      );\r\n    }\r\n\r\n    // List\r\n    if (type === \"list\") {\r\n      const Tag = props.listType === \"number\" ? \"ol\" : \"ul\";\r\n      const listClasses = props.listType === \"number\" ? \"list-decimal ml-6 my-2\" : \"list-disc ml-6 my-2\";\r\n      return (\r\n        <Tag key={index} className={listClasses}>\r\n          {children?.map((child: any, i: number) => renderNode(child, i))}\r\n        </Tag>\r\n      );\r\n    }\r\n\r\n    // List item\r\n    if (type === \"listitem\") {\r\n      return (\r\n        <li key={index} className=\"my-1\">\r\n          {children?.map((child: any, i: number) => renderNode(child, i))}\r\n        </li>\r\n      );\r\n    }\r\n\r\n    // Link\r\n    if (type === \"link\") {\r\n      return (\r\n        <a\r\n          key={index}\r\n          href={props.url}\r\n          target={props.target || \"_self\"}\r\n          rel={props.target === \"_blank\" ? \"noopener noreferrer\" : undefined}\r\n          className=\"text-blue-600 underline hover:text-blue-800\"\r\n        >\r\n          {children?.map((child: any, i: number) => renderNode(child, i))}\r\n        </a>\r\n      );\r\n    }\r\n\r\n    // Default: render children\r\n    if (children) {\r\n      return (\r\n        <div key={index}>\r\n          {children.map((child: any, i: number) => renderNode(child, i))}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  if (!content?.root?.children) {\r\n    return <p className=\"text-muted-foreground\">No content</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"prose prose-lg max-w-none\">\r\n      {content.root.children.map((child: any, index: number) => renderNode(child, index))}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"wDAkCO,SAAS,EAAa,SAAE,CAAO,CAAqB,EACzD,IAAM,EAAa,CAAC,EAAW,KAC7B,GAAI,CAAC,GAAwB,UAAhB,OAAO,EAAmB,OAAO,KAE9C,GAAM,MAAE,CAAI,UAAE,CAAQ,MAAE,CAAI,CAAE,QAAM,CAAE,GAAG,EAAO,CAAG,EAGnD,GAAa,SAAT,EAAiB,CACnB,IAAI,EAAY,GAKhB,OAJa,EAAT,IAAY,GAAa,YAAA,EAChB,CAD8B,CACvC,IAAY,EADkC,CACrB,SAAA,EACzB,AAAS,CAD2B,KACxB,GAAa,CADoB,WACpB,EAG3B,CAHyC,AAGzC,EAAA,EAAA,GAAA,EAAC,GAHoD,IAGpD,CAAiB,UAAW,WAC1B,GADQ,EAIf,CAGA,GAAa,aAAa,CAAtB,EACF,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAc,UAAU,gBACtB,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KADtD,GAOZ,GAAa,YAAT,EAAoB,CACtB,IAAM,EAAM,EAAM,GAAG,EAAI,KACnB,EAAiB,CACrB,GAAI,+BACJ,GAAI,+BACJ,GAAI,8BACN,EACM,EAAY,CAAc,CAAC,EAAmC,EAAI,EAAe,EAAE,CACnF,EAAU,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,IAE3E,GAAY,MAAM,CAAd,QAEG,GAAY,MAAM,CAAd,EACT,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAe,UAAW,WAAY,GAA9B,QACX,GAAY,MAAM,CAAd,EACT,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAe,UAAW,WAAY,GAA9B,GAElB,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAe,UAAW,WAAY,GAA9B,EAClB,CAGA,GAAa,SAAS,CAAlB,EACF,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,aAAA,CAAuB,UAAU,uDAC/B,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KAD7C,GAOrB,GAAa,SAAT,EAAiB,CACnB,IAAM,EAAyB,WAAnB,EAAM,QAAQ,CAAgB,KAAO,KAC3C,EAAiC,WAAnB,EAAM,QAAQ,CAAgB,yBAA2B,sBAC7E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAgB,UAAW,WACzB,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KADpD,EAId,OAGA,AAAa,YAAY,CAArB,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAe,UAAU,gBACvB,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KADrD,GAOA,QAAQ,CAAjB,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAEC,KAAM,EAAM,GAAG,CACf,OAAQ,EAAM,MAAM,EAAI,QACxB,IAAsB,WAAjB,EAAM,MAAM,CAAgB,2BAAwB,EACzD,UAAU,uDAET,GAAU,IAAI,CAAC,EAAY,IAAc,EAAW,EAAO,KANvD,GAYP,EAEA,CAAA,EAAA,EAAA,GAFU,AAEV,EAAC,MAAA,UACE,EAAS,GAAG,CAAC,CAAC,EAAY,IAAc,EAAW,EAAO,KADnD,GAMP,IACT,SAEA,AAAK,GAAS,CAAV,KAAgB,SAKlB,CAL4B,AAK5B,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qCACZ,EAAQ,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAY,IAAkB,EAAW,EAAO,MALvE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,cAQhD"}