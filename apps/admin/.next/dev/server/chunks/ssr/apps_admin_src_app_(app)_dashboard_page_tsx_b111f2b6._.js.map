{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/chuthanhhuong/Desktop/prosfin-web/apps/admin/src/app/%28app%29/dashboard/page.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { AdminPageShell, AdminSectionCard } from \"@prosfin/ui\";\nimport { listLeads } from \"@/lib/data/leads\";\n\nexport default function DashboardPage() {\n  const [stats, setStats] = React.useState({\n    leadsThisWeek: 0,\n    conversionRate: 0,\n    topSource: \"-\",\n    pipeline: 0,\n  });\n\n  React.useEffect(() => {\n    listLeads().then((leads) => {\n      const weekAgo = new Date();\n      weekAgo.setDate(weekAgo.getDate() - 7);\n      const leadsThisWeek = leads.filter(\n        (lead) => new Date(lead.createdAt) >= weekAgo\n      ).length;\n\n      const converted = leads.filter((l) => l.status === \"converted\").length;\n      const conversionRate = leads.length > 0 ? (converted / leads.length) * 100 : 0;\n\n      const sourceCounts: Record<string, number> = {};\n      leads.forEach((lead) => {\n        sourceCounts[lead.source] = (sourceCounts[lead.source] || 0) + 1;\n      });\n      const topSource =\n        Object.entries(sourceCounts).sort((a, b) => b[1] - a[1])[0]?.[0] || \"-\";\n\n      setStats({\n        leadsThisWeek,\n        conversionRate: Math.round(conversionRate * 10) / 10,\n        topSource,\n        pipeline: leads.filter((l) => l.status === \"qualified\" || l.status === \"meeting_scheduled\").length,\n      });\n    });\n  }, []);\n\n  return (\n    <AdminPageShell\n      title=\"Dashboard\"\n      description=\"Overview of your business metrics\"\n    >\n      <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-4\">\n        <AdminSectionCard title=\"Leads This Week\">\n          <div className=\"text-2xl font-bold\">{stats.leadsThisWeek}</div>\n          <p className=\"text-muted-foreground text-xs\">New leads</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Conversion Rate\">\n          <div className=\"text-2xl font-bold\">{stats.conversionRate}%</div>\n          <p className=\"text-muted-foreground text-xs\">Last 30 days</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Top Source\">\n          <div className=\"text-2xl font-bold\">{stats.topSource}</div>\n          <p className=\"text-muted-foreground text-xs\">Most effective</p>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Pipeline\">\n          <div className=\"text-2xl font-bold\">{stats.pipeline}</div>\n          <p className=\"text-muted-foreground text-xs\">Active deals</p>\n        </AdminSectionCard>\n      </div>\n      <div className=\"grid gap-6 md:grid-cols-2\">\n        <AdminSectionCard title=\"Leads Over Time\">\n          <div className=\"flex h-64 items-center justify-center text-muted-foreground\">\n            Chart placeholder\n          </div>\n        </AdminSectionCard>\n        <AdminSectionCard title=\"Source Distribution\">\n          <div className=\"flex h-64 items-center justify-center text-muted-foreground\">\n            Chart placeholder\n          </div>\n        </AdminSectionCard>\n      </div>\n    </AdminPageShell>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,uaAAc,CAAC;QACvC,eAAe;QACf,gBAAgB;QAChB,WAAW;QACX,UAAU;IACZ;IAEA,waAAe,CAAC;QACd,IAAA,yJAAS,IAAG,IAAI,CAAC,CAAC;YAChB,MAAM,UAAU,IAAI;YACpB,QAAQ,OAAO,CAAC,QAAQ,OAAO,KAAK;YACpC,MAAM,gBAAgB,MAAM,MAAM,CAChC,CAAC,OAAS,IAAI,KAAK,KAAK,SAAS,KAAK,SACtC,MAAM;YAER,MAAM,YAAY,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,aAAa,MAAM;YACtE,MAAM,iBAAiB,MAAM,MAAM,GAAG,IAAI,AAAC,YAAY,MAAM,MAAM,GAAI,MAAM;YAE7E,MAAM,eAAuC,CAAC;YAC9C,MAAM,OAAO,CAAC,CAAC;gBACb,YAAY,CAAC,KAAK,MAAM,CAAC,GAAG,CAAC,YAAY,CAAC,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI;YACjE;YACA,MAAM,YACJ,OAAO,OAAO,CAAC,cAAc,IAAI,CAAC,CAAC,GAAG,IAAM,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC,EAAE,IAAI;YAEtE,SAAS;gBACP;gBACA,gBAAgB,KAAK,KAAK,CAAC,iBAAiB,MAAM;gBAClD;gBACA,UAAU,MAAM,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,KAAK,eAAe,EAAE,MAAM,KAAK,qBAAqB,MAAM;YACpG;QACF;IACF,GAAG,EAAE;IAEL,qBACE,ocAAC,yLAAc;QACb,OAAM;QACN,aAAY;;0BAEZ,ocAAC;gBAAI,WAAU;;kCACb,ocAAC,6LAAgB;wBAAC,OAAM;;0CACtB,ocAAC;gCAAI,WAAU;0CAAsB,MAAM,aAAa;;;;;;0CACxD,ocAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAE/C,ocAAC,6LAAgB;wBAAC,OAAM;;0CACtB,ocAAC;gCAAI,WAAU;;oCAAsB,MAAM,cAAc;oCAAC;;;;;;;0CAC1D,ocAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAE/C,ocAAC,6LAAgB;wBAAC,OAAM;;0CACtB,ocAAC;gCAAI,WAAU;0CAAsB,MAAM,SAAS;;;;;;0CACpD,ocAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;kCAE/C,ocAAC,6LAAgB;wBAAC,OAAM;;0CACtB,ocAAC;gCAAI,WAAU;0CAAsB,MAAM,QAAQ;;;;;;0CACnD,ocAAC;gCAAE,WAAU;0CAAgC;;;;;;;;;;;;;;;;;;0BAGjD,ocAAC;gBAAI,WAAU;;kCACb,ocAAC,6LAAgB;wBAAC,OAAM;kCACtB,cAAA,ocAAC;4BAAI,WAAU;sCAA8D;;;;;;;;;;;kCAI/E,ocAAC,6LAAgB;wBAAC,OAAM;kCACtB,cAAA,ocAAC;4BAAI,WAAU;sCAA8D;;;;;;;;;;;;;;;;;;;;;;;AAOvF"}}]
}