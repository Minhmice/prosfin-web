{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/admin/data-table/table-toolbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Input, cn } from \"@prosfin/ui\";\r\nimport { Search } from \"lucide-react\";\r\nimport type { TableToolbarProps } from \"./types\";\r\n\r\nexport function TableToolbar({\r\n  searchValue,\r\n  onSearchChange,\r\n  searchPlaceholder = \"Search...\",\r\n  filters,\r\n  rightActions,\r\n}: TableToolbarProps) {\r\n  return (\r\n    <div className=\"flex items-center justify-between gap-4 py-4\">\r\n      <div className=\"relative flex-1 max-w-sm\">\r\n        <Search className=\"text-muted-foreground absolute left-3 top-1/2 size-4 -translate-y-1/2\" />\r\n        <Input\r\n          type=\"search\"\r\n          placeholder={searchPlaceholder}\r\n          value={searchValue}\r\n          onChange={(e) => onSearchChange(e.target.value)}\r\n          className=\"pl-9\"\r\n        />\r\n      </div>\r\n      <div className=\"flex items-center gap-2\">\r\n        {filters && <div className=\"flex items-center gap-2\">{filters}</div>}\r\n        {rightActions && (\r\n          <div className=\"flex items-center gap-2\">{rightActions}</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","Input","cn","Search","TableToolbarProps","TableToolbar","t0","$","$i","Symbol","for","searchValue","onSearchChange","searchPlaceholder","t1","filters","rightActions","undefined","t2","t3","e","target","value","t4","t5","t6","t7","t8"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 161, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/admin/data-table/table-pagination.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport {\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  ChevronsLeft,\r\n  ChevronsRight,\r\n} from \"lucide-react\";\r\nimport { Button } from \"@prosfin/ui\";\r\nimport type { Table } from \"@tanstack/react-table\";\r\n\r\nexport interface TablePaginationProps<T> {\r\n  table: Table<T>;\r\n}\r\n\r\nexport function TablePagination<T>({ table }: TablePaginationProps<T>) {\r\n  // Safely get selected count - may not be available if row selection is disabled\r\n  let selectedCount = 0;\r\n  try {\r\n    const selectedModel = table.getFilteredSelectedRowModel?.();\r\n    if (selectedModel && (selectedModel.rows || selectedModel.flatRows)) {\r\n      selectedCount = (selectedModel.rows || selectedModel.flatRows)?.length ?? 0;\r\n    }\r\n  } catch {\r\n    // Row selection not enabled, default to 0\r\n    selectedCount = 0;\r\n  }\r\n\r\n  // Safely get total count\r\n  let totalCount = 0;\r\n  try {\r\n    const filteredModel = table.getFilteredRowModel();\r\n    if (filteredModel && (filteredModel.rows || filteredModel.flatRows)) {\r\n      totalCount = (filteredModel.rows || filteredModel.flatRows)?.length ?? 0;\r\n    }\r\n  } catch {\r\n    totalCount = 0;\r\n  }\r\n\r\n  // Safely get pagination state\r\n  let paginationState: any = null;\r\n  try {\r\n    const state = table.getState?.();\r\n    paginationState = state?.pagination;\r\n  } catch {\r\n    // Pagination state not available\r\n  }\r\n  \r\n  const pageIndex = paginationState?.pageIndex ?? 0;\r\n  const pageSize = paginationState?.pageSize ?? 10;\r\n  \r\n  let pageCount = 1;\r\n  try {\r\n    pageCount = table.getPageCount?.() ?? 1;\r\n  } catch {\r\n    // Page count not available\r\n  }\r\n  \r\n  let canPreviousPage = false;\r\n  let canNextPage = false;\r\n  try {\r\n    canPreviousPage = table.getCanPreviousPage?.() ?? false;\r\n    canNextPage = table.getCanNextPage?.() ?? false;\r\n  } catch {\r\n    // Navigation state not available\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between px-2 py-4\">\r\n      <div className=\"text-muted-foreground flex-1 text-sm\">\r\n        {selectedCount} of {totalCount} row(s) selected.\r\n      </div>\r\n      <div className=\"flex items-center gap-2\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => table.setPageIndex?.(0)}\r\n          disabled={!canPreviousPage}\r\n        >\r\n          <ChevronsLeft className=\"size-4\" />\r\n        </Button>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => table.previousPage?.()}\r\n          disabled={!canPreviousPage}\r\n        >\r\n          <ChevronLeft className=\"size-4\" />\r\n        </Button>\r\n        <div className=\"text-muted-foreground flex items-center gap-1 text-sm font-medium\">\r\n          Page {pageIndex + 1} of {pageCount}\r\n        </div>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => table.nextPage?.()}\r\n          disabled={!canNextPage}\r\n        >\r\n          <ChevronRight className=\"size-4\" />\r\n        </Button>\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={() => table.setPageIndex?.(pageCount - 1)}\r\n          disabled={!canNextPage}\r\n        >\r\n          <ChevronsRight className=\"size-4\" />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["React","ChevronLeft","ChevronRight","ChevronsLeft","ChevronsRight","Button","Table","TablePaginationProps","table","T","TablePagination","selectedCount","selectedModel","getFilteredSelectedRowModel","rows","flatRows","length","totalCount","filteredModel","getFilteredRowModel","paginationState","state","getState","pagination","pageIndex","pageSize","pageCount","getPageCount","canPreviousPage","canNextPage","getCanPreviousPage","getCanNextPage","setPageIndex","previousPage","nextPage"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 345, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/admin/data-table/app-data-table.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport {\r\n  useReactTable,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getPaginationRowModel,\r\n  getSortedRowModel,\r\n  flexRender,\r\n  type ColumnDef,\r\n  RowSelectionState,\r\n} from \"@tanstack/react-table\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n  AdminSkeleton,\r\n  AdminEmptyState,\r\n  Button,\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuCheckboxItem,\r\n  cn,\r\n} from \"@prosfin/ui\";\r\nimport { Columns } from \"lucide-react\";\r\nimport { TableToolbar } from \"./table-toolbar\";\r\nimport { TablePagination } from \"./table-pagination\";\r\nimport type { DataTableProps } from \"./types\";\r\n\r\nexport function AppDataTable<T>({\r\n  columns,\r\n  data,\r\n  isLoading = false,\r\n  onRowClick,\r\n  enableRowSelection = false,\r\n  onSelectionChange,\r\n  enablePagination = true,\r\n  pageSize = 10,\r\n  searchPlaceholder = \"Search...\",\r\n  emptyMessage = \"No results found.\",\r\n  emptyStateTitle,\r\n  emptyStateDescription,\r\n  // Controlled props for URL state sync\r\n  searchValue: controlledSearchValue,\r\n  onSearchChange: controlledOnSearchChange,\r\n  pageIndex: controlledPageIndex,\r\n  onPageChange: controlledOnPageChange,\r\n  // Toolbar actions\r\n  toolbarRightActions,\r\n  filters,\r\n}: DataTableProps<T>) {\r\n  // Use controlled or internal state\r\n  const [internalSearchValue, setInternalSearchValue] = React.useState(\"\");\r\n  const searchValue = controlledSearchValue ?? internalSearchValue;\r\n  const setSearchValue = controlledOnSearchChange ?? setInternalSearchValue;\r\n  \r\n  const [globalFilter, setGlobalFilter] = React.useState(\"\");\r\n  const [columnVisibility, setColumnVisibility] = React.useState<Record<string, boolean>>({});\r\n  const [rowSelection, setRowSelection] = React.useState<RowSelectionState>({});\r\n\r\n  // Debounce search (only if not controlled)\r\n  React.useEffect(() => {\r\n    if (controlledSearchValue !== undefined) {\r\n      // If controlled, update globalFilter immediately\r\n      setGlobalFilter(controlledSearchValue);\r\n      return;\r\n    }\r\n    // Otherwise, debounce\r\n    const timer = setTimeout(() => {\r\n      setGlobalFilter(searchValue);\r\n    }, 300);\r\n    return () => clearTimeout(timer);\r\n  }, [searchValue, controlledSearchValue]);\r\n\r\n  // Ensure data is always an array\r\n  const safeData = Array.isArray(data) ? data : [];\r\n\r\n  const table = useReactTable({\r\n    data: safeData,\r\n    columns: columns as ColumnDef<T>[],\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getPaginationRowModel: enablePagination\r\n      ? getPaginationRowModel()\r\n      : undefined,\r\n    initialState: {\r\n      pagination: {\r\n        pageSize,\r\n        pageIndex: controlledPageIndex ?? 0,\r\n      },\r\n    },\r\n    state: {\r\n      globalFilter,\r\n      columnVisibility,\r\n      rowSelection: enableRowSelection ? rowSelection : undefined,\r\n      // Always provide pagination state to avoid undefined errors\r\n      pagination: {\r\n        pageIndex: controlledPageIndex ?? 0,\r\n        pageSize,\r\n      },\r\n    },\r\n    onGlobalFilterChange: setGlobalFilter,\r\n    onColumnVisibilityChange: setColumnVisibility,\r\n    onRowSelectionChange: enableRowSelection ? setRowSelection : undefined,\r\n    onPaginationChange: controlledOnPageChange\r\n      ? (updater) => {\r\n          const newPageIndex =\r\n            typeof updater === \"function\"\r\n              ? updater({ pageIndex: controlledPageIndex ?? 0, pageSize }).pageIndex ?? 0\r\n              : updater.pageIndex ?? 0;\r\n          controlledOnPageChange(newPageIndex);\r\n        }\r\n      : undefined,\r\n    enableRowSelection: enableRowSelection,\r\n  });\r\n\r\n  // Notify parent of selection changes\r\n  React.useEffect(() => {\r\n    if (enableRowSelection && onSelectionChange) {\r\n      try {\r\n        const selectedModel = table.getSelectedRowModel?.();\r\n        if (selectedModel && (selectedModel.rows || selectedModel.flatRows)) {\r\n          const rows = selectedModel.rows || selectedModel.flatRows || [];\r\n          const selectedRows = rows.map((row: any) => row.original);\r\n          onSelectionChange(selectedRows);\r\n        }\r\n      } catch {\r\n        // Row selection not available, ignore\r\n      }\r\n    }\r\n  }, [rowSelection, enableRowSelection, onSelectionChange, table]);\r\n\r\n  if (isLoading || !safeData || safeData.length === 0) {\r\n    // Show loading state or empty state\r\n    if (isLoading) {\r\n      return (\r\n        <div className=\"space-y-4\">\r\n          <AdminSkeleton variant=\"rectangular\" className=\"h-10 w-full\" />\r\n          {Array.from({ length: 5 }).map((_, i) => (\r\n            <AdminSkeleton key={i} variant=\"rectangular\" className=\"h-16 w-full\" />\r\n          ))}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  \r\n  // Ensure table is ready\r\n  if (!table || typeof table.getRowModel !== 'function') {\r\n    return (\r\n      <div className=\"space-y-4\">\r\n        <AdminSkeleton variant=\"rectangular\" className=\"h-10 w-full\" />\r\n        <div className=\"rounded-md border p-4 text-center text-muted-foreground\">\r\n          Initializing table...\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <TableToolbar\r\n          searchValue={searchValue}\r\n          onSearchChange={setSearchValue}\r\n          searchPlaceholder={searchPlaceholder}\r\n          filters={filters}\r\n          rightActions={toolbarRightActions}\r\n        />\r\n        <DropdownMenu>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"outline\" size=\"sm\" suppressHydrationWarning>\r\n              <Columns className=\"mr-2 size-4\" />\r\n              Columns\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\" className=\"w-48\">\r\n            {(() => {\r\n              try {\r\n                const allColumns = table.getAllColumns?.() || [];\r\n                return allColumns\r\n                  .filter((column) => column.getCanHide?.())\r\n                  .map((column) => (\r\n                    <DropdownMenuCheckboxItem\r\n                      key={column.id}\r\n                      checked={column.getIsVisible?.() ?? false}\r\n                      onCheckedChange={(value) => column.toggleVisibility?.(!!value)}\r\n                    >\r\n                      {columns.find((c) => c.id === column.id)?.header || column.id}\r\n                    </DropdownMenuCheckboxItem>\r\n                  ));\r\n              } catch {\r\n                return null;\r\n              }\r\n            })()}\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n      </div>\r\n      <div className=\"rounded-md border\">\r\n        <Table>\r\n          <TableHeader>\r\n            {(() => {\r\n              try {\r\n                const headerGroups = table.getHeaderGroups?.() || [];\r\n                return headerGroups.map((headerGroup) => (\r\n                  <TableRow key={headerGroup.id}>\r\n                    {enableRowSelection && (\r\n                      <TableHead className=\"w-12\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          checked={table.getIsAllPageRowsSelected()}\r\n                          onChange={table.getToggleAllPageRowsSelectedHandler()}\r\n                          className=\"size-4 rounded border-input\"\r\n                        />\r\n                      </TableHead>\r\n                    )}\r\n                    {headerGroup.headers.map((header) => (\r\n                      <TableHead key={header.id}>\r\n                        {header.isPlaceholder\r\n                          ? null\r\n                          : flexRender(\r\n                              header.column.columnDef.header,\r\n                              header.getContext()\r\n                            )}\r\n                      </TableHead>\r\n                    ))}\r\n                  </TableRow>\r\n                ));\r\n              } catch {\r\n                return null;\r\n              }\r\n            })()}\r\n          </TableHeader>\r\n          <TableBody>\r\n            {(() => {\r\n              try {\r\n                if (!table || typeof table.getRowModel !== 'function') {\r\n                  return null;\r\n                }\r\n                \r\n                const rowModel = table.getRowModel();\r\n                if (!rowModel) {\r\n                  return null;\r\n                }\r\n                \r\n                // Use rows property, fallback to empty array\r\n                let rows: any[] = [];\r\n                if (rowModel.rows && Array.isArray(rowModel.rows)) {\r\n                  rows = rowModel.rows;\r\n                } else if (rowModel.flatRows && Array.isArray(rowModel.flatRows)) {\r\n                  rows = rowModel.flatRows;\r\n                }\r\n                \r\n                if (rows.length > 0) {\r\n                  return rows\r\n                    .filter((row) => row != null) // Filter out null/undefined rows\r\n                    .map((row: any) => {\r\n                    const isSelected = enableRowSelection ? row.getIsSelected?.() : false;\r\n                    return (\r\n                      <TableRow\r\n                        key={row.id}\r\n                        data-state={isSelected ? \"selected\" : undefined}\r\n                        className={cn(\r\n                          onRowClick && \"cursor-pointer\",\r\n                          isSelected && \"bg-muted/50\"\r\n                        )}\r\n                        onClick={(e) => {\r\n                          // Don't trigger row click if clicking checkbox\r\n                          if ((e.target as HTMLElement).closest('input[type=\"checkbox\"]')) {\r\n                            return;\r\n                          }\r\n                          onRowClick?.(row.original);\r\n                        }}\r\n                      >\r\n                        {enableRowSelection && row.getToggleSelectedHandler && (\r\n                          <TableCell>\r\n                            <input\r\n                              type=\"checkbox\"\r\n                              checked={isSelected}\r\n                              onChange={row.getToggleSelectedHandler()}\r\n                              onClick={(e) => e.stopPropagation()}\r\n                              className=\"size-4 rounded border-input\"\r\n                            />\r\n                          </TableCell>\r\n                        )}\r\n                        {row.getVisibleCells?.()?.map((cell: any) => (\r\n                          <TableCell key={cell.id}>\r\n                            {flexRender(\r\n                              cell.column.columnDef.cell,\r\n                              cell.getContext()\r\n                            )}\r\n                          </TableCell>\r\n                        ))}\r\n                      </TableRow>\r\n                    );\r\n                  });\r\n                }\r\n              } catch {\r\n                // Failed to render rows, show empty state\r\n              }\r\n              return (\r\n                <TableRow>\r\n                  <TableCell\r\n                    colSpan={columns.length + (enableRowSelection ? 1 : 0)}\r\n                    className=\"h-24 text-center\"\r\n                  >\r\n                    <AdminEmptyState \r\n                      title={emptyStateTitle || emptyMessage}\r\n                      description={emptyStateDescription}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              );\r\n            })()}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n      {enablePagination && <TablePagination table={table} />}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["React","useReactTable","getCoreRowModel","getFilteredRowModel","getPaginationRowModel","getSortedRowModel","flexRender","ColumnDef","RowSelectionState","Table","TableBody","TableCell","TableHead","TableHeader","TableRow","AdminSkeleton","AdminEmptyState","Button","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuTrigger","DropdownMenuCheckboxItem","cn","Columns","TableToolbar","TablePagination","DataTableProps","AppDataTable","columns","data","isLoading","onRowClick","enableRowSelection","onSelectionChange","enablePagination","pageSize","searchPlaceholder","emptyMessage","emptyStateTitle","emptyStateDescription","searchValue","controlledSearchValue","onSearchChange","controlledOnSearchChange","pageIndex","controlledPageIndex","onPageChange","controlledOnPageChange","toolbarRightActions","filters","T","internalSearchValue","setInternalSearchValue","useState","setSearchValue","globalFilter","setGlobalFilter","columnVisibility","setColumnVisibility","Record","rowSelection","setRowSelection","useEffect","undefined","timer","setTimeout","clearTimeout","safeData","Array","isArray","table","initialState","pagination","state","onGlobalFilterChange","onColumnVisibilityChange","onRowSelectionChange","onPaginationChange","updater","newPageIndex","selectedModel","getSelectedRowModel","rows","flatRows","selectedRows","map","row","original","length","from","_","i","getRowModel","allColumns","getAllColumns","filter","column","getCanHide","id","getIsVisible","value","toggleVisibility","find","c","header","headerGroups","getHeaderGroups","headerGroup","getIsAllPageRowsSelected","getToggleAllPageRowsSelectedHandler","headers","isPlaceholder","columnDef","getContext","rowModel","isSelected","getIsSelected","e","target","HTMLElement","closest","getToggleSelectedHandler","stopPropagation","getVisibleCells","cell"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 793, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/admin/data-table/table-row-actions.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { MoreHorizontal } from \"lucide-react\";\r\nimport {\r\n  Button,\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@prosfin/ui\";\r\n\r\nexport interface RowAction<T> {\r\n  label: string | ((row: T) => string);\r\n  onClick: (row: T) => void;\r\n  variant?: \"default\" | \"destructive\";\r\n}\r\n\r\nexport interface TableRowActionsProps<T> {\r\n  row: T;\r\n  actions: RowAction<T>[];\r\n}\r\n\r\nexport function TableRowActions<T>({\r\n  row,\r\n  actions,\r\n}: TableRowActionsProps<T>) {\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"ghost\" size=\"icon\" className=\"size-8\" suppressHydrationWarning>\r\n          <MoreHorizontal className=\"size-4\" />\r\n          <span className=\"sr-only\">Open menu</span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\">\r\n        {actions.map((action, index) => {\r\n          const label = typeof action.label === \"function\" ? action.label(row) : action.label;\r\n          return (\r\n            <DropdownMenuItem\r\n              key={index}\r\n              onClick={() => action.onClick(row)}\r\n              className={action.variant === \"destructive\" ? \"text-destructive\" : \"\"}\r\n            >\r\n              {label}\r\n            </DropdownMenuItem>\r\n          );\r\n        })}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","MoreHorizontal","Button","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuTrigger","RowAction","label","row","T","onClick","variant","TableRowActionsProps","actions","TableRowActions","t0","$","$i","Symbol","for","t1","t2","t3","TableRowActions[actions.map()]","action","index","TableRowActions[actions.map() > <DropdownMenuItem>.onClick]","map"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 925, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/hooks/use-url-state.ts"],"sourcesContent":["/**\r\n * URL State Management Hook\r\n * \r\n * Syncs component state with URL searchParams for deep-linkable state.\r\n * Supports debounce for search inputs and replace vs push for history.\r\n */\r\n\r\n\"use client\";\r\n\r\nimport { useSearchParams, useRouter, usePathname } from \"next/navigation\";\r\nimport { useCallback, useEffect, useRef } from \"react\";\r\n\r\ninterface UseUrlStateOptions {\r\n  replace?: boolean; // Use router.replace vs router.push\r\n  debounce?: number; // Debounce delay in ms (for search inputs)\r\n}\r\n\r\n/**\r\n * Hook to sync state with URL searchParams\r\n * \r\n * @param key - URL search param key\r\n * @param defaultValue - Default value if not in URL\r\n * @param options - Configuration options\r\n * @returns [value, setValue] tuple\r\n */\r\nexport function useUrlState<T extends string | number | boolean>(\r\n  key: string,\r\n  defaultValue: T,\r\n  options?: UseUrlStateOptions\r\n): [T, (value: T) => void] {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Parse value from URL\r\n  const urlValue = searchParams.get(key);\r\n  const value: T = urlValue\r\n    ? (parseValue(urlValue, defaultValue) as T)\r\n    : defaultValue;\r\n\r\n  // Update URL with new value\r\n  const setValue = useCallback(\r\n    (newValue: T) => {\r\n      // Don't update if value hasn't changed\r\n      const currentValue = urlValue ? (parseValue(urlValue, defaultValue) as T) : defaultValue;\r\n      if (currentValue === newValue) {\r\n        return;\r\n      }\r\n\r\n      // Clear existing debounce timer\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      const updateUrl = () => {\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        \r\n        // Remove param if value equals default\r\n        if (newValue === defaultValue) {\r\n          params.delete(key);\r\n        } else {\r\n          params.set(key, String(newValue));\r\n        }\r\n\r\n        const queryString = params.toString();\r\n        const url = queryString ? `${pathname}?${queryString}` : pathname;\r\n        const method = options?.replace ? router.replace : router.push;\r\n        method(url);\r\n      };\r\n\r\n      // Apply debounce if specified\r\n      if (options?.debounce && options.debounce > 0) {\r\n        debounceTimerRef.current = setTimeout(updateUrl, options.debounce);\r\n      } else {\r\n        updateUrl();\r\n      }\r\n    },\r\n    [key, defaultValue, urlValue, searchParams, pathname, router, options]\r\n  );\r\n\r\n  // Cleanup debounce timer on unmount\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return [value, setValue];\r\n}\r\n\r\n/**\r\n * Parse string value to appropriate type based on default value\r\n */\r\nfunction parseValue(value: string, defaultValue: string | number | boolean): string | number | boolean {\r\n  if (typeof defaultValue === \"number\") {\r\n    const parsed = Number(value);\r\n    return isNaN(parsed) ? defaultValue : parsed;\r\n  }\r\n  if (typeof defaultValue === \"boolean\") {\r\n    return value === \"true\";\r\n  }\r\n  return value;\r\n}\r\n\r\n/**\r\n * Hook for array values (e.g., multiple filters)\r\n */\r\nexport function useUrlStateArray(\r\n  key: string,\r\n  defaultValue: string[] = [],\r\n  options?: UseUrlStateOptions\r\n): [string[], (value: string[]) => void] {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  const debounceTimerRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Parse array from URL (comma-separated)\r\n  const urlValue = searchParams.get(key);\r\n  const value: string[] = urlValue\r\n    ? urlValue.split(\",\").filter(Boolean)\r\n    : defaultValue;\r\n\r\n  const setValue = useCallback(\r\n    (newValue: string[]) => {\r\n      // Don't update if value hasn't changed\r\n      const currentValue = urlValue ? urlValue.split(\",\").filter(Boolean) : defaultValue;\r\n      if (JSON.stringify(currentValue) === JSON.stringify(newValue)) {\r\n        return;\r\n      }\r\n\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n\r\n      const updateUrl = () => {\r\n        const params = new URLSearchParams(searchParams.toString());\r\n        \r\n        if (newValue.length === 0 || JSON.stringify(newValue) === JSON.stringify(defaultValue)) {\r\n          params.delete(key);\r\n        } else {\r\n          params.set(key, newValue.join(\",\"));\r\n        }\r\n\r\n        const queryString = params.toString();\r\n        const url = queryString ? `${pathname}?${queryString}` : pathname;\r\n        const method = options?.replace ? router.replace : router.push;\r\n        method(url);\r\n      };\r\n\r\n      if (options?.debounce && options.debounce > 0) {\r\n        debounceTimerRef.current = setTimeout(updateUrl, options.debounce);\r\n      } else {\r\n        updateUrl();\r\n      }\r\n    },\r\n    [key, defaultValue, urlValue, searchParams, pathname, router, options]\r\n  );\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (debounceTimerRef.current) {\r\n        clearTimeout(debounceTimerRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return [value, setValue];\r\n}\r\n\r\n"],"names":["c","_c","useSearchParams","useRouter","usePathname","useCallback","useEffect","useRef","UseUrlStateOptions","replace","debounce","useUrlState","key","defaultValue","options","$","$i","Symbol","for","searchParams","router","pathname","debounceTimerRef","t0","urlValue","get","parseValue","T","value","t1","newValue","currentValue","current","clearTimeout","updateUrl","useUrlState[setValue > updateUrl]","params","URLSearchParams","toString","delete","set","String","queryString","url","method","push","setTimeout","setValue","t2","t3","useUrlState[useEffect()]","t4","parsed","Number","isNaN","useUrlStateArray","undefined","split","filter","Boolean","JSON","stringify","useUrlStateArray[setValue > updateUrl]","length","join","t5","useUrlStateArray[useEffect()]","t6"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1194, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/lib/toast.ts"],"sourcesContent":["/**\r\n * Toast utilities wrapper\r\n * \r\n * Centralized toast notifications using Sonner.\r\n * Provides consistent API for success, error, info, and promise toasts.\r\n */\r\n\r\nimport { toast } from \"sonner\";\r\n\r\nexport const showToast = {\r\n  success: (message: string) => {\r\n    toast.success(message);\r\n  },\r\n  error: (message: string) => {\r\n    toast.error(message);\r\n  },\r\n  info: (message: string) => {\r\n    toast.info(message);\r\n  },\r\n  promise: <T,>(\r\n    promise: Promise<T>,\r\n    messages: { loading: string; success: string; error: string }\r\n  ) => {\r\n    return toast.promise(promise, messages);\r\n  },\r\n};\r\n\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AAED;;AAEO,MAAM,YAAY;IACvB,SAAS,CAAC;QACR,oRAAK,CAAC,OAAO,CAAC;IAChB;IACA,OAAO,CAAC;QACN,oRAAK,CAAC,KAAK,CAAC;IACd;IACA,MAAM,CAAC;QACL,oRAAK,CAAC,IAAI,CAAC;IACb;IACA,SAAS,CACP,SACA;QAEA,OAAO,oRAAK,CAAC,OAAO,CAAC,SAAS;IAChC;AACF"}},
    {"offset": {"line": 1226, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/inline-status-edit.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Badge, DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@prosfin/ui\";\r\nimport { ChevronDown } from \"lucide-react\";\r\nimport type { Lead, LeadStatus } from \"@/types/admin\";\r\nimport { updateLeadStatus } from \"@/lib/data/leads\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface InlineStatusEditProps {\r\n  lead: Lead;\r\n  onUpdate: (leadId: string, status: LeadStatus) => void;\r\n}\r\n\r\nconst statusColors: Record<LeadStatus, string> = {\r\n  new: \"bg-blue-100 text-blue-800\",\r\n  contacted: \"bg-yellow-100 text-yellow-800\",\r\n  qualified: \"bg-green-100 text-green-800\",\r\n  meeting_scheduled: \"bg-purple-100 text-purple-800\",\r\n  converted: \"bg-gray-100 text-gray-800\",\r\n  lost: \"bg-red-100 text-red-800\",\r\n};\r\n\r\nconst statusOptions: { value: LeadStatus; label: string }[] = [\r\n  { value: \"new\", label: \"New\" },\r\n  { value: \"contacted\", label: \"Contacted\" },\r\n  { value: \"qualified\", label: \"Qualified\" },\r\n  { value: \"meeting_scheduled\", label: \"Meeting Scheduled\" },\r\n  { value: \"converted\", label: \"Converted\" },\r\n  { value: \"lost\", label: \"Lost\" },\r\n];\r\n\r\nexport function InlineStatusEdit({ lead, onUpdate }: InlineStatusEditProps) {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n  const handleStatusChange = async (newStatus: LeadStatus) => {\r\n    if (newStatus === lead.status) {\r\n      setIsOpen(false);\r\n      return;\r\n    }\r\n\r\n    // Optimistic update\r\n    onUpdate(lead.id, newStatus);\r\n\r\n    try {\r\n      await updateLeadStatus(lead.id, newStatus);\r\n      showToast.success(`Status updated to ${newStatus}`);\r\n    } catch (error) {\r\n      // Revert on error\r\n      onUpdate(lead.id, lead.status);\r\n      showToast.error(\"Failed to update status\");\r\n    }\r\n\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\r\n      <DropdownMenuTrigger asChild>\r\n        <button className=\"flex items-center gap-1 hover:opacity-80 transition-opacity\" suppressHydrationWarning>\r\n          <Badge className={statusColors[lead.status]}>\r\n            {lead.status}\r\n          </Badge>\r\n          <ChevronDown className=\"size-3 text-muted-foreground\" />\r\n        </button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"start\">\r\n        {statusOptions.map((option) => (\r\n          <DropdownMenuItem\r\n            key={option.value}\r\n            onClick={() => handleStatusChange(option.value)}\r\n            className={option.value === lead.status ? \"bg-muted\" : \"\"}\r\n          >\r\n            {option.label}\r\n          </DropdownMenuItem>\r\n        ))}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","Badge","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuTrigger","ChevronDown","Lead","LeadStatus","updateLeadStatus","showToast","InlineStatusEditProps","lead","onUpdate","leadId","status","statusColors","Record","new","contacted","qualified","meeting_scheduled","converted","lost","statusOptions","value","label","InlineStatusEdit","t0","$","$i","Symbol","for","isOpen","setIsOpen","useState","t1","id","newStatus","success","t2","error","handleStatusChange","t3","t4","t5","t6","map","option","InlineStatusEdit[statusOptions.map() > <DropdownMenuItem>.onClick]","t7","t8"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1447, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/inline-owner-edit.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@prosfin/ui\";\r\nimport { ChevronDown, User } from \"lucide-react\";\r\nimport type { Lead } from \"@/types/admin\";\r\nimport { updateLeadOwner } from \"@/lib/data/leads\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface InlineOwnerEditProps {\r\n  lead: Lead;\r\n  onUpdate: (leadId: string, owner: string | undefined) => void;\r\n}\r\n\r\nconst ownerOptions = [\"You\", \"Admin\", \"Editor A\", \"Editor B\"];\r\n\r\nexport function InlineOwnerEdit({ lead, onUpdate }: InlineOwnerEditProps) {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n\r\n  const handleOwnerChange = async (newOwner: string | undefined) => {\r\n    if (newOwner === lead.owner) {\r\n      setIsOpen(false);\r\n      return;\r\n    }\r\n\r\n    // Optimistic update\r\n    onUpdate(lead.id, newOwner);\r\n\r\n    try {\r\n      await updateLeadOwner(lead.id, newOwner);\r\n      showToast.success(newOwner ? `Assigned to ${newOwner}` : \"Unassigned\");\r\n    } catch (error) {\r\n      // Revert on error\r\n      onUpdate(lead.id, lead.owner);\r\n      showToast.error(\"Failed to update owner\");\r\n    }\r\n\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <DropdownMenu open={isOpen} onOpenChange={setIsOpen}>\r\n      <DropdownMenuTrigger asChild>\r\n        <button className=\"flex items-center gap-1 hover:opacity-80 transition-opacity text-sm\" suppressHydrationWarning>\r\n          {lead.owner ? (\r\n            <>\r\n              <User className=\"size-3\" />\r\n              <span>{lead.owner}</span>\r\n            </>\r\n          ) : (\r\n            <span className=\"text-muted-foreground\">Unassigned</span>\r\n          )}\r\n          <ChevronDown className=\"size-3 text-muted-foreground\" />\r\n        </button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"start\">\r\n        <DropdownMenuItem onClick={() => handleOwnerChange(undefined)}>\r\n          <span className=\"text-muted-foreground\">Unassigned</span>\r\n        </DropdownMenuItem>\r\n        {ownerOptions.map((owner) => (\r\n          <DropdownMenuItem\r\n            key={owner}\r\n            onClick={() => handleOwnerChange(owner)}\r\n            className={owner === lead.owner ? \"bg-muted\" : \"\"}\r\n          >\r\n            {owner}\r\n          </DropdownMenuItem>\r\n        ))}\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":["React","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuTrigger","ChevronDown","User","Lead","updateLeadOwner","showToast","InlineOwnerEditProps","lead","onUpdate","leadId","owner","ownerOptions","InlineOwnerEdit","isOpen","setIsOpen","useState","handleOwnerChange","newOwner","id","success","error","undefined","map"],"mappings":";;;;;AAEA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,YAAY,EAAEC,mBAAmB,EAAEC,gBAAgB,EAAEC,mBAAmB,QAAQ,aAAa;;;AACtG,SAASC,WAAW,EAAEC,IAAI,QAAQ,cAAc;AAEhD,SAASE,eAAe,QAAQ,kBAAkB;AAClD,SAASC,SAAS,QAAQ,aAAa;;;AAPvC,YAAY;;;;;;AAcZ,MAAMM,YAAY,GAAG;IAAC,KAAK;IAAE,OAAO;IAAE,UAAU;IAAE,UAAU;CAAC;AAEtD,yBAAyB,EAAEJ,IAAI,EAAEC,QAAAA,EAAgC,EAAE;;IACxE,MAAM,CAACK,MAAM,EAAEC,SAAS,CAAC,GAAGlB,KAAK,CAACmB,kRAAQ,CAAC,KAAK,CAAC;IAEjD,MAAMC,iBAAiB,GAAG,MAAAA,CAAOC,QAAQ,EAAE,MAAM,GAAG,SAAS,KAAK;QAChE,IAAIA,QAAQ,KAAKV,IAAI,CAACG,KAAK,EAAE;YAC3BI,SAAS,CAAC,KAAK,CAAC;YAChB;QACF;QAEA,oBAAA;QACAN,QAAQ,CAACD,IAAI,CAACW,EAAE,EAAED,QAAQ,CAAC;QAE3B,IAAI;YACF,MAAMb,sKAAe,EAACG,IAAI,CAACW,EAAE,EAAED,QAAQ,CAAC;YACxCZ,oJAAS,CAACc,OAAO,CAACF,QAAQ,GAAG,CAAA,YAAA,EAAeA,QAAQ,EAAE,GAAG,YAAY,CAAC;QACxE,CAAC,CAAC,OAAOG,KAAK,EAAE;YACd,kBAAA;YACAZ,QAAQ,CAACD,IAAI,CAACW,EAAE,EAAEX,IAAI,CAACG,KAAK,CAAC;YAC7BL,oJAAS,CAACe,KAAK,CAAC,wBAAwB,CAAC;QAC3C;QAEAN,SAAS,CAAC,KAAK,CAAC;IAClB,CAAC;IAED,qBACE,4SAAC,iLAAY;QAAC,IAAI,CAAC,CAACD,MAAM,CAAC;QAAC,YAAY,CAAC,CAACC,SAAS,CAAC,CAAC;;0BACnD,4SAAC,wLAAmB;gBAAC,OAAO,CAAC;wCAC3B,4SAAC,MAAM;oBAAC,SAAS,EAAC,qEAAqE;oBAAC,wBAAwB,CAAC;;wBAC9GP,IAAI,CAACG,KAAK,iBACT,EAAE;;8CACA,4SAAC,iSAAI;oCAAC,SAAS,EAAC,QAAQ,GAAG;;;;;;8CAC3B,4SAAC,IAAI,CAAC;8CAACH,IAAI,CAACG,KAAK,CAAC,EAAE,IAAI,CAAC;;;;;;;yDAG3B,4SAAC,IAAI;4BAAC,SAAS,EAAC,uBAAuB;sCAAC,UAAU,EAAE,IAAI,CACzD,CAAC;;;;;;sCACF,4SAAC,0TAAW;4BAAC,SAAS,EAAC,8BAA8B,GAAG;;;;;;;;;;;;;;;;;0BAG5D,4SAAC,wLAAmB;gBAAC,KAAK,EAAC,OAAO,CAAC;;kCACjC,4SAAC,qLAAgB;wBAAC,OAAO,CAAC,CAAC,IAAMM,iBAAiB,CAACK,SAAS,CAAC,CAAC,CAAC;gDAC7D,4SAAC,IAAI;4BAAC,SAAS,EAAC,uBAAuB;sCAAC,UAAU,EAAE,IAAI,CAAC;;;;;;;;;;;oBAE1DV,YAAY,CAACW,GAAG,CAAEZ,KAAK,kBACtB,4SAAC,qLAAgB,CACf,GAAG,CAAC;4BACJ,OAAO,CAAC,CAAC,IAAMM,iBAAiB,CAACN,KAAK,CAAC,CAAC;4BACxC,SAAS,CAAC,CAACA,KAAK,KAAKH,IAAI,CAACG,KAAK,GAAG,UAAU,GAAG,EAAE,CAAC,CACnD;sCACEA,KAAK,CAAC;2BAJFA,KAAK,CAAC;;;;;;;;;;;;;;;;;AAUvB;;KAvDgBE,eAAeA","ignoreList":[]}},
    {"offset": {"line": 1597, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/bulk-actions-bar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Button, DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuTrigger } from \"@prosfin/ui\";\r\nimport { Download, User, Tag, X } from \"lucide-react\";\r\nimport type { Lead, LeadStatus } from \"@/types/admin\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface BulkActionsBarProps {\r\n  selectedLeads: Lead[];\r\n  onBulkStatusUpdate: (leadIds: string[], status: LeadStatus) => void;\r\n  onBulkOwnerAssign: (leadIds: string[], owner: string | undefined) => void;\r\n  onClearSelection: () => void;\r\n}\r\n\r\nconst statusOptions: { value: LeadStatus; label: string }[] = [\r\n  { value: \"new\", label: \"New\" },\r\n  { value: \"contacted\", label: \"Contacted\" },\r\n  { value: \"qualified\", label: \"Qualified\" },\r\n  { value: \"meeting_scheduled\", label: \"Meeting Scheduled\" },\r\n  { value: \"converted\", label: \"Converted\" },\r\n  { value: \"lost\", label: \"Lost\" },\r\n];\r\n\r\nconst ownerOptions = [\"You\", \"Admin\", \"Editor A\", \"Editor B\"];\r\n\r\nexport function BulkActionsBar({\r\n  selectedLeads,\r\n  onBulkStatusUpdate,\r\n  onBulkOwnerAssign,\r\n  onClearSelection,\r\n}: BulkActionsBarProps) {\r\n  const [statusMenuOpen, setStatusMenuOpen] = React.useState(false);\r\n  const [ownerMenuOpen, setOwnerMenuOpen] = React.useState(false);\r\n\r\n  if (selectedLeads.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const handleBulkStatus = (status: LeadStatus) => {\r\n    const leadIds = selectedLeads.map((lead) => lead.id);\r\n    onBulkStatusUpdate(leadIds, status);\r\n    setStatusMenuOpen(false);\r\n  };\r\n\r\n  const handleBulkOwner = (owner: string | undefined) => {\r\n    const leadIds = selectedLeads.map((lead) => lead.id);\r\n    onBulkOwnerAssign(leadIds, owner);\r\n    setOwnerMenuOpen(false);\r\n  };\r\n\r\n  const handleBulkExport = () => {\r\n    // Placeholder\r\n    showToast.info(`Exporting ${selectedLeads.length} lead(s)...`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center justify-between rounded-md border bg-muted/50 px-4 py-2\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <span className=\"text-sm font-medium\">\r\n          {selectedLeads.length} selected\r\n        </span>\r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={onClearSelection}\r\n          className=\"h-7\"\r\n        >\r\n          <X className=\"mr-1 size-3\" />\r\n          Clear\r\n        </Button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-2\">\r\n        <DropdownMenu open={statusMenuOpen} onOpenChange={setStatusMenuOpen}>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\" suppressHydrationWarning>\r\n              <Tag className=\"mr-2 size-3\" />\r\n              Update Status\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            {statusOptions.map((option) => (\r\n              <DropdownMenuItem\r\n                key={option.value}\r\n                onClick={() => handleBulkStatus(option.value)}\r\n              >\r\n                {option.label}\r\n              </DropdownMenuItem>\r\n            ))}\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n\r\n        <DropdownMenu open={ownerMenuOpen} onOpenChange={setOwnerMenuOpen}>\r\n          <DropdownMenuTrigger asChild>\r\n            <Button variant=\"outline\" size=\"sm\" className=\"h-7\" suppressHydrationWarning>\r\n              <User className=\"mr-2 size-3\" />\r\n              Assign Owner\r\n            </Button>\r\n          </DropdownMenuTrigger>\r\n          <DropdownMenuContent align=\"end\">\r\n            <DropdownMenuItem onClick={() => handleBulkOwner(undefined)}>\r\n              <span className=\"text-muted-foreground\">Unassigned</span>\r\n            </DropdownMenuItem>\r\n            {ownerOptions.map((owner) => (\r\n              <DropdownMenuItem\r\n                key={owner}\r\n                onClick={() => handleBulkOwner(owner)}\r\n              >\r\n                {owner}\r\n              </DropdownMenuItem>\r\n            ))}\r\n          </DropdownMenuContent>\r\n        </DropdownMenu>\r\n\r\n        <Button variant=\"outline\" size=\"sm\" onClick={handleBulkExport} className=\"h-7\">\r\n          <Download className=\"mr-2 size-3\" />\r\n          Export\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","Button","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuTrigger","Download","User","Tag","X","Lead","LeadStatus","showToast","BulkActionsBarProps","selectedLeads","onBulkStatusUpdate","leadIds","status","onBulkOwnerAssign","owner","onClearSelection","statusOptions","value","label","ownerOptions","BulkActionsBar","t0","$","$i","Symbol","for","statusMenuOpen","setStatusMenuOpen","useState","ownerMenuOpen","setOwnerMenuOpen","length","t1","map","_BulkActionsBarHandleBulkStatusSelectedLeadsMap","handleBulkStatus","t2","leadIds_0","_BulkActionsBarHandleBulkOwnerSelectedLeadsMap","handleBulkOwner","t3","BulkActionsBar[handleBulkExport]","info","handleBulkExport","t4","t5","t6","t7","t8","t9","option","BulkActionsBar[statusOptions.map() > <DropdownMenuItem>.onClick]","t10","t11","t12","t13","BulkActionsBar[<DropdownMenuItem>.onClick]","undefined","t14","t15","t16","owner_0","BulkActionsBar[ownerOptions.map() > <DropdownMenuItem>.onClick]","t17","t18","t19","t20","t21","t22","lead_0","lead","id"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2093, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/saved-views.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { Button, DropdownMenu, DropdownMenuContent, DropdownMenuItem, DropdownMenuSeparator, DropdownMenuTrigger } from \"@prosfin/ui\";\r\nimport { Filter, ChevronDown, Bookmark } from \"lucide-react\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface SavedView {\r\n  id: string;\r\n  name: string;\r\n  params: Record<string, string>;\r\n}\r\n\r\nconst STORAGE_KEY = \"prosfin-saved-views\";\r\n\r\nconst defaultViews: SavedView[] = [\r\n  {\r\n    id: \"my-new-leads\",\r\n    name: \"My New Leads\",\r\n    params: { owner: \"You\", status: \"new\" },\r\n  },\r\n  {\r\n    id: \"qualified-high-fit\",\r\n    name: \"Qualified  High Fit\",\r\n    params: { status: \"qualified\" },\r\n  },\r\n  {\r\n    id: \"facebook-this-week\",\r\n    name: \"Facebook  This Week\",\r\n    params: { source: \"Facebook\" },\r\n  },\r\n];\r\n\r\nfunction loadSavedViews(): SavedView[] {\r\n  try {\r\n    const stored = localStorage.getItem(STORAGE_KEY);\r\n    if (stored) {\r\n      return JSON.parse(stored);\r\n    }\r\n  } catch (error) {\r\n    // Ignore\r\n  }\r\n  return defaultViews;\r\n}\r\n\r\nfunction saveViews(views: SavedView[]) {\r\n  try {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(views));\r\n  } catch (error) {\r\n    // Ignore\r\n  }\r\n}\r\n\r\nexport function SavedViews() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const [views, setViews] = React.useState<SavedView[]>([]);\r\n  const [hydrated, setHydrated] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setViews(loadSavedViews());\r\n    setHydrated(true);\r\n  }, []);\r\n\r\n  const applyView = (view: SavedView) => {\r\n    const params = new URLSearchParams();\r\n    \r\n    // Apply view params\r\n    Object.entries(view.params).forEach(([key, value]) => {\r\n      if (value) {\r\n        params.set(key, value);\r\n      }\r\n    });\r\n\r\n    // Preserve existing params that are not in view\r\n    searchParams.forEach((value, key) => {\r\n      if (!view.params[key] && key !== \"view\") {\r\n        params.set(key, value);\r\n      }\r\n    });\r\n\r\n    params.set(\"view\", view.id);\r\n    router.push(`/leads?${params.toString()}`);\r\n    showToast.info(`Applied view: ${view.name}`);\r\n  };\r\n\r\n  if (!hydrated) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild>\r\n        <Button variant=\"outline\" size=\"sm\" className=\"h-8\" suppressHydrationWarning>\r\n          <Filter className=\"mr-2 size-3\" />\r\n          Views\r\n          <ChevronDown className=\"ml-2 size-3\" />\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n        {views.map((view) => (\r\n          <DropdownMenuItem\r\n            key={view.id}\r\n            onClick={() => applyView(view)}\r\n            className={searchParams.get(\"view\") === view.id ? \"bg-muted\" : \"\"}\r\n          >\r\n            <Bookmark className=\"mr-2 size-3\" />\r\n            {view.name}\r\n          </DropdownMenuItem>\r\n        ))}\r\n        <DropdownMenuSeparator />\r\n        <DropdownMenuItem disabled className=\"text-muted-foreground text-xs\">\r\n          Save current view (coming soon)\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","useRouter","useSearchParams","Button","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuSeparator","DropdownMenuTrigger","Filter","ChevronDown","Bookmark","showToast","SavedView","id","name","params","Record","STORAGE_KEY","defaultViews","owner","status","source","loadSavedViews","stored","localStorage","getItem","JSON","parse","error","saveViews","views","setItem","stringify","SavedViews","$","$i","Symbol","for","router","searchParams","t0","setViews","useState","hydrated","setHydrated","t1","t2","SavedViews[useEffect()]","useEffect","t3","view","URLSearchParams","Object","entries","forEach","t4","key","value","set","SavedViews[applyView > searchParams.forEach()]","value_0","key_0","push","toString","info","applyView","t5","t6","t7","view_0","SavedViews[views.map() > <DropdownMenuItem>.onClick]","get","map","t8","t9"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2389, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/leads/convert-lead-dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  Button,\r\n  Input,\r\n  Label,\r\n  RadioGroup,\r\n  RadioGroupItem,\r\n} from \"@prosfin/ui\";\r\nimport { convertLeadToClient } from \"@/lib/data/leads\";\r\nimport { createClient, type CreateClientInput } from \"@/lib/data/clients\";\r\nimport { showToast } from \"@/lib/toast\";\r\nimport type { Lead } from \"@/types/admin\";\r\n\r\ninterface ConvertLeadDialogProps {\r\n  lead: Lead;\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConverted?: (clientId: string) => void;\r\n}\r\n\r\nexport function ConvertLeadDialog({\r\n  lead,\r\n  open,\r\n  onOpenChange,\r\n  onConverted,\r\n}: ConvertLeadDialogProps) {\r\n  const router = useRouter();\r\n  const [mode, setMode] = React.useState<\"new\" | \"existing\">(\"new\");\r\n  const [isSubmitting, setIsSubmitting] = React.useState(false);\r\n  const [existingClientSearch, setExistingClientSearch] = React.useState(\"\");\r\n\r\n  // Prefill mapping\r\n  const [clientData, setClientData] = React.useState({\r\n    companyName: lead.company || \"\",\r\n    contactName: lead.name,\r\n    email: lead.email,\r\n    phone: lead.phone || \"\",\r\n  });\r\n\r\n  const handleConvert = async () => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      if (mode === \"new\") {\r\n        // Create new client\r\n        const newClient = await createClient({\r\n          companyName: clientData.companyName || lead.name,\r\n          contactName: clientData.contactName,\r\n          email: clientData.email,\r\n          phone: clientData.phone,\r\n          status: \"onboarding\",\r\n          linkedLeads: [lead.id],\r\n          owner: lead.owner,\r\n        });\r\n\r\n        // Convert lead\r\n        await convertLeadToClient(lead.id, newClient.id);\r\n\r\n        showToast.success(`Lead converted to client: ${newClient.companyName}`);\r\n        onConverted?.(newClient.id);\r\n        onOpenChange(false);\r\n\r\n        // Option: Navigate to client detail\r\n        // router.push(`/clients/${newClient.id}`);\r\n      } else {\r\n        // Link to existing client (mock - would search and select)\r\n        showToast.info(\"Link to existing client (mock - coming soon)\");\r\n      }\r\n    } catch (error) {\r\n      showToast.error(\"Failed to convert lead\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[500px]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Convert Lead to Client</DialogTitle>\r\n          <DialogDescription>\r\n            Create a new client record from this lead or link to an existing client.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n\r\n        <div className=\"space-y-6 py-4\">\r\n          {/* Mode Selection */}\r\n          <RadioGroup value={mode} onValueChange={(value) => setMode(value as \"new\" | \"existing\")}>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <RadioGroupItem value=\"new\" id=\"new\" />\r\n              <Label htmlFor=\"new\" className=\"font-normal cursor-pointer\">\r\n                Create new client\r\n              </Label>\r\n            </div>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <RadioGroupItem value=\"existing\" id=\"existing\" />\r\n              <Label htmlFor=\"existing\" className=\"font-normal cursor-pointer\">\r\n                Link to existing client\r\n              </Label>\r\n            </div>\r\n          </RadioGroup>\r\n\r\n          {mode === \"new\" ? (\r\n            /* New Client Form */\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"companyName\">Company Name</Label>\r\n                <Input\r\n                  id=\"companyName\"\r\n                  value={clientData.companyName}\r\n                  onChange={(e) =>\r\n                    setClientData({ ...clientData, companyName: e.target.value })\r\n                  }\r\n                  placeholder=\"Company name\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"contactName\">Primary Contact</Label>\r\n                <Input\r\n                  id=\"contactName\"\r\n                  value={clientData.contactName}\r\n                  onChange={(e) =>\r\n                    setClientData({ ...clientData, contactName: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"email\">Email</Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={clientData.email}\r\n                  onChange={(e) =>\r\n                    setClientData({ ...clientData, email: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"phone\">Phone</Label>\r\n                <Input\r\n                  id=\"phone\"\r\n                  value={clientData.phone}\r\n                  onChange={(e) =>\r\n                    setClientData({ ...clientData, phone: e.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            /* Existing Client Search */\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"search\">Search Client</Label>\r\n                <Input\r\n                  id=\"search\"\r\n                  placeholder=\"Search by company name or email...\"\r\n                  value={existingClientSearch}\r\n                  onChange={(e) => setExistingClientSearch(e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                <p>Mock: Client search functionality (coming soon)</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <DialogFooter>\r\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)} disabled={isSubmitting}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleConvert} disabled={isSubmitting || mode === \"existing\"}>\r\n            {isSubmitting ? \"Converting...\" : \"Convert\"}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n"],"names":["React","useRouter","Dialog","DialogContent","DialogDescription","DialogFooter","DialogHeader","DialogTitle","Button","Input","Label","RadioGroup","RadioGroupItem","convertLeadToClient","createClient","CreateClientInput","showToast","Lead","ConvertLeadDialogProps","lead","open","onOpenChange","onConverted","clientId","ConvertLeadDialog","router","mode","setMode","useState","isSubmitting","setIsSubmitting","existingClientSearch","setExistingClientSearch","clientData","setClientData","companyName","company","contactName","name","email","phone","handleConvert","newClient","status","linkedLeads","id","owner","success","info","error","value","e","target"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 2784, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/app/(app)/leads/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { format } from \"date-fns\";\r\nimport { AdminPageShell } from \"@prosfin/ui\";\r\nimport { AppDataTable } from \"@/components/admin/data-table/app-data-table\";\r\nimport { TableRowActions, type RowAction } from \"@/components/admin/data-table/table-row-actions\";\r\nimport { Badge } from \"@prosfin/ui\";\r\nimport { listLeads, updateLeadStatus, updateLeadOwner } from \"@/lib/data/leads\";\r\nimport { useUrlState, useUrlStateArray } from \"@/hooks/use-url-state\";\r\nimport { showToast } from \"@/lib/toast\";\r\nimport { InlineStatusEdit } from \"@/components/leads/inline-status-edit\";\r\nimport { InlineOwnerEdit } from \"@/components/leads/inline-owner-edit\";\r\nimport { BulkActionsBar } from \"@/components/leads/bulk-actions-bar\";\r\nimport { SavedViews } from \"@/components/leads/saved-views\";\r\nimport { ConvertLeadDialog } from \"@/components/leads/convert-lead-dialog\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n  Button,\r\n} from \"@prosfin/ui\";\r\nimport { Filter, X } from \"lucide-react\";\r\nimport type { Lead, LeadStatus } from \"@/types/admin\";\r\nimport type { DataTableColumn } from \"@/components/admin/data-table/types\";\r\n\r\nconst statusColors: Record<Lead[\"status\"], string> = {\r\n  new: \"bg-blue-100 text-blue-800\",\r\n  contacted: \"bg-yellow-100 text-yellow-800\",\r\n  qualified: \"bg-green-100 text-green-800\",\r\n  meeting_scheduled: \"bg-purple-100 text-purple-800\",\r\n  converted: \"bg-gray-100 text-gray-800\",\r\n  lost: \"bg-red-100 text-red-800\",\r\n};\r\n\r\nexport default function LeadsPage() {\r\n  const router = useRouter();\r\n  const [leads, setLeads] = React.useState<Lead[]>([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const [selectedLeads, setSelectedLeads] = React.useState<Lead[]>([]);\r\n  const [convertDialogOpen, setConvertDialogOpen] = React.useState(false);\r\n  const [selectedLeadForConvert, setSelectedLeadForConvert] = React.useState<Lead | null>(null);\r\n\r\n  // URL state sync\r\n  const [search, setSearch] = useUrlState<string>(\"q\", \"\", { debounce: 300, replace: true });\r\n  const [statusFilter, setStatusFilter] = useUrlStateArray(\"status\", []);\r\n  const [sourceFilter, setSourceFilter] = useUrlState<string>(\"source\", \"\");\r\n  const [ownerFilter, setOwnerFilter] = useUrlState<string>(\"owner\", \"\");\r\n  const [interestFilter, setInterestFilter] = useUrlState<string>(\"interest\", \"\");\r\n  const [utmCampaignFilter, setUtmCampaignFilter] = useUrlState<string>(\"utm_campaign\", \"\");\r\n  const [pageIndexStr, setPageIndexStr] = useUrlState<string>(\"page\", \"0\");\r\n  const pageIndex = React.useMemo(() => {\r\n    const parsed = parseInt(pageIndexStr, 10);\r\n    return isNaN(parsed) || parsed < 0 ? 0 : parsed;\r\n  }, [pageIndexStr]);\r\n  const setPageIndex = React.useCallback((index: number) => {\r\n    setPageIndexStr(String(index) as string);\r\n  }, [setPageIndexStr]);\r\n\r\n  React.useEffect(() => {\r\n    listLeads().then((data) => {\r\n      setLeads(data);\r\n      setIsLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  // Filter leads based on URL state\r\n  const filteredLeads = React.useMemo(() => {\r\n    let filtered = [...leads];\r\n\r\n    // Search filter\r\n    if (search) {\r\n      const searchLower = search.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (lead) =>\r\n          lead.name.toLowerCase().includes(searchLower) ||\r\n          lead.email.toLowerCase().includes(searchLower) ||\r\n          lead.phone?.toLowerCase().includes(searchLower) ||\r\n          lead.company?.toLowerCase().includes(searchLower)\r\n      );\r\n    }\r\n\r\n    // Status filter\r\n    if (statusFilter.length > 0) {\r\n      filtered = filtered.filter((lead) => statusFilter.includes(lead.status));\r\n    }\r\n\r\n    // Source filter\r\n    if (sourceFilter) {\r\n      filtered = filtered.filter((lead) => lead.source === sourceFilter);\r\n    }\r\n\r\n    // Owner filter\r\n    if (ownerFilter) {\r\n      if (ownerFilter === \"unassigned\") {\r\n        filtered = filtered.filter((lead) => !lead.owner);\r\n      } else {\r\n        filtered = filtered.filter((lead) => lead.owner === ownerFilter);\r\n      }\r\n    }\r\n\r\n    // Service interest filter\r\n    if (interestFilter) {\r\n      filtered = filtered.filter((lead) => lead.interest === interestFilter);\r\n    }\r\n\r\n    // UTM Campaign filter (deep-link from campaigns)\r\n    if (utmCampaignFilter) {\r\n      filtered = filtered.filter((lead) => lead.utm_campaign === utmCampaignFilter);\r\n    }\r\n\r\n    return filtered;\r\n  }, [leads, search, statusFilter, sourceFilter, ownerFilter, interestFilter, utmCampaignFilter]);\r\n\r\n  const handleStatusChange = async (leadId: string, status: LeadStatus) => {\r\n    try {\r\n      await updateLeadStatus(leadId, status);\r\n      setLeads((prev) =>\r\n        prev.map((lead) => (lead.id === leadId ? { ...lead, status } : lead))\r\n      );\r\n      showToast.success(`Lead status updated to ${status}`);\r\n    } catch (error) {\r\n      showToast.error(\"Failed to update lead status\");\r\n    }\r\n  };\r\n\r\n  const handleOwnerChange = async (leadId: string, owner: string | undefined) => {\r\n    try {\r\n      await updateLeadOwner(leadId, owner);\r\n      setLeads((prev) =>\r\n        prev.map((lead) => (lead.id === leadId ? { ...lead, owner } : lead))\r\n      );\r\n      showToast.success(owner ? `Assigned to ${owner}` : \"Unassigned\");\r\n    } catch (error) {\r\n      showToast.error(\"Failed to update owner\");\r\n    }\r\n  };\r\n\r\n  const handleBulkStatusUpdate = async (leadIds: string[], status: LeadStatus) => {\r\n    try {\r\n      await Promise.all(leadIds.map((id) => updateLeadStatus(id, status)));\r\n      setLeads((prev) =>\r\n        prev.map((lead) =>\r\n          leadIds.includes(lead.id) ? { ...lead, status } : lead\r\n        )\r\n      );\r\n      setSelectedLeads([]);\r\n      showToast.success(`Updated ${leadIds.length} lead(s) to ${status}`);\r\n    } catch (error) {\r\n      showToast.error(\"Failed to update leads\");\r\n    }\r\n  };\r\n\r\n  const handleBulkOwnerAssign = async (leadIds: string[], owner: string | undefined) => {\r\n    try {\r\n      await Promise.all(leadIds.map((id) => updateLeadOwner(id, owner)));\r\n      setLeads((prev) =>\r\n        prev.map((lead) =>\r\n          leadIds.includes(lead.id) ? { ...lead, owner } : lead\r\n        )\r\n      );\r\n      setSelectedLeads([]);\r\n      showToast.success(\r\n        owner\r\n          ? `Assigned ${leadIds.length} lead(s) to ${owner}`\r\n          : `Unassigned ${leadIds.length} lead(s)`\r\n      );\r\n    } catch (error) {\r\n      showToast.error(\"Failed to update leads\");\r\n    }\r\n  };\r\n\r\n  const handleExportRow = (lead: Lead) => {\r\n    const csv = [\r\n      [\"Name\", \"Company\", \"Email\", \"Phone\", \"Status\", \"Owner\", \"Source\"].join(\",\"),\r\n      [\r\n        lead.name,\r\n        lead.company || \"\",\r\n        lead.email,\r\n        lead.phone || \"\",\r\n        lead.status,\r\n        lead.owner || \"\",\r\n        lead.source,\r\n      ].join(\",\"),\r\n    ].join(\"\\n\");\r\n    const blob = new Blob([csv], { type: \"text/csv\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const a = document.createElement(\"a\");\r\n    a.href = url;\r\n    a.download = `lead-${lead.id}.csv`;\r\n    a.click();\r\n    URL.revokeObjectURL(url);\r\n    showToast.success(\"Lead exported\");\r\n  };\r\n\r\n  const rowActions: RowAction<Lead>[] = [\r\n    {\r\n      label: \"Mark as Contacted\",\r\n      onClick: (row) => handleStatusChange(row.id, \"contacted\"),\r\n    },\r\n    {\r\n      label: \"Change Status\",\r\n      onClick: (row) => {\r\n        router.push(`/leads/${row.id}`);\r\n      },\r\n    },\r\n    {\r\n      label: \"Convert to Client\",\r\n      onClick: (row) => {\r\n        setSelectedLeadForConvert(row);\r\n        setConvertDialogOpen(true);\r\n      },\r\n    },\r\n    {\r\n      label: \"Export\",\r\n      onClick: (row) => handleExportRow(row),\r\n    },\r\n  ];\r\n\r\n  const urgencyColors: Record<\"low\" | \"medium\" | \"high\", string> = {\r\n    low: \"bg-gray-100 text-gray-800\",\r\n    medium: \"bg-yellow-100 text-yellow-800\",\r\n    high: \"bg-red-100 text-red-800\",\r\n  };\r\n\r\n  // Extract unique values for filters\r\n  const ownerOptions = React.useMemo(() => {\r\n    const owners = new Set<string>();\r\n    leads.forEach((lead) => {\r\n      if (lead.owner) owners.add(lead.owner);\r\n    });\r\n    return Array.from(owners).sort();\r\n  }, [leads]);\r\n\r\n  const interestOptions = React.useMemo(() => {\r\n    const interests = new Set<string>();\r\n    leads.forEach((lead) => {\r\n      if (lead.interest) interests.add(lead.interest);\r\n    });\r\n    return Array.from(interests).sort();\r\n  }, [leads]);\r\n\r\n  const sourceOptions = React.useMemo(() => {\r\n    const sources = new Set<string>();\r\n    leads.forEach((lead) => {\r\n      if (lead.source) sources.add(lead.source);\r\n    });\r\n    return Array.from(sources).sort();\r\n  }, [leads]);\r\n\r\n  const filters = (\r\n    <div className=\"flex items-center gap-2\">\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-8\">\r\n            <Filter className=\"mr-2 size-3\" />\r\n            Status\r\n            {statusFilter.length > 0 && (\r\n              <span className=\"ml-2 rounded-full bg-primary px-1.5 py-0.5 text-xs text-primary-foreground\">\r\n                {statusFilter.length}\r\n              </span>\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\r\n          {Object.entries(statusColors).map(([status, _]) => (\r\n            <DropdownMenuItem\r\n              key={status}\r\n              onClick={() => {\r\n                const newFilter = statusFilter.includes(status)\r\n                  ? statusFilter.filter((s) => s !== status)\r\n                  : [...statusFilter, status];\r\n                setStatusFilter(newFilter);\r\n              }}\r\n            >\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={statusFilter.includes(status)}\r\n                onChange={() => {}}\r\n                className=\"mr-2\"\r\n              />\r\n              {status}\r\n            </DropdownMenuItem>\r\n          ))}\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-8\">\r\n            <Filter className=\"mr-2 size-3\" />\r\n            Owner\r\n            {ownerFilter && (\r\n              <X\r\n                className=\"ml-2 size-3\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setOwnerFilter(\"\");\r\n                }}\r\n              />\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\r\n          <DropdownMenuItem onClick={() => setOwnerFilter(\"unassigned\")}>\r\n            Unassigned\r\n          </DropdownMenuItem>\r\n          {ownerOptions.map((owner) => (\r\n            <DropdownMenuItem\r\n              key={owner}\r\n              onClick={() => setOwnerFilter(owner)}\r\n            >\r\n              {owner}\r\n            </DropdownMenuItem>\r\n          ))}\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-8\">\r\n            <Filter className=\"mr-2 size-3\" />\r\n            Interest\r\n            {interestFilter && (\r\n              <X\r\n                className=\"ml-2 size-3\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setInterestFilter(\"\");\r\n                }}\r\n              />\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\r\n          {interestOptions.map((interest) => (\r\n            <DropdownMenuItem\r\n              key={interest}\r\n              onClick={() => setInterestFilter(interest)}\r\n            >\r\n              {interest}\r\n            </DropdownMenuItem>\r\n          ))}\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n\r\n      <DropdownMenu>\r\n        <DropdownMenuTrigger asChild>\r\n          <Button variant=\"outline\" size=\"sm\" className=\"h-8\">\r\n            <Filter className=\"mr-2 size-3\" />\r\n            Source\r\n            {sourceFilter && (\r\n              <X\r\n                className=\"ml-2 size-3\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation();\r\n                  setSourceFilter(\"\");\r\n                }}\r\n              />\r\n            )}\r\n          </Button>\r\n        </DropdownMenuTrigger>\r\n        <DropdownMenuContent align=\"start\" className=\"w-48\">\r\n          {sourceOptions.map((source) => (\r\n            <DropdownMenuItem\r\n              key={source}\r\n              onClick={() => setSourceFilter(source)}\r\n            >\r\n              {source}\r\n            </DropdownMenuItem>\r\n          ))}\r\n        </DropdownMenuContent>\r\n      </DropdownMenu>\r\n    </div>\r\n  );\r\n\r\n  const columns: DataTableColumn<Lead>[] = [\r\n    {\r\n      id: \"name\",\r\n      header: \"Name\",\r\n      accessorKey: \"name\",\r\n      enableSorting: true,\r\n    },\r\n    {\r\n      id: \"company\",\r\n      header: \"Company\",\r\n      accessorKey: \"company\",\r\n      enableSorting: true,\r\n    },\r\n    {\r\n      id: \"email\",\r\n      header: \"Email\",\r\n      accessorKey: \"email\",\r\n    },\r\n    {\r\n      id: \"phone\",\r\n      header: \"Phone\",\r\n      accessorKey: \"phone\",\r\n    },\r\n    {\r\n      id: \"interest\",\r\n      header: \"Service Interest\",\r\n      accessorKey: \"interest\",\r\n      cell: ({ row }) =>\r\n        row.original.interest ? (\r\n          <Badge variant=\"outline\">{row.original.interest}</Badge>\r\n        ) : (\r\n          <span className=\"text-muted-foreground text-sm\"></span>\r\n        ),\r\n    },\r\n    {\r\n      id: \"urgency\",\r\n      header: \"Urgency\",\r\n      accessorKey: \"urgency\",\r\n      cell: ({ row }) =>\r\n        row.original.urgency ? (\r\n          <Badge className={urgencyColors[row.original.urgency]}>\r\n            {row.original.urgency}\r\n          </Badge>\r\n        ) : (\r\n          <span className=\"text-muted-foreground text-sm\"></span>\r\n        ),\r\n    },\r\n    {\r\n      id: \"status\",\r\n      header: \"Status\",\r\n      accessorKey: \"status\",\r\n      cell: ({ row }) => (\r\n        <InlineStatusEdit\r\n          lead={row.original}\r\n          onUpdate={handleStatusChange}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      id: \"owner\",\r\n      header: \"Owner\",\r\n      accessorKey: \"owner\",\r\n      cell: ({ row }) => (\r\n        <InlineOwnerEdit\r\n          lead={row.original}\r\n          onUpdate={handleOwnerChange}\r\n        />\r\n      ),\r\n    },\r\n    {\r\n      id: \"source\",\r\n      header: \"Source\",\r\n      accessorKey: \"source\",\r\n    },\r\n    {\r\n      id: \"utm_campaign\",\r\n      header: \"UTM Campaign\",\r\n      accessorKey: \"utm_campaign\",\r\n      cell: ({ row }) =>\r\n        row.original.utm_campaign ? (\r\n          <span className=\"text-sm\">{row.original.utm_campaign}</span>\r\n        ) : (\r\n          <span className=\"text-muted-foreground text-sm\"></span>\r\n        ),\r\n    },\r\n    {\r\n      id: \"createdAt\",\r\n      header: \"Created\",\r\n      accessorKey: \"createdAt\",\r\n      cell: ({ row }) =>\r\n        format(new Date(row.original.createdAt), \"MMM dd, yyyy\"),\r\n    },\r\n    {\r\n      id: \"updatedAt\",\r\n      header: \"Updated\",\r\n      accessorKey: \"updatedAt\",\r\n      cell: ({ row }) =>\r\n        format(new Date(row.original.updatedAt), \"MMM dd, yyyy\"),\r\n    },\r\n    {\r\n      id: \"actions\",\r\n      header: \"\",\r\n      cell: ({ row }) => (\r\n        <TableRowActions row={row.original} actions={rowActions} />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <AdminPageShell\r\n      title=\"Leads\"\r\n      description=\"Manage and track your leads\"\r\n    >\r\n      <div className=\"space-y-4\">\r\n        {selectedLeads.length > 0 && (\r\n          <BulkActionsBar\r\n            selectedLeads={selectedLeads}\r\n            onBulkStatusUpdate={handleBulkStatusUpdate}\r\n            onBulkOwnerAssign={handleBulkOwnerAssign}\r\n            onClearSelection={() => setSelectedLeads([])}\r\n          />\r\n        )}\r\n        <AppDataTable\r\n          columns={columns}\r\n          data={filteredLeads}\r\n          isLoading={isLoading}\r\n          searchPlaceholder=\"Search leads...\"\r\n          emptyMessage=\"No leads found\"\r\n          searchValue={search}\r\n          onSearchChange={setSearch}\r\n          pageIndex={pageIndex}\r\n          onPageChange={setPageIndex}\r\n          enableRowSelection={true}\r\n          onSelectionChange={setSelectedLeads}\r\n          filters={filters}\r\n          toolbarRightActions={<SavedViews />}\r\n          onRowClick={(lead) => {\r\n            router.push(`/leads/${lead.id}`);\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {selectedLeadForConvert && (\r\n        <ConvertLeadDialog\r\n          lead={selectedLeadForConvert}\r\n          open={convertDialogOpen}\r\n          onOpenChange={(open) => {\r\n            setConvertDialogOpen(open);\r\n            if (!open) {\r\n              setSelectedLeadForConvert(null);\r\n            }\r\n          }}\r\n          onConverted={(clientId) => {\r\n            showToast.success(\"Lead converted successfully\");\r\n            setConvertDialogOpen(false);\r\n            setSelectedLeadForConvert(null);\r\n          }}\r\n        />\r\n      )}\r\n    </AdminPageShell>\r\n  );\r\n}\r\n"],"names":["React","useRouter","format","AdminPageShell","AppDataTable","TableRowActions","RowAction","Badge","listLeads","updateLeadStatus","updateLeadOwner","useUrlState","useUrlStateArray","showToast","InlineStatusEdit","InlineOwnerEdit","BulkActionsBar","SavedViews","ConvertLeadDialog","DropdownMenu","DropdownMenuContent","DropdownMenuItem","DropdownMenuTrigger","Button","Filter","X","Lead","LeadStatus","DataTableColumn","statusColors","Record","new","contacted","qualified","meeting_scheduled","converted","lost","LeadsPage","router","leads","setLeads","useState","isLoading","setIsLoading","selectedLeads","setSelectedLeads","convertDialogOpen","setConvertDialogOpen","selectedLeadForConvert","setSelectedLeadForConvert","search","setSearch","debounce","replace","statusFilter","setStatusFilter","sourceFilter","setSourceFilter","ownerFilter","setOwnerFilter","interestFilter","setInterestFilter","utmCampaignFilter","setUtmCampaignFilter","pageIndexStr","setPageIndexStr","pageIndex","useMemo","parsed","parseInt","isNaN","setPageIndex","useCallback","index","String","useEffect","then","data","filteredLeads","filtered","searchLower","toLowerCase","filter","lead","name","includes","email","phone","company","length","status","source","owner","interest","utm_campaign","handleStatusChange","leadId","prev","map","id","success","error","handleOwnerChange","handleBulkStatusUpdate","leadIds","Promise","all","handleBulkOwnerAssign","handleExportRow","csv","join","blob","Blob","type","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","rowActions","label","onClick","row","push","urgencyColors","low","medium","high","ownerOptions","owners","Set","forEach","add","Array","from","sort","interestOptions","interests","sourceOptions","sources","filters","Object","entries","_","newFilter","s","e","stopPropagation","columns","header","accessorKey","enableSorting","cell","original","urgency","Date","createdAt","updatedAt","open","clientId"],"mappings":"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","ignoreList":[]}}]
}