{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/activity-log.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport type { PostActivityEvent } from \"@/types/content\";\r\n\r\ninterface ActivityLogProps {\r\n  events: PostActivityEvent[];\r\n}\r\n\r\nexport function ActivityLog({ events }: ActivityLogProps) {\r\n  if (events.length === 0) {\r\n    return (\r\n      <div className=\"text-center text-muted-foreground text-sm py-8\">\r\n        No activity yet\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {events.map((event) => (\r\n        <div key={event.id} className=\"flex items-start gap-3 border-b pb-4 last:border-0\">\r\n          <div className=\"flex-1\">\r\n            <p className=\"font-medium text-sm\">{event.title}</p>\r\n            {event.description && (\r\n              <p className=\"text-muted-foreground text-xs mt-1\">{event.description}</p>\r\n            )}\r\n            <div className=\"flex items-center gap-2 mt-2\">\r\n              {event.actor && (\r\n                <span className=\"text-muted-foreground text-xs\">{event.actor}</span>\r\n              )}\r\n              <span className=\"text-muted-foreground text-xs\">•</span>\r\n              <span className=\"text-muted-foreground text-xs\">\r\n                {format(new Date(event.timestamp), \"MMM dd, yyyy HH:mm\")}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","format","PostActivityEvent","ActivityLogProps","events","ActivityLog","t0","$","$i","Symbol","for","length","t1","map","_ActivityLogEventsMap","t2","event","id","title","description","actor","Date","timestamp"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAGb,SAASE,MAAM,QAAQ,UAAU;AAHjC,YAAY;;;;AAUL,qBAAAK,EAAA;IAAA,MAAAC,CAAA,OAAAR,+RAAA,EAAA;IAAA,IAAAQ,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAqB,MAAA,EAAAH,MAAAA,EAAA,GAAAE,EAA4B;IACtD,IAAIF,MAAM,CAAAO,MAAO,KAAK,CAAC,EAAA;QAAA,IAAAC,EAAA;QAAA,IAAAL,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;YAEnBE,EAAA,iBAAA,4SAAA,GAEM;gBAFS,SAAgD,EAAhD,gDAAgD;0BAAC,eAEhE,EAFA,GAEM;;;;;;YAAAL,CAAA,CAAA,EAAA,GAAAK,EAAA;QAAA,OAAA;YAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;QAAA;QAAA,OAFNK,EAEM;IAAA;IAET,IAAAA,EAAA;IAAA,IAAAL,CAAA,CAAA,EAAA,KAAAH,MAAA,EAAA;QAIIQ,EAAA,GAAAR,MAAM,CAAAS,GAAI,CAACC,qBAkBX,CAAC;QAAAP,CAAA,CAAA,EAAA,GAAAH,MAAA;QAAAG,CAAA,CAAA,EAAA,GAAAK,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAL,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAQ,EAAA;IAAA,IAAAR,CAAA,CAAA,EAAA,KAAAK,EAAA,EAAA;QAnBJG,EAAA,iBAAA,4SAAA,GAoBM;YApBS,SAAW,EAAX,WAAW,CACvB;sBAAAH,EAkBA,CACH,EApBA,GAoBM;;;;;;QAAAL,CAAA,CAAA,EAAA,GAAAK,EAAA;QAAAL,CAAA,CAAA,EAAA,GAAAQ,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAR,CAAA,CAAA,EAAA;IAAA;IAAA,OApBNQ,EAoBM;AAAA;KA9BHV;AAAA,SAAAS,sBAAAE,KAAA;IAAA,qBAYC,4SAAA,GAgBM,CAhBI,GAAQ,CAAR;QAAoB,SAAoD,EAApD,oDAAoD;gCAChF,4SAAA,GAcM;YAdS,SAAQ,EAAR,QAAQ;;8BACrB,4SAAA,CAAoD;oBAAvC,SAAqB,EAArB,qBAAqB,CAAE;8BAAAA,KAAK,CAAAE,KAAK,CAAE,EAAhD,CAAoD,CACnD;;;;;;gBAAAF,KAAK,CAAAG,WAEL,kBADC,4SAAA,CAAyE;oBAA5D,SAAoC,EAApC,oCAAoC,CAAE;8BAAAH,KAAK,CAAAG,WAAW,CAAE,EAArE,CAAyE,CAC3E;;;;;;8BACA,4SAAA,GAQM;oBARS,SAA8B,EAA9B,8BAA8B,CAC1C;;wBAAAH,KAAK,CAAAI,KAEL,kBADC,4SAAA,IAAoE;4BAApD,SAA+B,EAA/B,+BAA+B,CAAE;sCAAAJ,KAAK,CAAAI,KAAK,CAAE,EAA7D,IAAoE,CACtE;;;;;;sCACA,4SAAA,IAAwD;4BAAxC,SAA+B,EAA/B,+BAA+B;sCAAC,CAAC,EAAjD,IAAwD;;;;;;sCACxD,4SAAA,IAEO;4BAFS,SAA+B,EAA/B,+BAA+B,CAC5C;0CAAAnB,2NAAM,EAAC,IAAIoB,IAAI,CAACL,KAAK,CAAAM,SAAU,CAAC,EAAE,oBAAoB,EACzD,EAFA,IAEO,CACT,EARA,GAQM,CACR,EAdA,GAcM,CACR,EAhBA,GAgBM;;;;;;;;;;;;;;;;;;OAhBIN,KAAK,CAAAC,EAAE,CAAC;;;;;AAgBZ","ignoreList":[]}},
    {"offset": {"line": 143, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/mocks/posts.ts"],"sourcesContent":["import type { Post, PostStatus, ContentBucket } from \"@/types/content\";\r\n\r\n/**\r\n * Mock posts data\r\n * \r\n * Sample posts across all buckets and statuses for testing\r\n */\r\n\r\nconst mockAuthor = {\r\n  id: \"user-1\",\r\n  name: \"Admin User\",\r\n  email: \"admin@prosfin.vn\",\r\n};\r\n\r\n// Helper to create a simple Lexical editor state\r\nfunction createEditorState(text: string): Post[\"content\"] {\r\n  return {\r\n    root: {\r\n      children: [\r\n        {\r\n          children: [\r\n            {\r\n              detail: 0,\r\n              format: 0,\r\n              mode: \"normal\",\r\n              style: \"\",\r\n              text,\r\n              type: \"text\",\r\n              version: 1,\r\n            },\r\n          ],\r\n          direction: \"ltr\",\r\n          format: \"\",\r\n          indent: 0,\r\n          type: \"paragraph\",\r\n          version: 1,\r\n        },\r\n      ],\r\n      direction: \"ltr\",\r\n      format: \"\",\r\n      indent: 0,\r\n      type: \"root\",\r\n      version: 1,\r\n    },\r\n  };\r\n}\r\n\r\n// Base mock posts\r\nconst baseMockPosts: Post[] = [\r\n  // Insights - Published\r\n  {\r\n    id: \"post-1\",\r\n    bucket: \"insights\",\r\n    title: \"5 Cách Tối Ưu Tài Chính Doanh Nghiệp Năm 2024\",\r\n    slug: \"5-cach-toi-uu-tai-chinh-doanh-nghiep-nam-2024\",\r\n    excerpt: \"Khám phá các chiến lược tài chính hiệu quả giúp doanh nghiệp tăng trưởng bền vững trong năm 2024.\",\r\n    cover: \"/brand/prosfin-logo.svg\",\r\n    tags: [\"tài chính\", \"doanh nghiệp\", \"tối ưu\"],\r\n    content: createEditorState(\r\n      \"Trong bối cảnh kinh tế đầy biến động, việc tối ưu tài chính doanh nghiệp trở nên quan trọng hơn bao giờ hết. Bài viết này sẽ giúp bạn khám phá 5 cách hiệu quả để quản lý tài chính tốt hơn.\"\r\n    ),\r\n    seoTitle: \"5 Cách Tối Ưu Tài Chính Doanh Nghiệp 2024 | ProsFin\",\r\n    seoDescription: \"Khám phá các chiến lược tài chính hiệu quả giúp doanh nghiệp tăng trưởng bền vững trong năm 2024.\",\r\n    publishedAt: \"2024-01-15T10:00:00Z\",\r\n    updatedAt: \"2024-01-15T10:00:00Z\",\r\n    createdAt: \"2024-01-10T08:00:00Z\",\r\n    author: mockAuthor,\r\n    status: \"published\",\r\n  },\r\n  // Insights - Draft (missing cover - for \"Needs attention\" filter)\r\n  {\r\n    id: \"post-2\",\r\n    bucket: \"insights\",\r\n    title: \"Xu Hướng Đầu Tư Bất Động Sản 2024\",\r\n    slug: \"xu-huong-dau-tu-bat-dong-san-2024\",\r\n    excerpt: \"Phân tích các xu hướng đầu tư bất động sản đáng chú ý trong năm 2024.\",\r\n    tags: [\"đầu tư\", \"bất động sản\", \"xu hướng\"],\r\n    content: createEditorState(\r\n      \"Thị trường bất động sản năm 2024 đang có nhiều biến động thú vị. Các nhà đầu tư cần nắm bắt các xu hướng mới để đưa ra quyết định đúng đắn.\"\r\n    ),\r\n    // Missing cover - for testing \"Needs attention\" filter\r\n    updatedAt: \"2024-01-20T14:30:00Z\",\r\n    createdAt: \"2024-01-18T09:00:00Z\",\r\n    author: mockAuthor,\r\n    status: \"draft\",\r\n  },\r\n  // Insights - Scheduled (future date)\r\n  {\r\n    id: \"post-3\",\r\n    bucket: \"insights\",\r\n    title: \"Hướng Dẫn Quản Lý Dòng Tiền Cho Startup\",\r\n    slug: \"huong-dan-quan-ly-dong-tien-cho-startup\",\r\n    excerpt: \"Các bước cơ bản để quản lý dòng tiền hiệu quả cho các startup mới thành lập.\",\r\n    cover: \"/brand/prosfin-logo.svg\",\r\n    tags: [\"startup\", \"quản lý dòng tiền\", \"tài chính\"],\r\n    content: createEditorState(\r\n      \"Quản lý dòng tiền là một trong những thách thức lớn nhất đối với các startup. Bài viết này sẽ hướng dẫn bạn các phương pháp quản lý dòng tiền hiệu quả.\"\r\n    ),\r\n    seoTitle: \"Hướng Dẫn Quản Lý Dòng Tiền Cho Startup | ProsFin\",\r\n    seoDescription: \"Các bước cơ bản để quản lý dòng tiền hiệu quả cho các startup mới thành lập.\",\r\n    updatedAt: \"2024-01-25T16:00:00Z\",\r\n    createdAt: \"2024-01-25T16:00:00Z\",\r\n    author: mockAuthor,\r\n    status: \"scheduled\",\r\n    scheduledFor: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(), // 2 days from now\r\n  },\r\n  // Insights - Scheduled (near future)\r\n  {\r\n    id: \"post-9\",\r\n    bucket: \"insights\",\r\n    title: \"Chiến Lược Tài Chính Cho Doanh Nghiệp Vừa Và Nhỏ\",\r\n    slug: \"chien-luoc-tai-chinh-cho-doanh-nghiep-vua-va-nho\",\r\n    excerpt: \"Khám phá các chiến lược tài chính phù hợp cho doanh nghiệp vừa và nhỏ.\",\r\n    tags: [\"chiến lược\", \"tài chính\", \"SME\"],\r\n    content: createEditorState(\r\n      \"Doanh nghiệp vừa và nhỏ cần có chiến lược tài chính riêng phù hợp với quy mô và nguồn lực của mình.\"\r\n    ),\r\n    updatedAt: new Date().toISOString(),\r\n    createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(), // 3 days ago\r\n    author: mockAuthor,\r\n    status: \"scheduled\",\r\n    scheduledFor: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(), // 5 days from now\r\n  },\r\n  // Resources - Published\r\n  {\r\n    id: \"post-4\",\r\n    bucket: \"resources\",\r\n    title: \"Template Báo Cáo Tài Chính Miễn Phí\",\r\n    slug: \"template-bao-cao-tai-chinh-mien-phi\",\r\n    excerpt: \"Tải xuống template báo cáo tài chính chuyên nghiệp, sẵn sàng sử dụng.\",\r\n    cover: \"/brand/prosfin-logo.svg\",\r\n    tags: [\"template\", \"báo cáo\", \"tài chính\"],\r\n    content: createEditorState(\r\n      \"Chúng tôi cung cấp template báo cáo tài chính miễn phí, được thiết kế chuyên nghiệp và dễ sử dụng. Template này phù hợp cho mọi loại hình doanh nghiệp.\"\r\n    ),\r\n    seoTitle: \"Template Báo Cáo Tài Chính Miễn Phí | ProsFin\",\r\n    seoDescription: \"Tải xuống template báo cáo tài chính chuyên nghiệp, sẵn sàng sử dụng cho doanh nghiệp của bạn.\",\r\n    publishedAt: \"2024-01-12T10:00:00Z\",\r\n    updatedAt: \"2024-01-12T10:00:00Z\",\r\n    createdAt: \"2024-01-08T08:00:00Z\",\r\n    author: mockAuthor,\r\n    status: \"published\",\r\n  },\r\n  // Resources - Draft (missing SEO - for \"Needs attention\" filter)\r\n  {\r\n    id: \"post-5\",\r\n    bucket: \"resources\",\r\n    title: \"Checklist Kiểm Tra Tài Chính Định Kỳ\",\r\n    slug: \"checklist-kiem-tra-tai-chinh-dinh-ky\",\r\n    excerpt: \"Danh sách kiểm tra toàn diện để đánh giá tình hình tài chính doanh nghiệp.\",\r\n    cover: \"/brand/prosfin-logo.svg\",\r\n    tags: [\"checklist\", \"kiểm tra\", \"tài chính\"],\r\n    content: createEditorState(\r\n      \"Kiểm tra tài chính định kỳ là việc làm cần thiết để đảm bảo doanh nghiệp hoạt động hiệu quả. Checklist này sẽ giúp bạn không bỏ sót bất kỳ yếu tố quan trọng nào.\"\r\n    ),\r\n    // Missing seoTitle and seoDescription - for testing \"Needs attention\" filter\r\n    updatedAt: \"2024-01-22T11:00:00Z\",\r\n    createdAt: \"2024-01-20T10:00:00Z\",\r\n    author: mockAuthor,\r\n    status: \"draft\",\r\n  },\r\n  // Knowledge - Published\r\n  {\r\n    id: \"post-6\",\r\n    bucket: \"knowledge\",\r\n    title: \"Hiểu Về Thuế VAT: Hướng Dẫn Cho Doanh Nghiệp\",\r\n    slug: \"hieu-ve-thue-vat-huong-dan-cho-doanh-nghiep\",\r\n    excerpt: \"Tổng quan về thuế VAT và cách áp dụng đúng cho doanh nghiệp Việt Nam.\",\r\n    cover: \"/brand/prosfin-logo.svg\",\r\n    tags: [\"thuế\", \"VAT\", \"kiến thức\"],\r\n    content: createEditorState(\r\n      \"Thuế VAT là một trong những loại thuế quan trọng nhất mà doanh nghiệp cần nắm vững. Bài viết này sẽ giải thích chi tiết về thuế VAT và cách áp dụng.\"\r\n    ),\r\n    seoTitle: \"Hiểu Về Thuế VAT: Hướng Dẫn Cho Doanh Nghiệp | ProsFin\",\r\n    seoDescription: \"Tổng quan về thuế VAT và cách áp dụng đúng cho doanh nghiệp Việt Nam.\",\r\n    publishedAt: \"2024-01-10T09:00:00Z\",\r\n    updatedAt: \"2024-01-10T09:00:00Z\",\r\n    createdAt: \"2024-01-05T08:00:00Z\",\r\n    author: mockAuthor,\r\n    status: \"published\",\r\n  },\r\n  // Knowledge - Archived\r\n  {\r\n    id: \"post-7\",\r\n    bucket: \"knowledge\",\r\n    title: \"Quy Trình Kế Toán Cơ Bản (Cũ)\",\r\n    slug: \"quy-trinh-ke-toan-co-ban-cu\",\r\n    excerpt: \"Bài viết cũ về quy trình kế toán cơ bản - đã được thay thế bằng phiên bản mới.\",\r\n    tags: [\"kế toán\", \"quy trình\", \"cũ\"],\r\n    content: createEditorState(\r\n      \"Bài viết này đã được lưu trữ và thay thế bằng phiên bản mới cập nhật hơn.\"\r\n    ),\r\n    publishedAt: \"2023-12-01T10:00:00Z\",\r\n    updatedAt: \"2024-01-01T10:00:00Z\",\r\n    createdAt: \"2023-11-15T08:00:00Z\",\r\n    author: mockAuthor,\r\n    status: \"archived\",\r\n  },\r\n  // Resources - Published\r\n  {\r\n    id: \"post-8\",\r\n    bucket: \"resources\",\r\n    title: \"Ebook: Hướng Dẫn Quản Lý Tài Chính Doanh Nghiệp\",\r\n    slug: \"ebook-huong-dan-quan-ly-tai-chinh-doanh-nghiep\",\r\n    excerpt: \"Tải xuống ebook miễn phí với hướng dẫn chi tiết về quản lý tài chính doanh nghiệp.\",\r\n    cover: \"/brand/prosfin-logo.svg\",\r\n    tags: [\"ebook\", \"tài chính\", \"tài liệu\"],\r\n    content: createEditorState(\r\n      \"Ebook này cung cấp hướng dẫn toàn diện về quản lý tài chính doanh nghiệp, từ cơ bản đến nâng cao. Phù hợp cho các doanh nghiệp vừa và nhỏ.\"\r\n    ),\r\n    seoTitle: \"Ebook: Hướng Dẫn Quản Lý Tài Chính Doanh Nghiệp | ProsFin\",\r\n    seoDescription: \"Tải xuống ebook miễn phí với hướng dẫn chi tiết về quản lý tài chính doanh nghiệp.\",\r\n    publishedAt: \"2024-01-08T10:00:00Z\",\r\n    updatedAt: \"2024-01-08T10:00:00Z\",\r\n    createdAt: \"2024-01-01T08:00:00Z\",\r\n    author: mockAuthor,\r\n    status: \"published\",\r\n  },\r\n];\r\n\r\n// Generate additional mock posts for performance testing (200+ total)\r\nfunction generateMockPosts(): Post[] {\r\n  const buckets: ContentBucket[] = [\"insights\", \"resources\", \"knowledge\"];\r\n  const statuses: PostStatus[] = [\"draft\", \"published\", \"scheduled\", \"archived\"];\r\n  const topics = [\r\n    \"Tài chính\", \"Kế toán\", \"Thuế\", \"Đầu tư\", \"Quản lý\", \"Kinh doanh\",\r\n    \"Marketing\", \"Bán hàng\", \"Nhân sự\", \"Công nghệ\", \"Pháp lý\", \"Chiến lược\"\r\n  ];\r\n  const adjectives = [\r\n    \"Hiệu quả\", \"Tối ưu\", \"Chuyên nghiệp\", \"Toàn diện\", \"Chi tiết\", \"Thực tế\",\r\n    \"Mới nhất\", \"Cập nhật\", \"Chuyên sâu\", \"Cơ bản\", \"Nâng cao\", \"Thực hành\"\r\n  ];\r\n\r\n  const generated: Post[] = [];\r\n  const now = Date.now();\r\n  \r\n  for (let i = 9; i <= 250; i++) {\r\n    const bucket = buckets[Math.floor(Math.random() * buckets.length)];\r\n    const status = statuses[Math.floor(Math.random() * statuses.length)];\r\n    const topic = topics[Math.floor(Math.random() * topics.length)];\r\n    const adj = adjectives[Math.floor(Math.random() * adjectives.length)];\r\n    const title = `${adj} ${topic} ${i}`;\r\n    const slug = `${adj.toLowerCase()}-${topic.toLowerCase()}-${i}`.replace(/\\s+/g, \"-\");\r\n    \r\n    const daysAgo = Math.floor(Math.random() * 365);\r\n    const createdAt = new Date(now - daysAgo * 24 * 60 * 60 * 1000).toISOString();\r\n    const updatedAt = new Date(now - Math.floor(Math.random() * daysAgo) * 24 * 60 * 60 * 1000).toISOString();\r\n    let publishedAt: string | undefined;\r\n    let scheduledFor: string | undefined;\r\n    \r\n    if (status === \"published\") {\r\n      publishedAt = new Date(now - Math.floor(Math.random() * daysAgo) * 24 * 60 * 60 * 1000).toISOString();\r\n    } else if (status === \"scheduled\") {\r\n      // Scheduled posts should have future dates\r\n      const daysInFuture = Math.floor(Math.random() * 30) + 1; // 1-30 days from now\r\n      scheduledFor = new Date(now + daysInFuture * 24 * 60 * 60 * 1000).toISOString();\r\n      publishedAt = scheduledFor; // For scheduled posts, publishedAt = scheduledFor\r\n    }\r\n    \r\n    const tags = [\r\n      topic.toLowerCase(),\r\n      ...topics.slice(0, Math.floor(Math.random() * 3) + 1).map(t => t.toLowerCase())\r\n    ].slice(0, Math.min(5, Math.floor(Math.random() * 4) + 1));\r\n\r\n    generated.push({\r\n      id: `post-${i}`,\r\n      bucket,\r\n      title,\r\n      slug,\r\n      excerpt: `Bài viết về ${topic.toLowerCase()} - ${adj.toLowerCase()}`,\r\n      cover: Math.random() > 0.5 ? \"/brand/prosfin-logo.svg\" : undefined,\r\n      tags: Array.from(new Set(tags)),\r\n      content: createEditorState(`Nội dung bài viết về ${topic.toLowerCase()}. ${adj} hướng dẫn và thông tin chi tiết.`),\r\n      seoTitle: status === \"published\" ? `${title} | ProsFin` : undefined,\r\n      seoDescription: status === \"published\" ? `Bài viết về ${topic.toLowerCase()}` : undefined,\r\n      publishedAt,\r\n      updatedAt,\r\n      createdAt,\r\n      author: mockAuthor,\r\n      status,\r\n      scheduledFor,\r\n    });\r\n  }\r\n  \r\n  return generated;\r\n}\r\n\r\nexport const mockPosts: Post[] = [\r\n  ...baseMockPosts,\r\n  ...generateMockPosts(),\r\n];\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 477, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/lib/data/posts.ts"],"sourcesContent":["import type {\r\n  Post,\r\n  PostFilters,\r\n  PostFormData,\r\n  ContentBucket,\r\n  PostStatus,\r\n  PostRevision,\r\n  PostActivityEvent,\r\n} from \"@/types/content\";\r\nimport { mockPosts } from \"@/mocks/posts\";\r\n\r\n/**\r\n * Data adapter cho Posts\r\n * \r\n * UI components chỉ import từ đây, không import mocks trực tiếp.\r\n * Có thể swap sang API calls trong Phase 3.\r\n */\r\n\r\nlet postsData: Post[] = [...mockPosts];\r\n\r\n/**\r\n * List posts with optional filters\r\n */\r\nexport async function listPosts(\r\n  bucket?: ContentBucket,\r\n  filters?: PostFilters\r\n): Promise<Post[]> {\r\n  // Simulate API delay\r\n  await new Promise((resolve) => setTimeout(resolve, 100));\r\n\r\n  let filtered = [...postsData];\r\n\r\n  // Filter by bucket\r\n  if (bucket) {\r\n    filtered = filtered.filter((post) => post.bucket === bucket);\r\n  }\r\n\r\n  // Apply filters\r\n  if (filters) {\r\n    if (filters.status && filters.status.length > 0) {\r\n      filtered = filtered.filter((post) => filters.status!.includes(post.status));\r\n    }\r\n\r\n    if (filters.bucket && filters.bucket.length > 0) {\r\n      filtered = filtered.filter((post) => filters.bucket!.includes(post.bucket));\r\n    }\r\n\r\n    if (filters.tags && filters.tags.length > 0) {\r\n      filtered = filtered.filter((post) =>\r\n        filters.tags!.some((tag) => post.tags.includes(tag))\r\n      );\r\n    }\r\n\r\n    if (filters.search) {\r\n      const searchLower = filters.search.toLowerCase();\r\n      filtered = filtered.filter(\r\n        (post) =>\r\n          post.title.toLowerCase().includes(searchLower) ||\r\n          post.excerpt?.toLowerCase().includes(searchLower) ||\r\n          post.slug.toLowerCase().includes(searchLower) ||\r\n          post.tags.some((tag) => tag.toLowerCase().includes(searchLower))\r\n      );\r\n    }\r\n\r\n    if (filters.dateFrom) {\r\n      filtered = filtered.filter(\r\n        (post) => post.updatedAt >= filters.dateFrom! || post.createdAt >= filters.dateFrom!\r\n      );\r\n    }\r\n\r\n    if (filters.dateTo) {\r\n      filtered = filtered.filter(\r\n        (post) => post.updatedAt <= filters.dateTo! || post.createdAt <= filters.dateTo!\r\n      );\r\n    }\r\n  }\r\n\r\n  return filtered;\r\n}\r\n\r\n/**\r\n * Get post by slug and bucket\r\n */\r\nexport async function getPost(slug: string, bucket: ContentBucket): Promise<Post | null> {\r\n  await new Promise((resolve) => setTimeout(resolve, 50));\r\n  return postsData.find((post) => post.slug === slug && post.bucket === bucket) || null;\r\n}\r\n\r\n/**\r\n * Get post by ID\r\n */\r\nexport async function getPostById(id: string): Promise<Post | null> {\r\n  await new Promise((resolve) => setTimeout(resolve, 50));\r\n  return postsData.find((post) => post.id === id) || null;\r\n}\r\n\r\n/**\r\n * Check if slug is unique within bucket\r\n */\r\nexport async function isSlugUnique(\r\n  slug: string,\r\n  bucket: ContentBucket,\r\n  excludeId?: string\r\n): Promise<boolean> {\r\n  await new Promise((resolve) => setTimeout(resolve, 20));\r\n  const existing = postsData.find(\r\n    (post) => post.slug === slug && post.bucket === bucket && post.id !== excludeId\r\n  );\r\n  return !existing;\r\n}\r\n\r\n/**\r\n * Save draft (create or update)\r\n */\r\nexport async function saveDraft(postData: PostFormData, existingId?: string): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const now = new Date().toISOString();\r\n\r\n  if (existingId) {\r\n    // Update existing\r\n    const existing = postsData.find((p) => p.id === existingId);\r\n    if (!existing) {\r\n      throw new Error(`Post with id ${existingId} not found`);\r\n    }\r\n\r\n    const updated: Post = {\r\n      ...existing,\r\n      ...postData,\r\n      id: existingId,\r\n      updatedAt: now,\r\n      // Preserve createdAt and author\r\n      createdAt: existing.createdAt,\r\n      author: existing.author,\r\n    };\r\n\r\n    postsData = postsData.map((p) => (p.id === existingId ? updated : p));\r\n    return updated;\r\n  } else {\r\n    // Create new\r\n    const newPost: Post = {\r\n      ...postData,\r\n      id: `post-${Date.now()}`,\r\n      createdAt: now,\r\n      updatedAt: now,\r\n      author: {\r\n        id: \"user-1\",\r\n        name: \"Admin User\",\r\n        email: \"admin@prosfin.vn\",\r\n      },\r\n    };\r\n\r\n    postsData = [...postsData, newPost];\r\n    return newPost;\r\n  }\r\n}\r\n\r\n/**\r\n * Publish post\r\n */\r\nexport async function publish(id: string, scheduledFor?: string): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  const now = new Date().toISOString();\r\n  const publishedAt = scheduledFor || now;\r\n\r\n  const updated: Post = {\r\n    ...post,\r\n    status: scheduledFor ? \"scheduled\" : \"published\",\r\n    publishedAt,\r\n    scheduledFor: scheduledFor || undefined,\r\n    updatedAt: now,\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === id ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Unpublish post (set to draft)\r\n */\r\nexport async function unpublish(id: string): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  const updated: Post = {\r\n    ...post,\r\n    status: \"draft\",\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === id ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Duplicate post\r\n */\r\nexport async function duplicatePost(slug: string, bucket: ContentBucket): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const original = await getPost(slug, bucket);\r\n  if (!original) {\r\n    throw new Error(`Post with slug ${slug} in bucket ${bucket} not found`);\r\n  }\r\n\r\n  const now = new Date().toISOString();\r\n  const newSlug = `${original.slug}-copy-${Date.now()}`;\r\n\r\n  const duplicated: Post = {\r\n    ...original,\r\n    id: `post-${Date.now()}`,\r\n    slug: newSlug,\r\n    title: `${original.title} (Copy)`,\r\n    status: \"draft\",\r\n    publishedAt: undefined,\r\n    scheduledFor: undefined,\r\n    createdAt: now,\r\n    updatedAt: now,\r\n  };\r\n\r\n  postsData = [...postsData, duplicated];\r\n  return duplicated;\r\n}\r\n\r\n/**\r\n * Delete post\r\n */\r\nexport async function deletePost(id: string): Promise<void> {\r\n  await new Promise((resolve) => setTimeout(resolve, 100));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  postsData = postsData.filter((p) => p.id !== id);\r\n}\r\n\r\n/**\r\n * Update post status\r\n */\r\nexport async function updatePostStatus(id: string, status: PostStatus): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 100));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  const updated: Post = {\r\n    ...post,\r\n    status,\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === id ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Get all unique tags\r\n */\r\nexport async function getAllTags(): Promise<string[]> {\r\n  await new Promise((resolve) => setTimeout(resolve, 50));\r\n  const allTags = postsData.flatMap((post) => post.tags);\r\n  return Array.from(new Set(allTags)).sort();\r\n}\r\n\r\n/**\r\n * Archive post\r\n */\r\nexport async function archivePost(id: string): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  const updated: Post = {\r\n    ...post,\r\n    status: \"archived\",\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === id ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Restore archived post to draft\r\n */\r\nexport async function restorePost(id: string): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  if (post.status !== \"archived\") {\r\n    throw new Error(`Post with id ${id} is not archived`);\r\n  }\r\n\r\n  const updated: Post = {\r\n    ...post,\r\n    status: \"draft\",\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === id ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Reschedule post\r\n */\r\nexport async function reschedulePost(id: string, scheduledFor: string): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  const updated: Post = {\r\n    ...post,\r\n    status: \"scheduled\",\r\n    scheduledFor,\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === id ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Cancel schedule (scheduled → draft)\r\n */\r\nexport async function cancelSchedule(id: string): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  if (post.status !== \"scheduled\") {\r\n    throw new Error(`Post with id ${id} is not scheduled`);\r\n  }\r\n\r\n  const updated: Post = {\r\n    ...post,\r\n    status: \"draft\",\r\n    scheduledFor: undefined,\r\n    updatedAt: new Date().toISOString(),\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === id ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Publish now (scheduled → published)\r\n */\r\nexport async function publishNow(id: string): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const post = postsData.find((p) => p.id === id);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${id} not found`);\r\n  }\r\n\r\n  if (post.status !== \"scheduled\") {\r\n    throw new Error(`Post with id ${id} is not scheduled`);\r\n  }\r\n\r\n  const now = new Date().toISOString();\r\n  const updated: Post = {\r\n    ...post,\r\n    status: \"published\",\r\n    publishedAt: now,\r\n    scheduledFor: undefined,\r\n    updatedAt: now,\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === id ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Create draft revision from published post\r\n */\r\nexport async function createDraftRevision(postId: string, data: PostFormData): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const original = postsData.find((p) => p.id === postId);\r\n  if (!original) {\r\n    throw new Error(`Post with id ${postId} not found`);\r\n  }\r\n\r\n  const now = new Date().toISOString();\r\n  const draftRevision: Post = {\r\n    ...original,\r\n    ...data,\r\n    id: `post-${Date.now()}`,\r\n    status: \"draft\",\r\n    publishedAt: original.publishedAt, // Preserve original published date\r\n    scheduledFor: undefined,\r\n    createdAt: now,\r\n    updatedAt: now,\r\n  };\r\n\r\n  postsData = [...postsData, draftRevision];\r\n  return draftRevision;\r\n}\r\n\r\n/**\r\n * Update published post immediately\r\n */\r\nexport async function updatePublishedPost(postId: string, data: PostFormData): Promise<Post> {\r\n  await new Promise((resolve) => setTimeout(resolve, 200));\r\n\r\n  const post = postsData.find((p) => p.id === postId);\r\n  if (!post) {\r\n    throw new Error(`Post with id ${postId} not found`);\r\n  }\r\n\r\n  if (post.status !== \"published\") {\r\n    throw new Error(`Post with id ${postId} is not published`);\r\n  }\r\n\r\n  const now = new Date().toISOString();\r\n  const updated: Post = {\r\n    ...post,\r\n    ...data,\r\n    status: \"published\", // Keep published status\r\n    publishedAt: post.publishedAt, // Preserve original published date\r\n    updatedAt: now,\r\n  };\r\n\r\n  postsData = postsData.map((p) => (p.id === postId ? updated : p));\r\n  return updated;\r\n}\r\n\r\n/**\r\n * Get post revisions (mock - returns empty array for Phase 2)\r\n */\r\nexport async function getPostRevisions(postId: string): Promise<PostRevision[]> {\r\n  await new Promise((resolve) => setTimeout(resolve, 50));\r\n  // Phase 2: Return empty array, Phase 3 will implement real revision tracking\r\n  return [];\r\n}\r\n\r\n/**\r\n * Get post activity log\r\n */\r\nexport async function getPostActivity(postId: string): Promise<PostActivityEvent[]> {\r\n  await new Promise((resolve) => setTimeout(resolve, 50));\r\n\r\n  const post = postsData.find((p) => p.id === postId);\r\n  if (!post) {\r\n    return [];\r\n  }\r\n\r\n  // Generate mock activity log\r\n  const activities: PostActivityEvent[] = [];\r\n\r\n  // Created event\r\n  activities.push({\r\n    id: `activity-${postId}-created`,\r\n    type: \"created\",\r\n    title: \"Post created\",\r\n    timestamp: post.createdAt,\r\n    actor: post.author.name,\r\n  });\r\n\r\n  // Published event (if published)\r\n  if (post.publishedAt) {\r\n    activities.push({\r\n      id: `activity-${postId}-published`,\r\n      type: \"published\",\r\n      title: \"Post published\",\r\n      timestamp: post.publishedAt,\r\n      actor: post.author.name,\r\n      payload: {\r\n        publishedAt: post.publishedAt,\r\n      },\r\n    });\r\n  }\r\n\r\n  // Scheduled event (if scheduled)\r\n  if (post.scheduledFor) {\r\n    activities.push({\r\n      id: `activity-${postId}-scheduled`,\r\n      type: \"scheduled\",\r\n      title: \"Post scheduled\",\r\n      timestamp: post.scheduledFor,\r\n      actor: post.author.name,\r\n      payload: {\r\n        scheduledFor: post.scheduledFor,\r\n      },\r\n    });\r\n  }\r\n\r\n  // Archived event (if archived)\r\n  if (post.status === \"archived\") {\r\n    activities.push({\r\n      id: `activity-${postId}-archived`,\r\n      type: \"archived\",\r\n      title: \"Post archived\",\r\n      timestamp: post.updatedAt,\r\n      actor: post.author.name,\r\n      payload: {\r\n        oldStatus: \"published\",\r\n        newStatus: \"archived\",\r\n      },\r\n    });\r\n  }\r\n\r\n  // Edited events (based on updatedAt)\r\n  if (post.updatedAt !== post.createdAt && post.status !== \"archived\") {\r\n    activities.push({\r\n      id: `activity-${postId}-edited`,\r\n      type: \"edited\",\r\n      title: \"Post edited\",\r\n      timestamp: post.updatedAt,\r\n      actor: post.author.name,\r\n    });\r\n  }\r\n\r\n  // Sort by timestamp (newest first)\r\n  return activities.sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime());\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/version-panel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { formatDistanceToNow } from \"date-fns\";\r\nimport { Button } from \"@prosfin/ui\";\r\nimport { RotateCcw, GitCompare, Save } from \"lucide-react\";\r\nimport { ActivityLog } from \"./activity-log\";\r\nimport type { Post, PostActivityEvent } from \"@/types/content\";\r\nimport { getPostActivity } from \"@/lib/data/posts\";\r\n\r\ninterface VersionPanelProps {\r\n  post?: Post;\r\n  formData: any;\r\n  onRestorePublished?: () => void;\r\n}\r\n\r\nexport function VersionPanel({ post, formData, onRestorePublished }: VersionPanelProps) {\r\n  const [activity, setActivity] = React.useState<PostActivityEvent[]>([]);\r\n  const [isLoadingActivity, setIsLoadingActivity] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (post?.id) {\r\n      setIsLoadingActivity(true);\r\n      getPostActivity(post.id).then((events) => {\r\n        setActivity(events);\r\n        setIsLoadingActivity(false);\r\n      });\r\n    }\r\n  }, [post?.id]);\r\n\r\n  const viewing = post?.status === \"published\" ? \"Published\" : \"Draft\";\r\n  const lastSaved = formData?.updatedAt || post?.updatedAt;\r\n  const lastPublished = post?.publishedAt;\r\n\r\n  return (\r\n    <div className=\"space-y-6 p-4\">\r\n      {/* Version Info */}\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"font-semibold text-sm\">Version Info</h3>\r\n        <div className=\"space-y-2 text-sm\">\r\n          <div>\r\n            <span className=\"text-muted-foreground\">Viewing: </span>\r\n            <span className=\"font-medium\">{viewing}</span>\r\n          </div>\r\n          {lastSaved && (\r\n            <div>\r\n              <span className=\"text-muted-foreground\">Last saved: </span>\r\n              <span className=\"font-medium\">\r\n                {formatDistanceToNow(new Date(lastSaved), { addSuffix: true })}\r\n              </span>\r\n            </div>\r\n          )}\r\n          {lastPublished && (\r\n            <div>\r\n              <span className=\"text-muted-foreground\">Last published: </span>\r\n              <span className=\"font-medium\">\r\n                {formatDistanceToNow(new Date(lastPublished), { addSuffix: true })}\r\n              </span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Actions */}\r\n      <div className=\"space-y-2\">\r\n        <h3 className=\"font-semibold text-sm\">Actions</h3>\r\n        <div className=\"space-y-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"w-full justify-start\"\r\n            disabled\r\n            title=\"Coming in Phase 3\"\r\n          >\r\n            <GitCompare className=\"mr-2 size-4\" />\r\n            Compare changes\r\n          </Button>\r\n          {post?.status === \"draft\" && post?.publishedAt && (\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              className=\"w-full justify-start\"\r\n              onClick={onRestorePublished}\r\n            >\r\n              <RotateCcw className=\"mr-2 size-4\" />\r\n              Restore published → draft\r\n            </Button>\r\n          )}\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            className=\"w-full justify-start\"\r\n            disabled\r\n            title=\"Coming in Phase 3\"\r\n          >\r\n            <Save className=\"mr-2 size-4\" />\r\n            Save as new revision\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Activity Log */}\r\n      <div className=\"space-y-3\">\r\n        <h3 className=\"font-semibold text-sm\">Activity Log</h3>\r\n        {isLoadingActivity ? (\r\n          <div className=\"text-center text-muted-foreground text-sm py-4\">Loading...</div>\r\n        ) : (\r\n          <ActivityLog events={activity} />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","formatDistanceToNow","Button","RotateCcw","GitCompare","Save","ActivityLog","Post","PostActivityEvent","getPostActivity","VersionPanelProps","post","formData","onRestorePublished","VersionPanel","t0","$","$i","Symbol","for","t1","activity","setActivity","useState","isLoadingActivity","setIsLoadingActivity","t2","VersionPanel[useEffect()]","id","then","events","t3","t4","useEffect","viewing","status","lastSaved","updatedAt","lastPublished","publishedAt","t5","t6","t7","t8","Date","addSuffix","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1342, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/content-checklist.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { CheckCircle2, XCircle, AlertCircle } from \"lucide-react\";\r\nimport { Badge } from \"@prosfin/ui\";\r\nimport type { PostFormData } from \"@/types/content\";\r\nimport { isSlugUnique } from \"@/lib/data/posts\";\r\n\r\ninterface ChecklistItem {\r\n  id: string;\r\n  label: string;\r\n  status: \"pass\" | \"warning\" | \"fail\";\r\n  message?: string;\r\n}\r\n\r\ninterface ContentChecklistProps {\r\n  formData: PostFormData | null;\r\n  postId?: string;\r\n}\r\n\r\nexport function useContentChecklist(formData: PostFormData | null, postId?: string) {\r\n  const [slugUnique, setSlugUnique] = React.useState<boolean | null>(null);\r\n  const [isCheckingSlug, setIsCheckingSlug] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (formData?.slug && formData?.bucket) {\r\n      setIsCheckingSlug(true);\r\n      isSlugUnique(formData.slug, formData.bucket, postId)\r\n        .then((unique) => {\r\n          setSlugUnique(unique);\r\n          setIsCheckingSlug(false);\r\n        })\r\n        .catch(() => {\r\n          setSlugUnique(null);\r\n          setIsCheckingSlug(false);\r\n        });\r\n    } else {\r\n      setSlugUnique(null);\r\n    }\r\n  }, [formData?.slug, formData?.bucket, postId]);\r\n\r\n  if (!formData) {\r\n    return {\r\n      items: [],\r\n      passCount: 0,\r\n      warningCount: 0,\r\n      failCount: 0,\r\n      canPublish: false,\r\n      hasWarnings: false,\r\n    };\r\n  }\r\n\r\n  const items: ChecklistItem[] = [];\r\n\r\n  // Title present\r\n  items.push({\r\n    id: \"title\",\r\n    label: \"Title present\",\r\n    status: formData.title?.trim() ? \"pass\" : \"fail\",\r\n    message: formData.title?.trim() ? undefined : \"Title is required\",\r\n  });\r\n\r\n  // Slug valid + unique\r\n  const slugValid = formData.slug?.trim() && /^[a-z0-9-]+$/.test(formData.slug);\r\n  const slugStatus =\r\n    !formData.slug?.trim()\r\n      ? \"fail\"\r\n      : !slugValid\r\n      ? \"fail\"\r\n      : slugUnique === false\r\n      ? \"fail\"\r\n      : slugUnique === true\r\n      ? \"pass\"\r\n      : isCheckingSlug\r\n      ? \"warning\"\r\n      : \"pass\";\r\n  items.push({\r\n    id: \"slug\",\r\n    label: \"Slug valid + unique\",\r\n    status: slugStatus,\r\n    message:\r\n      !formData.slug?.trim()\r\n        ? \"Slug is required\"\r\n        : !slugValid\r\n        ? \"Slug must contain only lowercase letters, numbers, and hyphens\"\r\n        : slugUnique === false\r\n        ? \"Slug is not unique\"\r\n        : isCheckingSlug\r\n        ? \"Checking...\"\r\n        : undefined,\r\n  });\r\n\r\n  // Excerpt present (warning)\r\n  items.push({\r\n    id: \"excerpt\",\r\n    label: \"Excerpt present\",\r\n    status: formData.excerpt?.trim() ? \"pass\" : \"warning\",\r\n    message: formData.excerpt?.trim() ? undefined : \"Excerpt is recommended\",\r\n  });\r\n\r\n  // Cover present (warning)\r\n  items.push({\r\n    id: \"cover\",\r\n    label: \"Cover present\",\r\n    status: formData.cover?.trim() ? \"pass\" : \"warning\",\r\n    message: formData.cover?.trim() ? undefined : \"Cover image is recommended\",\r\n  });\r\n\r\n  // SEO title length\r\n  const seoTitleLength = formData.seoTitle?.length || 0;\r\n  items.push({\r\n    id: \"seoTitle\",\r\n    label: \"SEO title length\",\r\n    status: seoTitleLength === 0 ? \"warning\" : seoTitleLength > 60 ? \"warning\" : \"pass\",\r\n    message:\r\n      seoTitleLength === 0\r\n        ? \"SEO title is recommended\"\r\n        : seoTitleLength > 60\r\n        ? `SEO title is ${seoTitleLength} characters (recommended: ≤60)`\r\n        : undefined,\r\n  });\r\n\r\n  // SEO description length\r\n  const seoDescLength = formData.seoDescription?.length || 0;\r\n  items.push({\r\n    id: \"seoDescription\",\r\n    label: \"SEO description length\",\r\n    status: seoDescLength === 0 ? \"warning\" : seoDescLength > 160 ? \"warning\" : \"pass\",\r\n    message:\r\n      seoDescLength === 0\r\n        ? \"SEO description is recommended\"\r\n        : seoDescLength > 160\r\n        ? `SEO description is ${seoDescLength} characters (recommended: ≤160)`\r\n        : undefined,\r\n  });\r\n\r\n  const passCount = items.filter((item) => item.status === \"pass\").length;\r\n  const warningCount = items.filter((item) => item.status === \"warning\").length;\r\n  const failCount = items.filter((item) => item.status === \"fail\").length;\r\n\r\n  return {\r\n    items,\r\n    passCount,\r\n    warningCount,\r\n    failCount,\r\n    canPublish: failCount === 0,\r\n    hasWarnings: warningCount > 0,\r\n  };\r\n}\r\n\r\nexport function ContentChecklistDisplay({ formData, postId }: ContentChecklistProps) {\r\n  const checklist = useContentChecklist(formData, postId);\r\n\r\n  if (!formData) {\r\n    return null;\r\n  }\r\n\r\n  const getIcon = (status: \"pass\" | \"warning\" | \"fail\") => {\r\n    switch (status) {\r\n      case \"pass\":\r\n        return <CheckCircle2 className=\"size-4 text-green-600\" />;\r\n      case \"warning\":\r\n        return <AlertCircle className=\"size-4 text-yellow-600\" />;\r\n      case \"fail\":\r\n        return <XCircle className=\"size-4 text-red-600\" />;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h3 className=\"font-semibold text-sm\">Content Checklist</h3>\r\n        <Badge variant=\"secondary\" className=\"text-xs\">\r\n          {checklist.passCount}/{checklist.items.length}\r\n        </Badge>\r\n      </div>\r\n      <div className=\"space-y-2\">\r\n        {checklist.items.map((item) => (\r\n          <div key={item.id} className=\"flex items-start gap-2 text-sm\">\r\n            {getIcon(item.status)}\r\n            <div className=\"flex-1\">\r\n              <div className=\"font-medium\">{item.label}</div>\r\n              {item.message && (\r\n                <div className=\"text-muted-foreground text-xs mt-0.5\">{item.message}</div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      {checklist.failCount > 0 && (\r\n        <div className=\"rounded-md border border-red-200 bg-red-50 p-2 text-red-800 text-xs\">\r\n          {checklist.failCount} issue{checklist.failCount > 1 ? \"s\" : \"\"} must be fixed before publishing\r\n        </div>\r\n      )}\r\n      {checklist.failCount === 0 && checklist.warningCount > 0 && (\r\n        <div className=\"rounded-md border border-yellow-200 bg-yellow-50 p-2 text-yellow-800 text-xs\">\r\n          {checklist.warningCount} warning{checklist.warningCount > 1 ? \"s\" : \"\"} - review before publishing\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","CheckCircle2","XCircle","AlertCircle","Badge","PostFormData","isSlugUnique","ChecklistItem","id","label","status","message","ContentChecklistProps","formData","postId","useContentChecklist","$","$i","Symbol","for","slugUnique","setSlugUnique","useState","isCheckingSlug","setIsCheckingSlug","t0","useContentChecklist[useEffect()]","slug","bucket","then","unique","catch","useContentChecklist[useEffect() > (anonymous)()]","t1","t2","t3","useEffect","t4","items","passCount","warningCount","failCount","canPublish","hasWarnings","cover","excerpt","seoDescription","length","seoTitle","title","t5","trim","t6","undefined","t7","push","slugValid","test","slugStatus","t8","t9","t10","t11","t12","t13","t14","t15","seoTitleLength","t16","t17","t18","seoDescLength","t19","t20","t21","filter","_useContentChecklistItemsFilter","_useContentChecklistItemsFilter2","_useContentChecklistItemsFilter3","item_1","item","item_0","ContentChecklistDisplay","checklist","getIcon","_ContentChecklistDisplayGetIcon","map"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1856, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/metadata-panel.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { Input, Label, Textarea, Button, Badge, Separator, Tabs, TabsList, TabsTrigger, TabsContent } from \"@prosfin/ui\";\r\nimport { Calendar } from \"lucide-react\";\r\nimport type { Post, PostFormData, ContentBucket, PostStatus } from \"@/types/content\";\r\nimport { contentBucketSchema, postStatusSchema } from \"@/types/content\";\r\nimport { VersionPanel } from \"./version-panel\";\r\nimport { ContentChecklistDisplay } from \"./content-checklist\";\r\n\r\ninterface MetadataPanelProps {\r\n  post?: Post;\r\n  formData: PostFormData | null;\r\n  onFormDataChange: (data: PostFormData) => void;\r\n  onSchedule?: (data: PostFormData, scheduledFor: string) => Promise<void>;\r\n}\r\n\r\nconst bucketOptions: { value: ContentBucket; label: string }[] = [\r\n  { value: \"insights\", label: \"Insights\" },\r\n  { value: \"resources\", label: \"Resources\" },\r\n  { value: \"knowledge\", label: \"Knowledge\" },\r\n];\r\n\r\nconst statusOptions: { value: PostStatus; label: string }[] = [\r\n  { value: \"draft\", label: \"Draft\" },\r\n  { value: \"published\", label: \"Published\" },\r\n  { value: \"scheduled\", label: \"Scheduled\" },\r\n  { value: \"archived\", label: \"Archived\" },\r\n];\r\n\r\nexport function MetadataPanel({\r\n  post,\r\n  formData,\r\n  onFormDataChange,\r\n  onSchedule,\r\n}: MetadataPanelProps) {\r\n  const [localData, setLocalData] = React.useState<Partial<PostFormData>>(\r\n    post\r\n      ? {\r\n          title: post.title,\r\n          slug: post.slug,\r\n          bucket: post.bucket,\r\n          excerpt: post.excerpt,\r\n          cover: post.cover,\r\n          tags: post.tags,\r\n          content: post.content,\r\n          seoTitle: post.seoTitle,\r\n          seoDescription: post.seoDescription,\r\n          canonical: post.canonical,\r\n          noindex: post.noindex,\r\n          status: post.status,\r\n          scheduledFor: post.scheduledFor,\r\n        }\r\n      : {\r\n          title: \"\",\r\n          slug: \"\",\r\n          bucket: \"insights\",\r\n          excerpt: \"\",\r\n          cover: \"\",\r\n          tags: [],\r\n          content: {\r\n            root: {\r\n              children: [],\r\n              direction: \"ltr\",\r\n              format: \"\",\r\n              indent: 0,\r\n              type: \"root\",\r\n              version: 1,\r\n            },\r\n          },\r\n          status: \"draft\",\r\n        }\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    if (formData) {\r\n      setLocalData(formData);\r\n    }\r\n  }, [formData]);\r\n\r\n  const updateField = <K extends keyof PostFormData>(\r\n    field: K,\r\n    value: PostFormData[K]\r\n  ) => {\r\n    const updated = { ...localData, [field]: value } as PostFormData;\r\n    setLocalData(updated);\r\n    onFormDataChange(updated);\r\n  };\r\n\r\n  const generateSlug = (title: string) => {\r\n    return title\r\n      .toLowerCase()\r\n      .normalize(\"NFD\")\r\n      .replace(/[\\u0300-\\u036f]/g, \"\")\r\n      .replace(/[^a-z0-9]+/g, \"-\")\r\n      .replace(/(^-|-$)/g, \"\");\r\n  };\r\n\r\n  const handleTitleChange = (value: string) => {\r\n    updateField(\"title\", value);\r\n    if (!post || !localData.slug) {\r\n      // Auto-generate slug if new post or slug is empty\r\n      updateField(\"slug\", generateSlug(value));\r\n    }\r\n  };\r\n\r\n  const addTag = (tag: string) => {\r\n    if (tag.trim() && !localData.tags?.includes(tag.trim())) {\r\n      updateField(\"tags\", [...(localData.tags || []), tag.trim()]);\r\n    }\r\n  };\r\n\r\n  const removeTag = (tag: string) => {\r\n    updateField(\"tags\", localData.tags?.filter((t) => t !== tag) || []);\r\n  };\r\n\r\n  const handleRestorePublished = async () => {\r\n    // TODO: Implement restore published → draft\r\n    console.log(\"Restore published to draft\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-full flex-col overflow-hidden\">\r\n      <Tabs defaultValue=\"metadata\" className=\"flex h-full flex-col\">\r\n        <TabsList className=\"mx-4 mt-4\">\r\n          <TabsTrigger value=\"metadata\">Metadata</TabsTrigger>\r\n          <TabsTrigger value=\"versions\">Versions</TabsTrigger>\r\n        </TabsList>\r\n        <TabsContent value=\"metadata\" className=\"flex-1 overflow-y-auto\">\r\n          <div className=\"space-y-6 p-6\">\r\n            {/* Content Checklist */}\r\n            <div className=\"rounded-md border bg-background p-4\">\r\n              <ContentChecklistDisplay formData={formData} postId={post?.id} />\r\n            </div>\r\n            <Separator />\r\n        {/* Basic Info */}\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"font-semibold\">Basic Information</h3>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"title\">Title *</Label>\r\n            <Input\r\n              id=\"title\"\r\n              value={localData.title || \"\"}\r\n              onChange={(e) => handleTitleChange(e.target.value)}\r\n              placeholder=\"Enter post title\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"slug\">Slug *</Label>\r\n            <Input\r\n              id=\"slug\"\r\n              value={localData.slug || \"\"}\r\n              onChange={(e) => updateField(\"slug\", e.target.value)}\r\n              placeholder=\"post-slug\"\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              URL-friendly version of the title\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"bucket\">Content Bucket</Label>\r\n            <select\r\n              id=\"bucket\"\r\n              value={localData.bucket || \"insights\"}\r\n              onChange={(e) =>\r\n                updateField(\"bucket\", e.target.value as ContentBucket)\r\n              }\r\n              className=\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\r\n            >\r\n              {bucketOptions.map((opt) => (\r\n                <option key={opt.value} value={opt.value}>\r\n                  {opt.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"excerpt\">Excerpt</Label>\r\n            <Textarea\r\n              id=\"excerpt\"\r\n              value={localData.excerpt || \"\"}\r\n              onChange={(e) => updateField(\"excerpt\", e.target.value)}\r\n              placeholder=\"Brief description of the post\"\r\n              rows={3}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"cover\">Cover Image URL</Label>\r\n            <Input\r\n              id=\"cover\"\r\n              value={localData.cover || \"\"}\r\n              onChange={(e) => updateField(\"cover\", e.target.value)}\r\n              placeholder=\"https://example.com/image.jpg\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <Separator />\r\n\r\n        {/* Tags */}\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"font-semibold\">Tags</h3>\r\n          <div className=\"flex flex-wrap gap-2\">\r\n            {localData.tags?.map((tag) => (\r\n              <Badge\r\n                key={tag}\r\n                variant=\"secondary\"\r\n                className=\"cursor-pointer\"\r\n                onClick={() => removeTag(tag)}\r\n              >\r\n                {tag} ×\r\n              </Badge>\r\n            ))}\r\n          </div>\r\n          <div className=\"flex gap-2\">\r\n            <Input\r\n              placeholder=\"Add tag\"\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                  e.preventDefault();\r\n                  addTag(e.currentTarget.value);\r\n                  e.currentTarget.value = \"\";\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <Separator />\r\n\r\n        {/* Status */}\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"font-semibold\">Status</h3>\r\n          <select\r\n            value={localData.status || \"draft\"}\r\n            onChange={(e) => {\r\n              const newStatus = e.target.value as PostStatus;\r\n              // Edge case: If changing from scheduled to draft, cancel schedule\r\n              if (localData.status === \"scheduled\" && newStatus === \"draft\" && post) {\r\n                // Cancel schedule will be handled by EditorShell\r\n                updateField(\"status\", newStatus);\r\n                updateField(\"scheduledFor\", undefined);\r\n              } else {\r\n                updateField(\"status\", newStatus);\r\n              }\r\n            }}\r\n            className=\"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring\"\r\n          >\r\n            {statusOptions.map((opt) => (\r\n              <option key={opt.value} value={opt.value}>\r\n                {opt.label}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          {localData.status === \"scheduled\" && localData.scheduledFor && (\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"scheduledFor\">Schedule For</Label>\r\n              <Input\r\n                id=\"scheduledFor\"\r\n                type=\"datetime-local\"\r\n                value={\r\n                  localData.scheduledFor\r\n                    ? new Date(localData.scheduledFor)\r\n                        .toISOString()\r\n                        .slice(0, 16)\r\n                    : \"\"\r\n                }\r\n                onChange={(e) =>\r\n                  updateField(\r\n                    \"scheduledFor\",\r\n                    e.target.value ? new Date(e.target.value).toISOString() : undefined\r\n                  )\r\n                }\r\n              />\r\n              <p className=\"text-muted-foreground text-xs\">\r\n                Changes to slug/SEO will be applied when the post is published.\r\n              </p>\r\n            </div>\r\n          )}\r\n          {localData.status === \"scheduled\" && !localData.scheduledFor && (\r\n            <div className=\"rounded-md border border-yellow-200 bg-yellow-50 p-2 text-yellow-800 text-xs\">\r\n              Scheduled but no date set. Please reschedule.\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <Separator />\r\n\r\n        {/* SEO */}\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"font-semibold\">SEO Settings</h3>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"seoTitle\">SEO Title</Label>\r\n            <Input\r\n              id=\"seoTitle\"\r\n              value={localData.seoTitle || \"\"}\r\n              onChange={(e) => updateField(\"seoTitle\", e.target.value)}\r\n              placeholder=\"Custom title for search engines\"\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {localData.seoTitle?.length || 0}/60 characters\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"seoDescription\">SEO Description</Label>\r\n            <Textarea\r\n              id=\"seoDescription\"\r\n              value={localData.seoDescription || \"\"}\r\n              onChange={(e) => updateField(\"seoDescription\", e.target.value)}\r\n              placeholder=\"Meta description for search engines\"\r\n              rows={3}\r\n            />\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              {localData.seoDescription?.length || 0}/160 characters\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Label htmlFor=\"canonical\">Canonical URL</Label>\r\n            <Input\r\n              id=\"canonical\"\r\n              value={localData.canonical || \"\"}\r\n              onChange={(e) => updateField(\"canonical\", e.target.value)}\r\n              placeholder=\"https://example.com/canonical-url\"\r\n            />\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id=\"noindex\"\r\n              checked={localData.noindex || false}\r\n              onChange={(e) => updateField(\"noindex\", e.target.checked)}\r\n              className=\"size-4 rounded border-input\"\r\n            />\r\n            <Label htmlFor=\"noindex\" className=\"cursor-pointer\">\r\n              Noindex (prevent search engines from indexing)\r\n            </Label>\r\n          </div>\r\n        </div>\r\n          </div>\r\n        </TabsContent>\r\n        <TabsContent value=\"versions\" className=\"flex-1 overflow-y-auto\">\r\n          <VersionPanel\r\n            post={post}\r\n            formData={formData}\r\n            onRestorePublished={handleRestorePublished}\r\n          />\r\n        </TabsContent>\r\n      </Tabs>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","Input","Label","Textarea","Button","Badge","Separator","Tabs","TabsList","TabsTrigger","TabsContent","Calendar","Post","PostFormData","ContentBucket","PostStatus","contentBucketSchema","postStatusSchema","VersionPanel","ContentChecklistDisplay","MetadataPanelProps","post","formData","onFormDataChange","data","onSchedule","scheduledFor","Promise","bucketOptions","value","label","statusOptions","MetadataPanel","t0","$","$i","Symbol","for","t1","title","slug","bucket","excerpt","cover","tags","content","seoTitle","seoDescription","canonical","noindex","status","root","children","direction","format","indent","type","version","localData","setLocalData","useState","t2","t3","MetadataPanel[useEffect()]","useEffect","t4","MetadataPanel[updateField]","field","updated","updateField","generateSlug","_MetadataPanelGenerateSlug","t5","value_0","handleTitleChange","t6","tag","trim","includes","addTag","t7","tag_0","filter","t","removeTag","handleRestorePublished","_MetadataPanelHandleRestorePublished","t8","t9","id","t10","t11","t12","t13","t14","t15","e","target","t16","t17","t18","t19","e_0","t20","t21","t22","t23","t24","t25","e_1","t26","map","_MetadataPanelBucketOptionsMap","t27","t28","t29","t30","e_2","t31","t32","t33","t34","e_3","t35","t36","t37","t38","t39","tag_1","MetadataPanel[(anonymous)() > <Badge>.onClick]","t40","t41","e_4","key","preventDefault","currentTarget","t42","t43","t44","t45","t46","e_5","newStatus","undefined","t47","_MetadataPanelStatusOptionsMap","t48","t49","Date","toISOString","slice","e_6","t50","t51","t52","t53","t54","t55","t56","e_7","t57","t58","length","t59","t60","t61","t62","t63","e_8","t64","t65","t66","t67","t68","t69","t70","e_9","t71","t72","t73","e_10","checked","t74","t75","t76","t77","t78","t79","t80","opt_0","opt","console","log","toLowerCase","normalize","replace"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3190, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/lib/toast.ts"],"sourcesContent":["/**\r\n * Toast utilities wrapper\r\n * \r\n * Centralized toast notifications using Sonner.\r\n * Provides consistent API for success, error, info, and promise toasts.\r\n */\r\n\r\nimport { toast } from \"sonner\";\r\n\r\nexport const showToast = {\r\n  success: (message: string) => {\r\n    toast.success(message);\r\n  },\r\n  error: (message: string) => {\r\n    toast.error(message);\r\n  },\r\n  info: (message: string) => {\r\n    toast.info(message);\r\n  },\r\n  promise: <T,>(\r\n    promise: Promise<T>,\r\n    messages: { loading: string; success: string; error: string }\r\n  ) => {\r\n    return toast.promise(promise, messages);\r\n  },\r\n};\r\n\r\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AAED;;AAEO,MAAM,YAAY;IACvB,SAAS,CAAC;QACR,oRAAK,CAAC,OAAO,CAAC;IAChB;IACA,OAAO,CAAC;QACN,oRAAK,CAAC,KAAK,CAAC;IACd;IACA,MAAM,CAAC;QACL,oRAAK,CAAC,IAAI,CAAC;IACb;IACA,SAAS,CACP,SACA;QAEA,OAAO,oRAAK,CAAC,OAAO,CAAC,SAAS;IAChC;AACF"}},
    {"offset": {"line": 3222, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/editor-action-bar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { format, formatDistanceToNow } from \"date-fns\";\r\nimport { Button, Separator } from \"@prosfin/ui\";\r\nimport {\r\n  Save,\r\n  Eye,\r\n  Calendar,\r\n  ArrowLeft,\r\n  CheckCircle2,\r\n  Clock,\r\n  Send,\r\n  Archive,\r\n  RotateCcw,\r\n  X,\r\n  Play,\r\n  AlertCircle,\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport type { Post, PostFormData, PostStatus } from \"@/types/content\";\r\nimport { showToast } from \"@/lib/toast\";\r\nimport { useContentChecklist } from \"./content-checklist\";\r\nimport { Badge } from \"@prosfin/ui\";\r\n\r\ninterface EditorActionBarProps {\r\n  post?: Post;\r\n  formData: PostFormData | null;\r\n  hasUnsavedChanges: boolean;\r\n  isSaving: boolean;\r\n  isSaved: boolean;\r\n  lastSavedAt?: string;\r\n  onSave: () => Promise<void>;\r\n  onPublish?: () => Promise<void>;\r\n  onSchedule?: (scheduledFor: string) => Promise<void>;\r\n  onUnpublish?: () => Promise<void>;\r\n  onArchive?: () => Promise<void>;\r\n  onRestore?: () => Promise<void>;\r\n  onReschedule?: () => void;\r\n  onPublishNow?: () => Promise<void>;\r\n  onCancelSchedule?: () => Promise<void>;\r\n  onUpdatePublished?: () => void;\r\n  onUnsavedChangesChange?: (hasChanges: boolean) => void;\r\n  showChecklist?: boolean;\r\n}\r\n\r\nexport function EditorActionBar({\r\n  post,\r\n  formData,\r\n  hasUnsavedChanges,\r\n  isSaving,\r\n  isSaved,\r\n  lastSavedAt,\r\n  onSave,\r\n  onPublish,\r\n  onSchedule,\r\n  onUnpublish,\r\n  onArchive,\r\n  onRestore,\r\n  onReschedule,\r\n  onPublishNow,\r\n  onCancelSchedule,\r\n  onUpdatePublished,\r\n  onUnsavedChangesChange,\r\n  showChecklist = false,\r\n}: EditorActionBarProps) {\r\n  const router = useRouter();\r\n  const status: PostStatus = post?.status || formData?.status || \"draft\";\r\n  const checklist = useContentChecklist(formData, post?.id);\r\n\r\n  // Track unsaved changes guard\r\n  React.useEffect(() => {\r\n    const handleBeforeUnload = (e: BeforeUnloadEvent) => {\r\n      if (hasUnsavedChanges) {\r\n        e.preventDefault();\r\n        e.returnValue = \"\";\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"beforeunload\", handleBeforeUnload);\r\n    return () => window.removeEventListener(\"beforeunload\", handleBeforeUnload);\r\n  }, [hasUnsavedChanges]);\r\n\r\n  const handleSave = async () => {\r\n    if (!formData) return;\r\n    await onSave();\r\n    onUnsavedChangesChange?.(false);\r\n  };\r\n\r\n  const handlePreviewDraft = () => {\r\n    if (!formData) return;\r\n    const slug = formData.slug || post?.slug;\r\n    const bucket = formData.bucket || post?.bucket;\r\n    if (!slug || !bucket) {\r\n      showToast.error(\"Slug and bucket are required for preview\");\r\n      return;\r\n    }\r\n    // Phase 2: Hardcode secret, Phase 3 will generate token\r\n    const secret = \"your-secret-token\";\r\n    window.open(`/api/draft?secret=${secret}&slug=${slug}&bucket=${bucket}`, \"_blank\");\r\n  };\r\n\r\n  const handlePreviewPublished = () => {\r\n    if (!post || post.status !== \"published\") return;\r\n    const bucket = post.bucket;\r\n    const slug = post.slug;\r\n    window.open(`/${bucket}/${slug}`, \"_blank\");\r\n  };\r\n\r\n  const handlePublish = async () => {\r\n    if (!formData) return;\r\n    await onPublish?.();\r\n  };\r\n\r\n  const handleSchedule = () => {\r\n    onReschedule?.();\r\n  };\r\n\r\n  const handleUnpublish = async () => {\r\n    if (!confirm(\"Are you sure you want to unpublish this post? It will be set to draft.\")) {\r\n      return;\r\n    }\r\n    await onUnpublish?.();\r\n  };\r\n\r\n  const handleArchive = async () => {\r\n    if (!confirm(\"Are you sure you want to archive this post? It will be hidden from public view.\")) {\r\n      return;\r\n    }\r\n    await onArchive?.();\r\n  };\r\n\r\n  const handleRestore = async () => {\r\n    await onRestore?.();\r\n  };\r\n\r\n  const lastSavedText = React.useMemo(() => {\r\n    if (!lastSavedAt) return null;\r\n    try {\r\n      return formatDistanceToNow(new Date(lastSavedAt), { addSuffix: true });\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, [lastSavedAt]);\r\n\r\n  const scheduledForText = React.useMemo(() => {\r\n    if (status !== \"scheduled\" || !post?.scheduledFor) return null;\r\n    try {\r\n      const scheduledDate = new Date(post.scheduledFor);\r\n      const now = new Date();\r\n      if (scheduledDate <= now) return \"Ready to publish\";\r\n      return `Publishes ${formatDistanceToNow(scheduledDate, { addSuffix: true })}`;\r\n    } catch {\r\n      return null;\r\n    }\r\n  }, [status, post?.scheduledFor]);\r\n\r\n  return (\r\n    <div className=\"border-b bg-background\">\r\n      <div className=\"flex h-14 items-center justify-between px-6\">\r\n        {/* Left: Back + Status */}\r\n        <div className=\"flex items-center gap-4\">\r\n          <Link href=\"/content\">\r\n            <Button variant=\"ghost\" size=\"icon\">\r\n              <ArrowLeft className=\"size-4\" />\r\n            </Button>\r\n          </Link>\r\n          <Separator orientation=\"vertical\" className=\"h-6\" />\r\n          <div className=\"flex items-center gap-2\">\r\n            {isSaved && (\r\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                <CheckCircle2 className=\"size-4 text-green-600\" />\r\n                <span>Saved</span>\r\n              </div>\r\n            )}\r\n            {hasUnsavedChanges && !isSaved && (\r\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                <Clock className=\"size-4\" />\r\n                <span>Unsaved changes</span>\r\n              </div>\r\n            )}\r\n            {!hasUnsavedChanges && lastSavedText && (\r\n              <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                <span>Last saved {lastSavedText}</span>\r\n              </div>\r\n            )}\r\n            {scheduledForText && (\r\n              <div className=\"flex items-center gap-2 text-sm text-blue-600\">\r\n                <Calendar className=\"size-4\" />\r\n                <span>{scheduledForText}</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Right: Actions */}\r\n        <div className=\"flex items-center gap-2\">\r\n          {formData && (\r\n            <div className=\"group relative mr-2\">\r\n              {checklist.failCount > 0 ? (\r\n                <Badge variant=\"destructive\" className=\"cursor-help\">\r\n                  <AlertCircle className=\"mr-1 size-3\" />\r\n                  {checklist.failCount} issue{checklist.failCount > 1 ? \"s\" : \"\"}\r\n                </Badge>\r\n              ) : checklist.warningCount > 0 ? (\r\n                <Badge variant=\"secondary\" className=\"cursor-help\">\r\n                  <AlertCircle className=\"mr-1 size-3\" />\r\n                  {checklist.warningCount} warning{checklist.warningCount > 1 ? \"s\" : \"\"}\r\n                </Badge>\r\n              ) : (\r\n                <Badge variant=\"secondary\" className=\"cursor-help\">\r\n                  <CheckCircle2 className=\"mr-1 size-3\" />\r\n                  All checks pass\r\n                </Badge>\r\n              )}\r\n              {showChecklist && (\r\n                <div className=\"invisible absolute right-0 top-full z-10 mt-2 w-64 rounded-md border bg-popover p-3 text-sm shadow-lg group-hover:visible\">\r\n                  <div className=\"space-y-1\">\r\n                    {checklist.items.map((item) => (\r\n                      <div key={item.id} className=\"flex items-center gap-2\">\r\n                        {item.status === \"pass\" && (\r\n                          <CheckCircle2 className=\"size-3 text-green-600\" />\r\n                        )}\r\n                        {item.status === \"warning\" && (\r\n                          <AlertCircle className=\"size-3 text-yellow-600\" />\r\n                        )}\r\n                        {item.status === \"fail\" && (\r\n                          <AlertCircle className=\"size-3 text-red-600\" />\r\n                        )}\r\n                        <span className={item.status === \"fail\" ? \"font-medium\" : \"\"}>\r\n                          {item.label}\r\n                        </span>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          {/* Draft Controls */}\r\n          {status === \"draft\" && (\r\n            <>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={handleSave}\r\n                disabled={isSaving || !hasUnsavedChanges}\r\n              >\r\n                <Save className=\"mr-2 size-4\" />\r\n                {isSaving ? \"Saving...\" : \"Save Draft\"}\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={handlePreviewDraft} disabled={!formData?.slug}>\r\n                <Eye className=\"mr-2 size-4\" />\r\n                Preview Draft\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={handleSchedule}>\r\n                <Calendar className=\"mr-2 size-4\" />\r\n                Schedule\r\n              </Button>\r\n              <Button\r\n                onClick={handlePublish}\r\n                disabled={isSaving || !formData || !checklist.canPublish}\r\n                title={!checklist.canPublish ? \"Fix required issues before publishing\" : undefined}\r\n              >\r\n                <Send className=\"mr-2 size-4\" />\r\n                Publish\r\n              </Button>\r\n            </>\r\n          )}\r\n\r\n          {/* Scheduled Controls */}\r\n          {status === \"scheduled\" && (\r\n            <>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={handleSave}\r\n                disabled={isSaving || !hasUnsavedChanges}\r\n              >\r\n                <Save className=\"mr-2 size-4\" />\r\n                {isSaving ? \"Saving...\" : \"Save\"}\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={handlePreviewDraft} disabled={!formData?.slug}>\r\n                <Eye className=\"mr-2 size-4\" />\r\n                Preview Draft\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={handleSchedule}>\r\n                <Calendar className=\"mr-2 size-4\" />\r\n                Reschedule\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={onPublishNow}>\r\n                <Play className=\"mr-2 size-4\" />\r\n                Publish Now\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={onCancelSchedule}>\r\n                <X className=\"mr-2 size-4\" />\r\n                Cancel Schedule\r\n              </Button>\r\n            </>\r\n          )}\r\n\r\n          {/* Published Controls */}\r\n          {status === \"published\" && (\r\n            <>\r\n              <Button\r\n                variant=\"outline\"\r\n                onClick={handleSave}\r\n                disabled={isSaving || !hasUnsavedChanges}\r\n              >\r\n                <Save className=\"mr-2 size-4\" />\r\n                {isSaving ? \"Saving...\" : \"Save\"}\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={handlePreviewPublished}>\r\n                <Eye className=\"mr-2 size-4\" />\r\n                Preview Published\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={onUpdatePublished}>\r\n                <Send className=\"mr-2 size-4\" />\r\n                Update Published\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={handleUnpublish}>\r\n                Unpublish\r\n              </Button>\r\n              <Button variant=\"outline\" onClick={handleArchive}>\r\n                <Archive className=\"mr-2 size-4\" />\r\n                Archive\r\n              </Button>\r\n            </>\r\n          )}\r\n\r\n          {/* Archived Controls */}\r\n          {status === \"archived\" && (\r\n            <>\r\n              <Button variant=\"outline\" onClick={handlePreviewDraft} disabled={!formData?.slug}>\r\n                <Eye className=\"mr-2 size-4\" />\r\n                Preview Draft\r\n              </Button>\r\n              <Button onClick={handleRestore}>\r\n                <RotateCcw className=\"mr-2 size-4\" />\r\n                Restore\r\n              </Button>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["React","useRouter","format","formatDistanceToNow","Button","Separator","Save","Eye","Calendar","ArrowLeft","CheckCircle2","Clock","Send","Archive","RotateCcw","X","Play","AlertCircle","Link","Post","PostFormData","PostStatus","showToast","useContentChecklist","Badge","EditorActionBarProps","post","formData","hasUnsavedChanges","isSaving","isSaved","lastSavedAt","onSave","Promise","onPublish","onSchedule","scheduledFor","onUnpublish","onArchive","onRestore","onReschedule","onPublishNow","onCancelSchedule","onUpdatePublished","onUnsavedChangesChange","hasChanges","showChecklist","EditorActionBar","router","status","checklist","id","useEffect","handleBeforeUnload","e","BeforeUnloadEvent","preventDefault","returnValue","window","addEventListener","removeEventListener","handleSave","handlePreviewDraft","slug","bucket","error","secret","open","handlePreviewPublished","handlePublish","handleSchedule","handleUnpublish","confirm","handleArchive","handleRestore","lastSavedText","useMemo","Date","addSuffix","scheduledForText","scheduledDate","now","failCount","warningCount","items","map","item","label","canPublish","undefined"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 3956, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/publish-dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  Button,\r\n  RadioGroup,\r\n  Label,\r\n} from \"@prosfin/ui\";\r\n\r\ninterface PublishDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConfirm: (mode: \"update\" | \"draft\") => void;\r\n}\r\n\r\nexport function PublishDialog({ open, onOpenChange, onConfirm }: PublishDialogProps) {\r\n  const [mode, setMode] = React.useState<\"update\" | \"draft\">(\"update\");\r\n\r\n  const handleConfirm = () => {\r\n    onConfirm(mode);\r\n    onOpenChange(false);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[425px]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Edit Published Post</DialogTitle>\r\n          <DialogDescription>\r\n            Choose how you want to handle changes to this published post.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        <div className=\"grid gap-4 py-4\">\r\n          <RadioGroup value={mode} onValueChange={(value) => setMode(value as \"update\" | \"draft\")}>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"update\"\r\n                value=\"update\"\r\n                checked={mode === \"update\"}\r\n                onChange={() => setMode(\"update\")}\r\n                className=\"size-4\"\r\n              />\r\n              <Label htmlFor=\"update\" className=\"flex-1 cursor-pointer\">\r\n                <div className=\"font-medium\">Update published immediately</div>\r\n                <div className=\"text-muted-foreground text-sm\">\r\n                  Changes will be live on the published version right away.\r\n                </div>\r\n              </Label>\r\n            </div>\r\n            <div className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"radio\"\r\n                id=\"draft\"\r\n                value=\"draft\"\r\n                checked={mode === \"draft\"}\r\n                onChange={() => setMode(\"draft\")}\r\n                className=\"size-4\"\r\n              />\r\n              <Label htmlFor=\"draft\" className=\"flex-1 cursor-pointer\">\r\n                <div className=\"font-medium\">Create draft revision</div>\r\n                <div className=\"text-muted-foreground text-sm\">\r\n                  Create a new draft version. You can review and publish it later.\r\n                </div>\r\n              </Label>\r\n            </div>\r\n          </RadioGroup>\r\n        </div>\r\n        <DialogFooter>\r\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleConfirm}>Continue</Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","Dialog","DialogContent","DialogDescription","DialogFooter","DialogHeader","DialogTitle","Button","RadioGroup","Label","PublishDialogProps","open","onOpenChange","onConfirm","mode","PublishDialog","t0","$","$i","Symbol","for","setMode","useState","t1","PublishDialog[handleConfirm]","handleConfirm","t2","t3","value","t4","t5","PublishDialog[<input>.onChange]","t6","t7","t8","t9","t10","t11","t12","t13","t14","t15","PublishDialog[<Button>.onClick]","t16","t17","t18","t19"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4326, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/shared/switch.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { cn } from \"@prosfin/ui\";\r\n\r\ninterface SwitchProps {\r\n  checked?: boolean;\r\n  onCheckedChange?: (checked: boolean) => void;\r\n  id?: string;\r\n  className?: string;\r\n  disabled?: boolean;\r\n}\r\n\r\nexport function Switch({ checked = false, onCheckedChange, id, className, disabled }: SwitchProps) {\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      role=\"switch\"\r\n      aria-checked={checked}\r\n      id={id}\r\n      disabled={disabled}\r\n      onClick={() => !disabled && onCheckedChange?.(!checked)}\r\n      className={cn(\r\n        \"peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50\",\r\n        checked ? \"bg-primary\" : \"bg-input\",\r\n        className\r\n      )}\r\n    >\r\n      <span\r\n        className={cn(\r\n          \"pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform\",\r\n          checked ? \"translate-x-4\" : \"translate-x-0\"\r\n        )}\r\n      />\r\n    </button>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","cn","SwitchProps","checked","onCheckedChange","id","className","disabled","Switch","t0","$","$i","Symbol","for","t1","undefined","t2","Switch[<button>.onClick]","t3","t4","t5","t6","t7","t8"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4431, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/schedule-dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { format, addDays, addHours } from \"date-fns\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  Button,\r\n  Label,\r\n} from \"@prosfin/ui\";\r\nimport { Switch } from \"@/components/shared/switch\";\r\nimport { Calendar, Clock } from \"lucide-react\";\r\n\r\ninterface ScheduleDialogProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConfirm: (scheduledFor: string | null) => void;\r\n  currentScheduledFor?: string;\r\n}\r\n\r\nexport function ScheduleDialog({\r\n  open,\r\n  onOpenChange,\r\n  onConfirm,\r\n  currentScheduledFor,\r\n}: ScheduleDialogProps) {\r\n  const [publishImmediately, setPublishImmediately] = React.useState(!currentScheduledFor);\r\n  const [date, setDate] = React.useState(() => {\r\n    if (currentScheduledFor) {\r\n      return format(new Date(currentScheduledFor), \"yyyy-MM-dd\");\r\n    }\r\n    return format(addDays(new Date(), 1), \"yyyy-MM-dd\");\r\n  });\r\n  const [time, setTime] = React.useState(() => {\r\n    if (currentScheduledFor) {\r\n      return format(new Date(currentScheduledFor), \"HH:mm\");\r\n    }\r\n    return \"08:00\";\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    if (open && currentScheduledFor) {\r\n      const scheduledDate = new Date(currentScheduledFor);\r\n      setDate(format(scheduledDate, \"yyyy-MM-dd\"));\r\n      setTime(format(scheduledDate, \"HH:mm\"));\r\n      setPublishImmediately(false);\r\n    } else if (open && !currentScheduledFor) {\r\n      setPublishImmediately(true);\r\n    }\r\n  }, [open, currentScheduledFor]);\r\n\r\n  const handleConfirm = () => {\r\n    if (publishImmediately) {\r\n      onConfirm(null);\r\n    } else {\r\n      const scheduledFor = new Date(`${date}T${time}:00`);\r\n      const now = new Date();\r\n      \r\n      if (scheduledFor <= now) {\r\n        alert(\"Cannot schedule in the past. Please select a future date and time.\");\r\n        return;\r\n      }\r\n      \r\n      onConfirm(scheduledFor.toISOString());\r\n    }\r\n    onOpenChange(false);\r\n  };\r\n\r\n  const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\r\n\r\n  return (\r\n    <Dialog open={open} onOpenChange={onOpenChange}>\r\n      <DialogContent className=\"sm:max-w-[425px]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Schedule Publication</DialogTitle>\r\n          <DialogDescription>\r\n            Choose when to publish this post. You can schedule it for later or publish immediately.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        <div className=\"grid gap-4 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Label htmlFor=\"publish-immediately\" className=\"cursor-pointer\">\r\n              Publish immediately\r\n            </Label>\r\n            <Switch\r\n              id=\"publish-immediately\"\r\n              checked={publishImmediately}\r\n              onCheckedChange={setPublishImmediately}\r\n            />\r\n          </div>\r\n\r\n          {!publishImmediately && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label htmlFor=\"schedule-date\" className=\"mb-2 flex items-center gap-2\">\r\n                  <Calendar className=\"size-4\" />\r\n                  Date\r\n                </Label>\r\n                <input\r\n                  id=\"schedule-date\"\r\n                  type=\"date\"\r\n                  value={date}\r\n                  onChange={(e) => setDate(e.target.value)}\r\n                  min={format(new Date(), \"yyyy-MM-dd\")}\r\n                  className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <Label htmlFor=\"schedule-time\" className=\"mb-2 flex items-center gap-2\">\r\n                  <Clock className=\"size-4\" />\r\n                  Time\r\n                </Label>\r\n                <input\r\n                  id=\"schedule-time\"\r\n                  type=\"time\"\r\n                  value={time}\r\n                  onChange={(e) => setTime(e.target.value)}\r\n                  className=\"w-full rounded-md border border-input bg-background px-3 py-2 text-sm\"\r\n                />\r\n              </div>\r\n              <div className=\"text-muted-foreground text-xs\">\r\n                Timezone: {timezone}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <DialogFooter>\r\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={handleConfirm}>\r\n            {publishImmediately ? \"Publish Now\" : \"Schedule\"}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","format","addDays","addHours","Dialog","DialogContent","DialogDescription","DialogFooter","DialogHeader","DialogTitle","Button","Label","Switch","Calendar","Clock","ScheduleDialogProps","open","onOpenChange","onConfirm","scheduledFor","currentScheduledFor","ScheduleDialog","t0","$","$i","Symbol","for","publishImmediately","setPublishImmediately","useState","t1","ScheduleDialog[useState()]","Date","date","setDate","t2","time","setTime","t3","t4","ScheduleDialog[useEffect()]","scheduledDate","useEffect","t5","ScheduleDialog[handleConfirm]","now","alert","toISOString","handleConfirm","t6","Intl","DateTimeFormat","resolvedOptions","timezone","timeZone","t7","t8","t9","t10","e","target","value","e_0","t11","t12","ScheduleDialog[<Button>.onClick]","t13","t14","t15","t16","t17"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 4865, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/editor-shell.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { MetadataPanel } from \"./metadata-panel\";\r\nimport { EditorActionBar } from \"./editor-action-bar\";\r\nimport { PublishDialog } from \"./publish-dialog\";\r\nimport { ScheduleDialog } from \"./schedule-dialog\";\r\nimport type { Post, PostFormData } from \"@/types/content\";\r\nimport {\r\n  saveDraft,\r\n  publish,\r\n  unpublish,\r\n  archivePost,\r\n  restorePost,\r\n  reschedulePost,\r\n  publishNow,\r\n  cancelSchedule,\r\n  createDraftRevision,\r\n  updatePublishedPost,\r\n} from \"@/lib/data/posts\";\r\nimport { showToast } from \"@/lib/toast\";\r\n\r\ninterface EditorShellProps {\r\n  post?: Post;\r\n  onSave: (data: PostFormData) => Promise<void>;\r\n  onPublish?: (data: PostFormData) => Promise<void>;\r\n  onSchedule?: (data: PostFormData, scheduledFor: string) => Promise<void>;\r\n  formData?: PostFormData | null;\r\n  onFormDataChange?: (data: PostFormData) => void;\r\n  children: React.ReactNode; // Editor canvas\r\n}\r\n\r\nexport function EditorShell({\r\n  post,\r\n  onSave: externalOnSave,\r\n  onPublish: externalOnPublish,\r\n  onSchedule: externalOnSchedule,\r\n  formData: externalFormData,\r\n  onFormDataChange: externalOnFormDataChange,\r\n  children,\r\n}: EditorShellProps) {\r\n  const router = useRouter();\r\n  const [isSaving, setIsSaving] = React.useState(false);\r\n  const [isSaved, setIsSaved] = React.useState(false);\r\n  const [hasUnsavedChanges, setHasUnsavedChanges] = React.useState(false);\r\n  const [lastSavedAt, setLastSavedAt] = React.useState<string | undefined>();\r\n  const [internalFormData, setInternalFormData] = React.useState<PostFormData | null>(null);\r\n  const [publishDialogOpen, setPublishDialogOpen] = React.useState(false);\r\n  const [scheduleDialogOpen, setScheduleDialogOpen] = React.useState(false);\r\n\r\n  const formData = externalFormData ?? internalFormData;\r\n  const setFormData = externalOnFormDataChange ?? setInternalFormData;\r\n\r\n  // Auto-save to localStorage and trigger save callback\r\n  React.useEffect(() => {\r\n    if (formData && hasUnsavedChanges && formData.title) {\r\n      const timer = setTimeout(async () => {\r\n        const key = post ? `post-draft-${post.id}` : \"post-draft-new\";\r\n        localStorage.setItem(key, JSON.stringify(formData));\r\n        \r\n        // Auto-save draft (silent, don't show saved indicator)\r\n        try {\r\n          await handleSaveInternal();\r\n        } catch (error) {\r\n          console.error(\"Auto-save failed:\", error);\r\n        }\r\n      }, 3000); // Auto-save after 3 seconds of inactivity\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [formData, hasUnsavedChanges, post]);\r\n\r\n  const handleSaveInternal = async () => {\r\n    if (!formData || !post) return;\r\n    await saveDraft(formData, post.id);\r\n    setLastSavedAt(new Date().toISOString());\r\n    setHasUnsavedChanges(false);\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    if (!formData) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      if (post) {\r\n        await saveDraft(formData, post.id);\r\n        const updated = await import(\"@/lib/data/posts\").then((m) => m.getPostById(post.id));\r\n        if (updated) {\r\n          // Update formData with saved data\r\n          setFormData({\r\n            ...formData,\r\n            status: updated.status,\r\n            scheduledFor: updated.scheduledFor,\r\n          });\r\n        }\r\n      } else {\r\n        const saved = await saveDraft(formData);\r\n        router.push(`/content/${saved.slug}`);\r\n        return;\r\n      }\r\n      setIsSaved(true);\r\n      setLastSavedAt(new Date().toISOString());\r\n      setHasUnsavedChanges(false);\r\n      setTimeout(() => setIsSaved(false), 2000);\r\n      showToast.success(\"Draft saved\");\r\n    } catch (error) {\r\n      console.error(\"Failed to save:\", error);\r\n      showToast.error(\"Failed to save draft\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handlePublish = async () => {\r\n    if (!formData) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      if (post) {\r\n        await publish(post.id);\r\n      } else {\r\n        const saved = await saveDraft(formData);\r\n        await publish(saved.id);\r\n      }\r\n      showToast.success(\"Post published\");\r\n      router.push(\"/content\");\r\n    } catch (error) {\r\n      console.error(\"Failed to publish:\", error);\r\n      showToast.error(\"Failed to publish post\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleSchedule = async (scheduledFor: string | null) => {\r\n    if (!formData) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      if (scheduledFor === null) {\r\n        // Publish immediately\r\n        if (post) {\r\n          await publish(post.id);\r\n        } else {\r\n          const saved = await saveDraft(formData);\r\n          await publish(saved.id);\r\n        }\r\n        showToast.success(\"Post published\");\r\n      } else {\r\n        // Schedule for later\r\n        if (post) {\r\n          await reschedulePost(post.id, scheduledFor);\r\n        } else {\r\n          const saved = await saveDraft(formData);\r\n          await reschedulePost(saved.id, scheduledFor);\r\n        }\r\n        showToast.success(\"Post scheduled\");\r\n      }\r\n      router.push(\"/content\");\r\n    } catch (error) {\r\n      console.error(\"Failed to schedule:\", error);\r\n      showToast.error(\"Failed to schedule post\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleUnpublish = async () => {\r\n    if (!post) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      await unpublish(post.id);\r\n      showToast.success(\"Post unpublished\");\r\n      router.push(\"/content\");\r\n    } catch (error) {\r\n      console.error(\"Failed to unpublish:\", error);\r\n      showToast.error(\"Failed to unpublish post\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleArchive = async () => {\r\n    if (!post) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      await archivePost(post.id);\r\n      showToast.success(\"Post archived\");\r\n      router.push(\"/content\");\r\n    } catch (error) {\r\n      console.error(\"Failed to archive:\", error);\r\n      showToast.error(\"Failed to archive post\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleRestore = async () => {\r\n    if (!post) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      await restorePost(post.id);\r\n      showToast.success(\"Post restored\");\r\n      router.push(\"/content\");\r\n    } catch (error) {\r\n      console.error(\"Failed to restore:\", error);\r\n      showToast.error(\"Failed to restore post\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handlePublishNow = async () => {\r\n    if (!post) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      await publishNow(post.id);\r\n      showToast.success(\"Post published\");\r\n      router.push(\"/content\");\r\n    } catch (error) {\r\n      console.error(\"Failed to publish now:\", error);\r\n      showToast.error(\"Failed to publish post\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelSchedule = async () => {\r\n    if (!post) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      await cancelSchedule(post.id);\r\n      showToast.success(\"Schedule cancelled\");\r\n      router.push(\"/content\");\r\n    } catch (error) {\r\n      console.error(\"Failed to cancel schedule:\", error);\r\n      showToast.error(\"Failed to cancel schedule\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleUpdatePublished = async (mode: \"update\" | \"draft\") => {\r\n    if (!formData || !post) return;\r\n\r\n    setIsSaving(true);\r\n    try {\r\n      if (mode === \"update\") {\r\n        await updatePublishedPost(post.id, formData);\r\n        showToast.success(\"Published post updated\");\r\n      } else {\r\n        const draftRevision = await createDraftRevision(post.id, formData);\r\n        showToast.success(\"Draft revision created\");\r\n        router.push(`/content/${draftRevision.slug}`);\r\n        return;\r\n      }\r\n      router.push(\"/content\");\r\n    } catch (error) {\r\n      console.error(\"Failed to update published:\", error);\r\n      showToast.error(\"Failed to update published post\");\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex h-screen flex-col\">\r\n      <EditorActionBar\r\n        post={post}\r\n        formData={formData}\r\n        hasUnsavedChanges={hasUnsavedChanges}\r\n        isSaving={isSaving}\r\n        isSaved={isSaved}\r\n        lastSavedAt={lastSavedAt}\r\n        onSave={handleSave}\r\n        onPublish={handlePublish}\r\n        onSchedule={handleSchedule}\r\n        onUnpublish={handleUnpublish}\r\n        onArchive={handleArchive}\r\n        onRestore={handleRestore}\r\n        onReschedule={() => setScheduleDialogOpen(true)}\r\n        onPublishNow={handlePublishNow}\r\n        onCancelSchedule={handleCancelSchedule}\r\n        onUpdatePublished={() => setPublishDialogOpen(true)}\r\n        onUnsavedChangesChange={setHasUnsavedChanges}\r\n      />\r\n\r\n      {/* Main Content */}\r\n      <div className=\"flex flex-1 overflow-hidden\">\r\n        {/* Editor Canvas (Left) */}\r\n        <div className=\"flex-1 overflow-y-auto bg-background\">\r\n          <div className=\"mx-auto max-w-4xl px-6 py-8\">{children}</div>\r\n        </div>\r\n\r\n        {/* Metadata Panel (Right) */}\r\n        <div className=\"w-80 border-l bg-muted/30\">\r\n          <MetadataPanel\r\n            post={post}\r\n            formData={formData}\r\n            onFormDataChange={(data) => {\r\n              // Edge case: If status changed from scheduled to draft, cancel schedule\r\n              if (post?.status === \"scheduled\" && data.status === \"draft\" && post.scheduledFor) {\r\n                cancelSchedule(post.id).catch(console.error);\r\n              }\r\n              setFormData(data);\r\n              setHasUnsavedChanges(true);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Dialogs */}\r\n      <PublishDialog\r\n        open={publishDialogOpen}\r\n        onOpenChange={setPublishDialogOpen}\r\n        onConfirm={handleUpdatePublished}\r\n      />\r\n      <ScheduleDialog\r\n        open={scheduleDialogOpen}\r\n        onOpenChange={setScheduleDialogOpen}\r\n        onConfirm={handleSchedule}\r\n        currentScheduledFor={post?.scheduledFor}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["React","useRouter","MetadataPanel","EditorActionBar","PublishDialog","ScheduleDialog","Post","PostFormData","saveDraft","publish","unpublish","archivePost","restorePost","reschedulePost","publishNow","cancelSchedule","createDraftRevision","updatePublishedPost","showToast","EditorShellProps","post","onSave","data","Promise","onPublish","onSchedule","scheduledFor","formData","onFormDataChange","children","ReactNode","EditorShell","externalOnSave","externalOnPublish","externalOnSchedule","externalFormData","externalOnFormDataChange","router","isSaving","setIsSaving","useState","isSaved","setIsSaved","hasUnsavedChanges","setHasUnsavedChanges","lastSavedAt","setLastSavedAt","internalFormData","setInternalFormData","publishDialogOpen","setPublishDialogOpen","scheduleDialogOpen","setScheduleDialogOpen","setFormData","useEffect","title","timer","setTimeout","key","id","localStorage","setItem","JSON","stringify","handleSaveInternal","error","console","clearTimeout","Date","toISOString","handleSave","updated","then","m","getPostById","status","saved","push","slug","success","handlePublish","handleSchedule","handleUnpublish","handleArchive","handleRestore","handlePublishNow","handleCancelSchedule","handleUpdatePublished","mode","draftRevision","catch"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 5220, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/lib/editor/editor-toolbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { useLexicalComposerContext } from \"@lexical/react/LexicalComposerContext\";\r\nimport {\r\n  $getSelection,\r\n  $isRangeSelection,\r\n  FORMAT_TEXT_COMMAND,\r\n  $createParagraphNode,\r\n  $getRoot,\r\n} from \"lexical\";\r\nimport { $isHeadingNode, $createHeadingNode, $createQuoteNode } from \"@lexical/rich-text\";\r\nimport { $isListNode, INSERT_UNORDERED_LIST_COMMAND, INSERT_ORDERED_LIST_COMMAND } from \"@lexical/list\";\r\nimport { $createLinkNode, TOGGLE_LINK_COMMAND } from \"@lexical/link\";\r\nimport { Button, Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger, Input, Label } from \"@prosfin/ui\";\r\nimport { Bold, Italic, Underline, List, ListOrdered, Quote, Heading1, Heading2, Heading3, Link, Minus } from \"lucide-react\";\r\n\r\nexport function EditorToolbar() {\r\n  const [editor] = useLexicalComposerContext();\r\n  const [isBold, setIsBold] = React.useState(false);\r\n  const [isItalic, setIsItalic] = React.useState(false);\r\n  const [isUnderline, setIsUnderline] = React.useState(false);\r\n\r\n  const updateToolbar = React.useCallback(() => {\r\n    const selection = $getSelection();\r\n    if ($isRangeSelection(selection)) {\r\n      setIsBold(selection.hasFormat(\"bold\"));\r\n      setIsItalic(selection.hasFormat(\"italic\"));\r\n      setIsUnderline(selection.hasFormat(\"underline\"));\r\n    }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    return editor.registerUpdateListener(({ editorState }) => {\r\n      editorState.read(() => {\r\n        updateToolbar();\r\n      });\r\n    });\r\n  }, [editor, updateToolbar]);\r\n\r\n  const formatHeading = (headingSize: \"h1\" | \"h2\" | \"h3\") => {\r\n    editor.update(() => {\r\n      const selection = $getSelection();\r\n      if ($isRangeSelection(selection)) {\r\n        const headingNode = $createHeadingNode(headingSize);\r\n        selection.insertNodes([headingNode]);\r\n      }\r\n    });\r\n  };\r\n\r\n  const insertDivider = () => {\r\n    editor.update(() => {\r\n      const root = $getRoot();\r\n      const paragraph = $createParagraphNode();\r\n      root.append(paragraph);\r\n      // Create a simple divider using a paragraph with border\r\n      const divider = $createParagraphNode();\r\n      divider.setFormat(\"center\");\r\n      root.append(divider);\r\n    });\r\n  };\r\n\r\n  const [linkDialogOpen, setLinkDialogOpen] = React.useState(false);\r\n  const [linkUrl, setLinkUrl] = React.useState(\"\");\r\n  const [linkText, setLinkText] = React.useState(\"\");\r\n\r\n  const insertLink = () => {\r\n    editor.update(() => {\r\n      const selection = $getSelection();\r\n      if ($isRangeSelection(selection)) {\r\n        if (!selection.isCollapsed()) {\r\n          // If text is selected, make it a link\r\n          const url = linkUrl || \"https://\";\r\n          editor.dispatchCommand(TOGGLE_LINK_COMMAND, url);\r\n        } else {\r\n          // Insert link node with text\r\n          const linkNode = $createLinkNode(linkUrl || \"https://\", { target: \"_blank\" });\r\n          const paragraph = $createParagraphNode();\r\n          if (linkText) {\r\n            // Add text node to paragraph, then add paragraph to link\r\n            // This is simplified - in real implementation would use TextNode\r\n            selection.insertNodes([linkNode]);\r\n          } else {\r\n            selection.insertNodes([linkNode]);\r\n          }\r\n        }\r\n      }\r\n      setLinkDialogOpen(false);\r\n      setLinkUrl(\"\");\r\n      setLinkText(\"\");\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-1 border-b p-2\">\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"bold\")}\r\n        className={isBold ? \"bg-muted\" : \"\"}\r\n      >\r\n        <Bold className=\"size-4\" />\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"italic\")}\r\n        className={isItalic ? \"bg-muted\" : \"\"}\r\n      >\r\n        <Italic className=\"size-4\" />\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => editor.dispatchCommand(FORMAT_TEXT_COMMAND, \"underline\")}\r\n        className={isUnderline ? \"bg-muted\" : \"\"}\r\n      >\r\n        <Underline className=\"size-4\" />\r\n      </Button>\r\n      <div className=\"mx-1 h-6 w-px bg-border\" />\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => formatHeading(\"h1\")}\r\n        title=\"Heading 1\"\r\n      >\r\n        <Heading1 className=\"size-4\" />\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => formatHeading(\"h2\")}\r\n        title=\"Heading 2\"\r\n      >\r\n        <Heading2 className=\"size-4\" />\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => formatHeading(\"h3\")}\r\n        title=\"Heading 3\"\r\n      >\r\n        <Heading3 className=\"size-4\" />\r\n      </Button>\r\n      <div className=\"mx-1 h-6 w-px bg-border\" />\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => editor.dispatchCommand(INSERT_UNORDERED_LIST_COMMAND, undefined)}\r\n        title=\"Bullet List\"\r\n      >\r\n        <List className=\"size-4\" />\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => editor.dispatchCommand(INSERT_ORDERED_LIST_COMMAND, undefined)}\r\n        title=\"Numbered List\"\r\n      >\r\n        <ListOrdered className=\"size-4\" />\r\n      </Button>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={() => {\r\n          editor.update(() => {\r\n            const selection = $getSelection();\r\n            if ($isRangeSelection(selection)) {\r\n              const quoteNode = $createQuoteNode();\r\n              selection.insertNodes([quoteNode]);\r\n            }\r\n          });\r\n        }}\r\n        title=\"Quote\"\r\n      >\r\n        <Quote className=\"size-4\" />\r\n      </Button>\r\n      <div className=\"mx-1 h-6 w-px bg-border\" />\r\n      <Dialog open={linkDialogOpen} onOpenChange={setLinkDialogOpen}>\r\n        <DialogTrigger asChild>\r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"icon\"\r\n            title=\"Insert Link\"\r\n          >\r\n            <Link className=\"size-4\" />\r\n          </Button>\r\n        </DialogTrigger>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>Insert Link</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"space-y-4 py-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"link-url\">URL</Label>\r\n              <Input\r\n                id=\"link-url\"\r\n                type=\"url\"\r\n                placeholder=\"https://example.com\"\r\n                value={linkUrl}\r\n                onChange={(e) => setLinkUrl(e.target.value)}\r\n              />\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"link-text\">Link Text (optional)</Label>\r\n              <Input\r\n                id=\"link-text\"\r\n                placeholder=\"Link text\"\r\n                value={linkText}\r\n                onChange={(e) => setLinkText(e.target.value)}\r\n              />\r\n            </div>\r\n            <Button onClick={insertLink} className=\"w-full\">\r\n              Insert Link\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"icon\"\r\n        onClick={insertDivider}\r\n        title=\"Divider\"\r\n      >\r\n        <Minus className=\"size-4\" />\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","useLexicalComposerContext","$getSelection","$isRangeSelection","FORMAT_TEXT_COMMAND","$createParagraphNode","$getRoot","$isHeadingNode","$createHeadingNode","$createQuoteNode","$isListNode","INSERT_UNORDERED_LIST_COMMAND","INSERT_ORDERED_LIST_COMMAND","$createLinkNode","TOGGLE_LINK_COMMAND","Button","Dialog","DialogContent","DialogHeader","DialogTitle","DialogTrigger","Input","Label","Bold","Italic","Underline","List","ListOrdered","Quote","Heading1","Heading2","Heading3","Link","Minus","EditorToolbar","$","$i","Symbol","for","editor","isBold","setIsBold","useState","isItalic","setIsItalic","isUnderline","setIsUnderline","t0","EditorToolbar[updateToolbar]","selection","hasFormat","updateToolbar","t1","t2","EditorToolbar[useEffect()]","registerUpdateListener","t3","editorState","read","EditorToolbar[useEffect() > editor.registerUpdateListener() > editorState.read()]","useEffect","headingSize","update","EditorToolbar[formatHeading > editor.update()]","selection_0","headingNode","insertNodes","formatHeading","t4","EditorToolbar[insertDivider]","_EditorToolbarInsertDividerEditorUpdate","insertDivider","linkDialogOpen","setLinkDialogOpen","linkUrl","setLinkUrl","linkText","setLinkText","t5","EditorToolbar[insertLink]","EditorToolbar[insertLink > editor.update()]","selection_1","isCollapsed","url","dispatchCommand","linkNode","target","insertLink","t6","EditorToolbar[<Button>.onClick]","t7","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","undefined","t30","t31","t32","t33","t34","t35","_EditorToolbarButtonOnClickEditorUpdate","t36","t37","t38","t39","t40","t41","t42","e","value","t43","t44","t45","e_0","t46","t47","t48","t49","t50","t51","t52","selection_2","quoteNode","root","paragraph","append","divider","setFormat"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6134, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/lib/editor/lexical-editor.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { LexicalComposer } from \"@lexical/react/LexicalComposer\";\r\nimport { RichTextPlugin } from \"@lexical/react/LexicalRichTextPlugin\";\r\nimport { ContentEditable } from \"@lexical/react/LexicalContentEditable\";\r\nimport { HistoryPlugin } from \"@lexical/react/LexicalHistoryPlugin\";\r\nimport { LinkPlugin } from \"@lexical/react/LexicalLinkPlugin\";\r\nimport { ListPlugin } from \"@lexical/react/LexicalListPlugin\";\r\nimport { useLexicalComposerContext } from \"@lexical/react/LexicalComposerContext\";\r\nimport { HeadingNode, QuoteNode } from \"@lexical/rich-text\";\r\nimport { ListItemNode, ListNode } from \"@lexical/list\";\r\nimport { LinkNode } from \"@lexical/link\";\r\nimport { $getRoot } from \"lexical\";\r\nimport { EditorToolbar } from \"./editor-toolbar\";\r\n\r\n// Re-export from types to ensure consistency\r\nimport type { LexicalEditorState } from \"@/types/content\";\r\nexport type { LexicalEditorState };\r\n\r\n/**\r\n * Base Lexical Editor Component\r\n * \r\n * Provides a rich text editor using Lexical\r\n */\r\n\r\ninterface LexicalEditorProps {\r\n  initialContent?: LexicalEditorState;\r\n  onChange?: (content: LexicalEditorState) => void;\r\n  placeholder?: string;\r\n  className?: string;\r\n}\r\n\r\nconst theme = {\r\n  paragraph: \"mb-2\",\r\n  heading: {\r\n    h1: \"text-4xl font-bold mb-4\",\r\n    h2: \"text-3xl font-bold mb-3\",\r\n    h3: \"text-2xl font-bold mb-2\",\r\n  },\r\n  quote: \"border-l-4 border-gray-300 pl-4 italic my-4\",\r\n  list: {\r\n    nested: {\r\n      listitem: \"ml-4\",\r\n    },\r\n    ol: \"list-decimal ml-6 my-2\",\r\n    ul: \"list-disc ml-6 my-2\",\r\n    listitem: \"my-1\",\r\n  },\r\n  link: \"text-blue-600 underline hover:text-blue-800\",\r\n  text: {\r\n    bold: \"font-bold\",\r\n    italic: \"italic\",\r\n    underline: \"underline\",\r\n  },\r\n};\r\n\r\nconst initialConfig = {\r\n  namespace: \"ProsFinEditor\",\r\n  theme,\r\n  nodes: [HeadingNode, QuoteNode, ListNode, ListItemNode, LinkNode],\r\n  onError: (error: Error) => {\r\n    console.error(\"Lexical error:\", error);\r\n  },\r\n};\r\n\r\nfunction EditorContent({ placeholder }: { placeholder?: string }) {\r\n  const placeholderText = placeholder || \"Start writing...\";\r\n  return (\r\n    <ContentEditable\r\n      className=\"min-h-[600px] outline-none prose prose-lg max-w-none\"\r\n      aria-placeholder={placeholderText}\r\n      placeholder={\r\n        <div className=\"absolute top-0 left-0 text-muted-foreground pointer-events-none\">\r\n          {placeholderText}\r\n        </div>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nfunction OnChange({\r\n  onChange,\r\n}: {\r\n  onChange?: (content: LexicalEditorState) => void;\r\n}) {\r\n  const [editor] = useLexicalComposerContext();\r\n\r\n  React.useEffect(() => {\r\n    return editor.registerUpdateListener(({ editorState }) => {\r\n      editorState.read(() => {\r\n        const json = editorState.toJSON() as LexicalEditorState;\r\n        onChange?.(json);\r\n      });\r\n    });\r\n  }, [editor, onChange]);\r\n\r\n  return null;\r\n}\r\n\r\nfunction InitialContentPlugin({\r\n  initialContent,\r\n}: {\r\n  initialContent?: LexicalEditorState;\r\n}) {\r\n  const [editor] = useLexicalComposerContext();\r\n  const [hasSetInitial, setHasSetInitial] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    if (initialContent && !hasSetInitial && editor) {\r\n      try {\r\n        // Parse and set editor state from JSON\r\n        const editorState = editor.parseEditorState(initialContent as any);\r\n        editor.setEditorState(editorState);\r\n        setHasSetInitial(true);\r\n      } catch (error) {\r\n        console.error(\"Failed to parse initial content:\", error);\r\n      }\r\n    }\r\n  }, [editor, initialContent, hasSetInitial]);\r\n\r\n  return null;\r\n}\r\n\r\nexport function LexicalEditor({\r\n  initialContent,\r\n  onChange,\r\n  placeholder = \"Start writing...\",\r\n  className,\r\n}: LexicalEditorProps) {\r\n  return (\r\n    <LexicalComposer initialConfig={initialConfig}>\r\n      <div className={`flex flex-col border rounded-lg ${className}`}>\r\n        <EditorToolbar />\r\n        <div className=\"p-4\">\r\n          <RichTextPlugin\r\n            contentEditable={<EditorContent placeholder={placeholder} />}\r\n            placeholder={null}\r\n            ErrorBoundary={({ children }) => <>{children}</>}\r\n          />\r\n          <HistoryPlugin />\r\n          <LinkPlugin />\r\n          <ListPlugin />\r\n          <OnChange onChange={onChange} />\r\n          {initialContent && <InitialContentPlugin initialContent={initialContent} />}\r\n        </div>\r\n      </div>\r\n    </LexicalComposer>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","LexicalComposer","RichTextPlugin","ContentEditable","HistoryPlugin","LinkPlugin","ListPlugin","useLexicalComposerContext","HeadingNode","QuoteNode","ListItemNode","ListNode","LinkNode","$getRoot","EditorToolbar","LexicalEditorState","LexicalEditorProps","initialContent","onChange","content","placeholder","className","theme","paragraph","heading","h1","h2","h3","quote","list","nested","listitem","ol","ul","link","text","bold","italic","underline","initialConfig","namespace","nodes","onError","error","Error","console","EditorContent","t0","$","$i","Symbol","for","placeholderText","t1","t2","OnChange","editor","OnChange[useEffect()]","registerUpdateListener","t3","editorState","read","OnChange[useEffect() > editor.registerUpdateListener() > editorState.read()]","json","toJSON","useEffect","InitialContentPlugin","hasSetInitial","setHasSetInitial","useState","InitialContentPlugin[useEffect()]","parseEditorState","setEditorState","LexicalEditor","undefined","t4","_LexicalEditorRichTextPluginErrorBoundary","t5","t6","t7","t8","t9","t10","t11","children"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 6521, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/components/content/post-editor/editor-canvas.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { LexicalEditor } from \"@/lib/editor/lexical-editor\";\r\nimport type { LexicalEditorState } from \"@/types/content\";\r\n\r\ninterface EditorCanvasProps {\r\n  content: LexicalEditorState;\r\n  onChange: (content: LexicalEditorState) => void;\r\n}\r\n\r\n/**\r\n * Editor canvas using Lexical\r\n */\r\nexport function EditorCanvas({ content, onChange }: EditorCanvasProps) {\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <LexicalEditor\r\n        initialContent={content}\r\n        onChange={onChange}\r\n        placeholder=\"Start writing your post...\"\r\n        className=\"min-h-[600px]\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":["c","_c","React","LexicalEditor","LexicalEditorState","EditorCanvasProps","content","onChange","EditorCanvas","t0","$","$i","Symbol","for","t1"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAGb,SAASE,aAAa,QAAQ,6BAA6B;AAH3D,YAAY;;;;AAcL,sBAAAM,EAAA;IAAA,MAAAC,CAAA,OAAAT,+RAAA,EAAA;IAAA,IAAAS,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,GAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAsB,MAAA,EAAAJ,OAAA,EAAAC,QAAAA,EAAA,GAAAE,EAAwC;IAAA,IAAAK,EAAA;IAAA,IAAAJ,CAAA,CAAA,EAAA,KAAAJ,OAAA,IAAAI,CAAA,CAAA,EAAA,KAAAH,QAAA,EAAA;QAEjEO,EAAA,iBAAA,4SAAA,GAOM;YAPS,SAAW,EAAX,WAAW;oCACxB,4SAAC,+KAAa;gBACIR,cAAO,CAAPA,CAAAA,OAAM,CAAC;gBACbC,QAAQ,CAARA,CAAAA,QAAO,CAAC;gBACN,WAA4B,EAA5B,4BAA4B;gBAC9B,SAAe,EAAf,eAAe,GAE7B,EAPA,GAOM;;;;;;;;;;;QAAAG,CAAA,CAAA,EAAA,GAAAJ,OAAA;QAAAI,CAAA,CAAA,EAAA,GAAAH,QAAA;QAAAG,CAAA,CAAA,EAAA,GAAAI,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAJ,CAAA,CAAA,EAAA;IAAA;IAAA,OAPNI,EAOM;AAAA;KATHN","ignoreList":[]}},
    {"offset": {"line": 6578, "column": 0}, "map": {"version":3,"sources":["C:/Users/minhmice/Documents/projects/prosfin-web/apps/admin/src/app/(app)/content/[slug]/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport * as React from \"react\";\r\nimport { use } from \"react\";\r\nimport { EditorShell } from \"@/components/content/post-editor/editor-shell\";\r\nimport { EditorCanvas } from \"@/components/content/post-editor/editor-canvas\";\r\nimport { getPostById, saveDraft, publish } from \"@/lib/data/posts\";\r\nimport type { PostFormData } from \"@/types/content\";\r\n\r\ninterface EditorPageProps {\r\n  params: Promise<{ slug: string }>;\r\n}\r\n\r\nexport default function EditorPage({ params }: EditorPageProps) {\r\n  const { slug } = use(params);\r\n  const [post, setPost] = React.useState<Awaited<ReturnType<typeof getPostById>>>(null);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const [formData, setFormData] = React.useState<PostFormData | null>(null);\r\n\r\n  React.useEffect(() => {\r\n    if (slug === \"new\") {\r\n      setIsLoading(false);\r\n      setFormData({\r\n        title: \"\",\r\n        slug: \"\",\r\n        bucket: \"insights\",\r\n        excerpt: \"\",\r\n        cover: \"\",\r\n        tags: [],\r\n        content: {\r\n          root: {\r\n            children: [],\r\n            direction: \"ltr\",\r\n            format: \"\",\r\n            indent: 0,\r\n            type: \"root\",\r\n            version: 1,\r\n          },\r\n        },\r\n        status: \"draft\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Find post by slug (we need to search all buckets)\r\n    const loadPost = async () => {\r\n      try {\r\n        const { listPosts } = await import(\"@/lib/data/posts\");\r\n        const allPosts = await listPosts();\r\n        const found = allPosts.find((p) => p.slug === slug);\r\n        if (found) {\r\n          const { getPostById } = await import(\"@/lib/data/posts\");\r\n          const fullPost = await getPostById(found.id);\r\n          setPost(fullPost);\r\n          if (fullPost) {\r\n            setFormData({\r\n              title: fullPost.title,\r\n              slug: fullPost.slug,\r\n              bucket: fullPost.bucket,\r\n              excerpt: fullPost.excerpt,\r\n              cover: fullPost.cover,\r\n              tags: fullPost.tags,\r\n              content: fullPost.content,\r\n              seoTitle: fullPost.seoTitle,\r\n              seoDescription: fullPost.seoDescription,\r\n              canonical: fullPost.canonical,\r\n              noindex: fullPost.noindex,\r\n              status: fullPost.status,\r\n              scheduledFor: fullPost.scheduledFor,\r\n            });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Failed to load post:\", error);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    loadPost();\r\n  }, [slug]);\r\n\r\n  const handleSave = async (data: PostFormData) => {\r\n    await saveDraft(data, post?.id);\r\n    if (post) {\r\n      const updated = await getPostById(post.id);\r\n      setPost(updated);\r\n    }\r\n  };\r\n\r\n  const handlePublish = async (data: PostFormData) => {\r\n    if (post) {\r\n      await publish(post.id);\r\n    } else {\r\n      const saved = await saveDraft(data);\r\n      await publish(saved.id);\r\n    }\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex h-screen items-center justify-center\">\r\n        <p className=\"text-muted-foreground\">Loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!formData) {\r\n    return (\r\n      <div className=\"flex h-screen items-center justify-center\">\r\n        <p className=\"text-muted-foreground\">Post not found</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <EditorShell\r\n      post={post || undefined}\r\n      onSave={handleSave}\r\n      onPublish={handlePublish}\r\n      formData={formData}\r\n      onFormDataChange={setFormData}\r\n    >\r\n      <EditorCanvas\r\n        content={formData.content}\r\n        onChange={(content) => {\r\n          setFormData({ ...formData, content });\r\n        }}\r\n      />\r\n    </EditorShell>\r\n  );\r\n}\r\n\r\n"],"names":["React","use","EditorShell","EditorCanvas","getPostById","saveDraft","publish","PostFormData","EditorPageProps","params","Promise","slug","EditorPage","post","setPost","useState","Awaited","ReturnType","isLoading","setIsLoading","formData","setFormData","useEffect","title","bucket","excerpt","cover","tags","content","root","children","direction","format","indent","type","version","status","loadPost","listPosts","allPosts","found","find","p","fullPost","id","seoTitle","seoDescription","canonical","noindex","scheduledFor","error","console","handleSave","data","updated","handlePublish","saved","undefined"],"mappings":"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","ignoreList":[]}}]
}