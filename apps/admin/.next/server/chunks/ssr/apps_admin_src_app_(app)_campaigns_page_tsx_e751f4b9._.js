module.exports=[155,a=>{"use strict";var b=a.i(91870),c=a.i(44981),d=a.i(64964);a.i(56120);var e=a.i(83750),f=a.i(92365),g=a.i(27725),h=a.i(6334),i=a.i(18416),j=a.i(37717),k=a.i(83357),l=a.i(28761);let m=(0,l.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),n=(0,l.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var o=a.i(39226);let p={draft:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800"},q=[{label:"Facebook",source:"facebook",medium:"social"},{label:"YouTube",source:"youtube",medium:"social"},{label:"TikTok",source:"tiktok",medium:"social"},{label:"LinkedIn",source:"linkedin",medium:"social"},{label:"Email",source:"email",medium:"email"}];function r(){let[a,l]=c.useState([]),[r,s]=c.useState(!0),[t,u]=c.useState(""),[v,w]=c.useState(!1),[x,y]=c.useState({name:"",baseUrl:"https://prosfin.vn",utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_term:""});c.useEffect(()=>{(0,o.listCampaigns)().then(a=>{l(a),s(!1)})},[]);let z=async()=>{t&&(await navigator.clipboard.writeText(t),w(!0),setTimeout(()=>w(!1),2e3))},A=async()=>{if(!x.name||!t)return;let a=await (0,o.createCampaign)({name:x.name,baseUrl:x.baseUrl,utm_source:x.utm_source,utm_medium:x.utm_medium,utm_campaign:x.utm_campaign,utm_content:x.utm_content||void 0,utm_term:x.utm_term||void 0,status:"draft"});l(b=>[...b,a]),y({name:"",baseUrl:"https://prosfin.vn",utm_source:"",utm_medium:"",utm_campaign:"",utm_content:"",utm_term:""}),u("")},B=[{id:"name",header:"Name",accessorKey:"name",enableSorting:!0},{id:"generatedUrl",header:"URL",accessorKey:"generatedUrl",cell:({row:a})=>(0,b.jsx)("a",{href:a.original.generatedUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:a.original.generatedUrl})},{id:"status",header:"Status",accessorKey:"status",cell:({row:a})=>(0,b.jsx)(j.Badge,{className:p[a.original.status],children:a.original.status})},{id:"createdAt",header:"Created",accessorKey:"createdAt",cell:({row:a})=>(0,d.format)(new Date(a.original.createdAt),"MMM dd, yyyy")}];return(0,b.jsx)(e.AdminPageShell,{title:"Campaigns",description:"Manage your marketing campaigns",children:(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsx)(f.AdminSectionCard,{title:"UTM Builder",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"name",children:"Campaign Name"}),(0,b.jsx)(h.Input,{id:"name",value:x.name,onChange:a=>y(b=>({...b,name:a.target.value})),placeholder:"Summer 2024 Campaign"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"baseUrl",children:"Base URL"}),(0,b.jsx)(h.Input,{id:"baseUrl",value:x.baseUrl,onChange:a=>y(b=>({...b,baseUrl:a.target.value}))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{children:"Presets"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:q.map(a=>(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{y(b=>({...b,utm_source:a.source,utm_medium:a.medium}))},children:a.label},a.label))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"utm_source",children:"UTM Source *"}),(0,b.jsx)(h.Input,{id:"utm_source",value:x.utm_source,onChange:a=>y(b=>({...b,utm_source:a.target.value})),placeholder:"google"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"utm_medium",children:"UTM Medium *"}),(0,b.jsx)(h.Input,{id:"utm_medium",value:x.utm_medium,onChange:a=>y(b=>({...b,utm_medium:a.target.value})),placeholder:"cpc"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"utm_campaign",children:"UTM Campaign *"}),(0,b.jsx)(h.Input,{id:"utm_campaign",value:x.utm_campaign,onChange:a=>y(b=>({...b,utm_campaign:a.target.value})),placeholder:"summer-2024"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"utm_content",children:"UTM Content"}),(0,b.jsx)(h.Input,{id:"utm_content",value:x.utm_content,onChange:a=>y(b=>({...b,utm_content:a.target.value})),placeholder:"ad-1"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"utm_term",children:"UTM Term"}),(0,b.jsx)(h.Input,{id:"utm_term",value:x.utm_term,onChange:a=>y(b=>({...b,utm_term:a.target.value})),placeholder:"keyword"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Button,{onClick:()=>{x.baseUrl&&x.utm_source&&x.utm_medium&&x.utm_campaign&&u((0,o.generateUTMLink)({baseUrl:x.baseUrl,utm_source:x.utm_source,utm_medium:x.utm_medium,utm_campaign:x.utm_campaign,utm_content:x.utm_content||void 0,utm_term:x.utm_term||void 0}))},children:"Generate Link"}),t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:z,children:v?(0,b.jsx)(n,{className:"size-4"}):(0,b.jsx)(m,{className:"size-4"})}),(0,b.jsx)(g.Button,{onClick:A,children:"Save Campaign"})]})]}),t&&(0,b.jsxs)("div",{className:"rounded-md border bg-muted p-3",children:[(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Generated URL:"}),(0,b.jsx)("p",{className:"break-all text-sm",children:t})]})]})}),(0,b.jsx)(f.AdminSectionCard,{title:"Campaign History",children:(0,b.jsx)(k.AppDataTable,{columns:B,data:a,isLoading:r,searchPlaceholder:"Search campaigns...",emptyMessage:"No campaigns found"})})]})})}a.s(["default",()=>r],155)}];

//# sourceMappingURL=apps_admin_src_app_%28app%29_campaigns_page_tsx_e751f4b9._.js.map