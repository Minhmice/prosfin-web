module.exports=[56480,(a,b,c)=>{var d=a.r(40430),e=a.r(36933),f=a.r(59421);b.exports=function(a,b){return a&&a.length?d(a,f(b,2),e):void 0}},93054,(a,b,c)=>{var d=a.r(40430),e=a.r(59421),f=a.r(92817);b.exports=function(a,b){return a&&a.length?d(a,e(b,2),f):void 0}},14231,a=>{"use strict";var b=a.i(42093),c=a.i(85455),d=a.i(99026),e=a.i(64964),f=a.i(24433),g=a.i(23867);function h(a,b){return(0,g.addDays)(a,-b)}var i=a.i(34117),j=a.i(46713);function k(a,b){let c=(0,j.toDate)(a),d=(0,j.toDate)(b),e=l(c,d),f=Math.abs((0,i.differenceInCalendarDays)(c,d));c.setDate(c.getDate()-e*f);let g=Number(l(c,d)===-e),h=e*(f-g);return 0===h?0:h}function l(a,b){let c=a.getFullYear()-b.getFullYear()||a.getMonth()-b.getMonth()||a.getDate()-b.getDate()||a.getHours()-b.getHours()||a.getMinutes()-b.getMinutes()||a.getSeconds()-b.getSeconds()||a.getMilliseconds()-b.getMilliseconds();return c<0?-1:c>0?1:c}a.i(56120);var m=a.i(83750),n=a.i(49636),o=a.i(4895),p=a.i(64742),q=a.i(27725),r=a.i(2042),s=a.i(18416),t=a.i(29274),u=a.i(93254),v=a.i(32056),w=a.i(1088),x=a.i(93391);function y(){let[a,d]=c.useState("--:--");return c.useEffect(()=>{d((0,e.format)(new Date,"HH:mm"));let a=setInterval(()=>{d((0,e.format)(new Date,"HH:mm"))},6e4);return()=>clearInterval(a)},[]),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",suppressHydrationWarning:!0,children:[(0,b.jsx)(w.Clock,{className:"size-3"}),"Last updated: ",a]})}function z({onDateRangeChange:a,onCompareChange:d}){let[g,i]=(0,x.useUrlState)("from",""),[k,l]=(0,x.useUrlState)("to",""),[m,n]=(0,x.useUrlState)("compare",!1,{replace:!0}),[w,z]=(0,x.useUrlState)("compare_mode","prev",{replace:!0}),A=c.useRef(!1);c.useEffect(()=>{if(!A.current&&!g&&!k){A.current=!0;let a=(0,o.startOfDay)(new Date),b=(0,o.startOfDay)(h(a,30)),c=(0,e.format)(b,"yyyy-MM-dd"),d=(0,e.format)(a,"yyyy-MM-dd");g!==c&&i(c),k!==d&&l(d)}},[]);let B=c.useMemo(()=>{if(!g||!k)return null;try{return{from:(0,o.startOfDay)((0,f.parseISO)(g)),to:(0,o.startOfDay)((0,f.parseISO)(k))}}catch{return null}},[g,k]),C=a=>{let b,c,d=(0,o.startOfDay)(new Date),f=d;switch(a){case"today":b=d,f=d;break;case"last7":b=(0,o.startOfDay)(h(d,6));break;case"last14":b=(0,o.startOfDay)(h(d,13));break;case"last30":b=(0,o.startOfDay)(h(d,29));break;case"thisWeek":b=(0,p.startOfWeek)(d,{weekStartsOn:1});break;case"thisMonth":(c=(0,j.toDate)(d)).setDate(1),c.setHours(0,0,0,0),b=c;break;default:return}i((0,e.format)(b,"yyyy-MM-dd")),l((0,e.format)(f,"yyyy-MM-dd"))};c.useEffect(()=>{B&&a?.(B)},[B]),c.useEffect(()=>{d?.(m)},[m]);let D=c.useMemo(()=>B?(0,e.format)(B.from,"yyyy-MM-dd")===(0,e.format)(B.to,"yyyy-MM-dd")?(0,e.format)(B.from,"MMM dd, yyyy"):`${(0,e.format)(B.from,"MMM dd")} - ${(0,e.format)(B.to,"MMM dd, yyyy")}`:"Select range",[B]);return(0,b.jsxs)("div",{className:"sticky top-0 z-10 flex items-center justify-between gap-4 border-b bg-background px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(r.DropdownMenu,{children:[(0,b.jsx)(r.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(q.Button,{variant:"outline",size:"sm",className:"h-8",suppressHydrationWarning:!0,children:[(0,b.jsx)(u.Calendar,{className:"mr-2 size-4"}),D,(0,b.jsx)(v.ChevronDown,{className:"ml-2 size-4"})]})}),(0,b.jsxs)(r.DropdownMenuContent,{align:"start",className:"w-48",children:[(0,b.jsx)(r.DropdownMenuItem,{onClick:()=>C("today"),children:"Today"}),(0,b.jsx)(r.DropdownMenuItem,{onClick:()=>C("last7"),children:"Last 7 days"}),(0,b.jsx)(r.DropdownMenuItem,{onClick:()=>C("last14"),children:"Last 14 days"}),(0,b.jsx)(r.DropdownMenuItem,{onClick:()=>C("last30"),children:"Last 30 days"}),(0,b.jsx)(r.DropdownMenuItem,{onClick:()=>C("thisWeek"),children:"This week"}),(0,b.jsx)(r.DropdownMenuItem,{onClick:()=>C("thisMonth"),children:"This month"}),(0,b.jsx)(r.DropdownMenuItem,{disabled:!0,className:"text-muted-foreground text-xs",children:"Custom range (coming soon)"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Switch,{checked:m,onCheckedChange:n,id:"compare"}),(0,b.jsx)(s.Label,{htmlFor:"compare",className:"text-sm font-normal cursor-pointer",children:"Compare"})]}),m&&(0,b.jsxs)(r.DropdownMenu,{children:[(0,b.jsx)(r.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(q.Button,{variant:"outline",size:"sm",className:"h-8",suppressHydrationWarning:!0,children:["prev"===w?"Previous period":"month"===w?"Previous month":"Custom",(0,b.jsx)(v.ChevronDown,{className:"ml-2 size-4"})]})}),(0,b.jsxs)(r.DropdownMenuContent,{align:"start",children:[(0,b.jsx)(r.DropdownMenuItem,{onClick:()=>z("prev"),children:"Previous period"}),(0,b.jsx)(r.DropdownMenuItem,{onClick:()=>z("month"),children:"Previous month"}),(0,b.jsx)(r.DropdownMenuItem,{disabled:!0,className:"text-muted-foreground text-xs",children:"Custom range (coming soon)"})]})]})]}),(0,b.jsx)(y,{})]})}var A=a.i(92365),B=a.i(65436),C=a.i(52347),D=a.i(99097);let E=(0,a.i(28761).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var F=a.i(63621),G=a.i(79450),H=a.i(13292),I=a.i(19714),J=a.i(91163),K=a.i(39337),L=a.i(63244),M=a.i(38635),N=a.i(65702),O=a.i(42241),P=a.i(43536),Q=a.i(47450),R=a.i(11091),S=a.i(29516),T=a.i(3377),U=["type","layout","connectNulls","ref"],V=["key"];function W(a){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function X(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function Y(){return(Y=Object.assign.bind()).apply(this,arguments)}function Z(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function $(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?Z(Object(c),!0).forEach(function(b){af(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):Z(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function _(a){return function(a){if(Array.isArray(a))return aa(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return aa(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aa(a,void 0)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ab(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,ag(d.key),d)}}function ac(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(ac=function(){return!!a})()}function ad(a){return(ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function ae(a,b){return(ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function af(a,b,c){return(b=ag(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function ag(a){var b=function(a,b){if("object"!=W(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=W(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==W(b)?b:b+""}var ah=function(a){var b,d;function e(){var a,b,c;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");for(var d=arguments.length,f=Array(d),g=0;g<d;g++)f[g]=arguments[g];return b=e,c=[].concat(f),b=ad(b),af(a=function(a,b){if(b&&("object"===W(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,ac()?Reflect.construct(b,c||[],ad(this).constructor):b.apply(this,c)),"state",{isAnimationFinished:!0,totalLength:0}),af(a,"generateSimpleStrokeDasharray",function(a,b){return"".concat(b,"px ").concat(a-b,"px")}),af(a,"getStrokeDasharray",function(b,c,d){var f=d.reduce(function(a,b){return a+b});if(!f)return a.generateSimpleStrokeDasharray(c,b);for(var g=Math.floor(b/f),h=b%f,i=c-b,j=[],k=0,l=0;k<d.length;l+=d[k],++k)if(l+d[k]>h){j=[].concat(_(d.slice(0,k)),[h-l]);break}var m=j.length%2==0?[0,i]:[i];return[].concat(_(e.repeat(d,g)),_(j),m).map(function(a){return"".concat(a,"px")}).join(", ")}),af(a,"id",(0,Q.uniqueId)("recharts-line-")),af(a,"pathRef",function(b){a.mainCurve=b}),af(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),af(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&ae(e,a),b=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch(a){return 0}}},{key:"renderErrorBar",value:function(a,b){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var d=this.props,e=d.points,f=d.xAxis,g=d.yAxis,h=d.layout,i=d.children,j=(0,R.findAllByType)(i,P.ErrorBar);if(!j)return null;var k=function(a,b){return{x:a.x,y:a.y,value:a.value,errorVal:(0,T.getValueByDataKey)(a.payload,b)}};return c.default.createElement(N.Layer,{clipPath:a?"url(#clipPath-".concat(b,")"):null},j.map(function(a){return c.default.cloneElement(a,{key:"bar-".concat(a.props.dataKey),data:e,xAxis:f,yAxis:g,layout:h,dataPointFormatter:k})}))}},{key:"renderDots",value:function(a,b,d){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var f=this.props,g=f.dot,h=f.points,i=f.dataKey,j=(0,R.filterProps)(this.props,!1),k=(0,R.filterProps)(g,!0),l=h.map(function(a,b){var c=$($($({key:"dot-".concat(b),r:3},j),k),{},{index:b,cx:a.x,cy:a.y,value:a.value,dataKey:i,payload:a.payload,points:h});return e.renderDotItem(g,c)}),m={clipPath:a?"url(#clipPath-".concat(b?"":"dots-").concat(d,")"):null};return c.default.createElement(N.Layer,Y({className:"recharts-line-dots",key:"dots"},m),l)}},{key:"renderCurveStatically",value:function(a,b,d,e){var f=this.props,g=f.type,h=f.layout,i=f.connectNulls,j=(f.ref,X(f,U)),k=$($($({},(0,R.filterProps)(j,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:b?"url(#clipPath-".concat(d,")"):null,points:a},e),{},{type:g,layout:h,connectNulls:i});return c.default.createElement(L.Curve,Y({},k,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,b){var d=this,e=this.props,f=e.points,g=e.strokeDasharray,h=e.isAnimationActive,i=e.animationBegin,j=e.animationDuration,k=e.animationEasing,l=e.animationId,m=e.animateNewValues,n=e.width,o=e.height,p=this.state,q=p.prevPoints,r=p.totalLength;return c.default.createElement(G.default,{begin:i,duration:j,isActive:h,easing:k,from:{t:0},to:{t:1},key:"line-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(c){var e,h=c.t;if(q){var i=q.length/f.length,j=f.map(function(a,b){var c=Math.floor(b*i);if(q[c]){var d=q[c],e=(0,Q.interpolateNumber)(d.x,a.x),f=(0,Q.interpolateNumber)(d.y,a.y);return $($({},a),{},{x:e(h),y:f(h)})}if(m){var g=(0,Q.interpolateNumber)(2*n,a.x),j=(0,Q.interpolateNumber)(o/2,a.y);return $($({},a),{},{x:g(h),y:j(h)})}return $($({},a),{},{x:a.x,y:a.y})});return d.renderCurveStatically(j,a,b)}var k=(0,Q.interpolateNumber)(0,r)(h);if(g){var l="".concat(g).split(/[,\s]+/gim).map(function(a){return parseFloat(a)});e=d.getStrokeDasharray(k,r,l)}else e=d.generateSimpleStrokeDasharray(r,k);return d.renderCurveStatically(f,a,b,{strokeDasharray:e})})}},{key:"renderCurve",value:function(a,b){var c=this.props,d=c.points,e=c.isAnimationActive,f=this.state,g=f.prevPoints,h=f.totalLength;return e&&d&&d.length&&(!g&&h>0||!(0,J.default)(g,d))?this.renderCurveWithAnimation(a,b):this.renderCurveStatically(d,a,b)}},{key:"render",value:function(){var a,b=this.props,d=b.hide,e=b.dot,f=b.points,g=b.className,h=b.xAxis,i=b.yAxis,j=b.top,k=b.left,l=b.width,m=b.height,n=b.isAnimationActive,o=b.id;if(d||!f||!f.length)return null;var p=this.state.isAnimationFinished,q=1===f.length,r=(0,K.default)("recharts-line",g),s=h&&h.allowDataOverflow,t=i&&i.allowDataOverflow,u=s||t,v=(0,I.default)(o)?this.id:o,w=null!=(a=(0,R.filterProps)(e,!1))?a:{r:3,strokeWidth:2},x=w.r,y=w.strokeWidth,z=((0,R.hasClipDot)(e)?e:{}).clipDot,A=void 0===z||z,B=2*(void 0===x?3:x)+(void 0===y?2:y);return c.default.createElement(N.Layer,{className:r},s||t?c.default.createElement("defs",null,c.default.createElement("clipPath",{id:"clipPath-".concat(v)},c.default.createElement("rect",{x:s?k:k-l/2,y:t?j:j-m/2,width:s?l:2*l,height:t?m:2*m})),!A&&c.default.createElement("clipPath",{id:"clipPath-dots-".concat(v)},c.default.createElement("rect",{x:k-B/2,y:j-B/2,width:l+B,height:m+B}))):null,!q&&this.renderCurve(u,v),this.renderErrorBar(u,v),(q||e)&&this.renderDots(u,A,v),(!n||p)&&O.LabelList.renderCallByParent(this.props,f))}}],d=[{key:"getDerivedStateFromProps",value:function(a,b){return a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:b.curPoints}:a.points!==b.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,b){for(var c=a.length%2!=0?[].concat(_(a),[0]):a,d=[],e=0;e<b;++e)d=[].concat(_(d),_(c));return d}},{key:"renderDotItem",value:function(a,b){var d;if(c.default.isValidElement(a))d=c.default.cloneElement(a,b);else if((0,H.default)(a))d=a(b);else{var e=b.key,f=X(b,V),g=(0,K.default)("recharts-line-dot","boolean"!=typeof a?a.className:"");d=c.default.createElement(M.Dot,Y({key:e},f,{className:g}))}return d}}],b&&ab(e.prototype,b),d&&ab(e,d),Object.defineProperty(e,"prototype",{writable:!1}),e}(c.PureComponent);af(ah,"displayName","Line"),af(ah,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!S.Global.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),af(ah,"getComposedData",function(a){var b=a.props,c=a.xAxis,d=a.yAxis,e=a.xAxisTicks,f=a.yAxisTicks,g=a.dataKey,h=a.bandSize,i=a.displayedData,j=a.offset,k=b.layout;return $({points:i.map(function(a,b){var i=(0,T.getValueByDataKey)(a,g);return"horizontal"===k?{x:(0,T.getCateCoordinateOfLine)({axis:c,ticks:e,bandSize:h,entry:a,index:b}),y:(0,I.default)(i)?null:d.scale(i),value:i,payload:a}:{x:(0,I.default)(i)?null:c.scale(i),y:(0,T.getCateCoordinateOfLine)({axis:d,ticks:f,bandSize:h,entry:a,index:b}),value:i,payload:a}}),layout:k},j)});var ai=a.i(70016),aj=a.i(42148),ak=a.i(92075),al=(0,F.generateCategoricalChart)({chartName:"LineChart",GraphicalChild:ah,axisComponents:[{axisType:"xAxis",AxisComp:ai.XAxis},{axisType:"yAxis",AxisComp:aj.YAxis}],formatAxisMap:ak.formatAxisMap}),am=a.i(52107),an=a.i(74073);function ao(a,b){let c=(0,j.toDate)(a.start),d=(0,j.toDate)(a.end),e=+c>+d,f=e?+c:+d,g=e?d:c;g.setHours(0,0,0,0);let h=b?.step??1;if(!h)return[];h<0&&(h=-h,e=!e);let i=[];for(;+g<=f;)i.push((0,j.toDate)(g)),g.setDate(g.getDate()+h),g.setHours(0,0,0,0);return e?i.reverse():i}function ap(a){let b=1e4*Math.sin(a);return b-Math.floor(b)}function aq(a,b=1){let c=ao({start:a.from,end:a.to}),d=[];return c.forEach((a,c)=>{let f=a.getTime(),g=a.getDay(),h=Math.round((150+c*b*.5)*(0===g||6===g?.6:1)*(.8+.4*ap(f))),i=.15+.1*ap(f+1),j=.3+.2*ap(f+2),k=.4+.2*ap(f+3),l=.5+.3*ap(f+4),m=Math.round(h*i),n=Math.round(m*j),o=Math.round(n*k),p=Math.round(o*l);d.push({date:(0,e.format)(a,"yyyy-MM-dd"),sessions:h,leads:m,qualified:n,meetings:o,won:p})}),d}function ar(a){let b=a.reduce((a,b)=>a+b.leads,0),c=a.reduce((a,b)=>a+b.qualified,0),d=a.reduce((a,b)=>a+b.meetings,0);return{newLeads:b,qualifiedLeads:c,meetingsScheduled:d,won:a.reduce((a,b)=>a+b.won,0),cvrLeadToQualified:Math.round(10*(b>0?c/b*100:0))/10,cvrQualifiedToMeeting:Math.round(10*(c>0?d/c*100:0))/10}}async function as(a,b){let c,d,e,g,h,i,j,k,l,m,n;await new Promise(a=>setTimeout(a,200));let o=aq(a,1),p=ar(o);b&&(d=ar(c=aq(b,.95)));let q=(e=[],["Facebook","Google","LinkedIn","Direct","Email","TikTok"].forEach((a,b)=>{let c=1e3*a.charCodeAt(0),d=[.25,.2,.15,.15,.15,.1][b],f=Math.round(o.reduce((a,b)=>a+b.leads,0)*d*(.9+.2*ap(c))),g=.3+.2*ap(c+1),h=.4+.2*ap(c+2),i=.5+.3*ap(c+3),j=Math.round(f*g),k=Math.round(j*h),l=Math.round(k*i),m=f>0?l/f*100:0;e.push({channel:a,leads:f,qualified:j,meetings:k,won:l,cvr:Math.round(10*m)/10})}),e.sort((a,b)=>b.leads-a.leads)),r=(g=o.reduce((a,b)=>a+b.leads,0),[{name:"Summer 2024 Campaign",utm:"summer-2024",channel:"Facebook"},{name:"Facebook Q1 2024",utm:"fb-q1-2024",channel:"Facebook"},{name:"LinkedIn B2B",utm:"linkedin-b2b",channel:"LinkedIn"},{name:"Google Ads Audit",utm:"google-audit",channel:"Google"},{name:"Email Newsletter",utm:"newsletter-jan",channel:"Email"}].map((a,b)=>{let c=1e3*a.utm.charCodeAt(0),d=Math.round(g*[.3,.25,.2,.15,.1][b]*(.9+.2*ap(c))),e=Math.round(d*(.35+.15*ap(c+1)));return{campaignId:`campaign-${b+1}`,campaignName:a.name,utm_campaign:a.utm,channel:a.channel,leads:d,qualified:e,cvr:Math.round(10*(d>0?e/d*100:0))/10}}).sort((a,b)=>b.leads-a.leads)),s=(h=o.reduce((a,b)=>a+b.sessions,0),[{path:"/",sessions:.4},{path:"/services",sessions:.25},{path:"/contact",sessions:.15},{path:"/about",sessions:.1},{path:"/insights",sessions:.1}].map(a=>{let b=1e3*a.path.charCodeAt(0),c=Math.round(h*a.sessions*(.9+.2*ap(b))),d=Math.round(c*(.15+.1*ap(b+1)));return{path:a.path,sessions:c,leads:d,cvr:Math.round(10*(c>0?d/c*100:0))/10}}).sort((a,b)=>b.sessions-a.sessions)),t=(i=o.reduce((a,b)=>a+b.leads,0),j=o.reduce((a,b)=>a+b.qualified,0),k=o.reduce((a,b)=>a+b.meetings,0),l=o.reduce((a,b)=>a+b.won,0),[{stage:"New",count:m=i-j,percentage:i>0?m/i*100:0},{stage:"Qualified",count:j,percentage:i>0?j/i*100:0},{stage:"Meeting Scheduled",count:k,percentage:i>0?k/i*100:0},{stage:"Won",count:l,percentage:i>0?l/i*100:0}]),u=(n=[],ao({start:a.from,end:a.to}).forEach((a,b)=>{let c=a.getTime(),d=Math.floor(2+3*ap(c));for(let e=0;e<d;e++){let d=c+1e3*e,f=["status_changed","converted","campaign_created","note_added"],g=f[Math.floor(ap(d)*f.length)],h=Math.floor(24*ap(d+1)),i=Math.floor(60*ap(d+2)),j=new Date(a);j.setHours(h,i);let k=["You","Admin","Editor A","System"],l=k[Math.floor(ap(d+3)*k.length)],m="";m="status_changed"===g?"Lead status changed":"converted"===g?"Lead converted to client":"campaign_created"===g?"New campaign created":"Note added to lead",n.push({id:`event-${b}-${e}`,type:g,title:m,timestamp:j.toISOString(),actor:"campaign_created"===g?l:void 0})}}),n.sort((a,b)=>(0,f.parseISO)(b.timestamp).getTime()-(0,f.parseISO)(a.timestamp).getTime()).slice(0,20)),v=Math.min(7,o.length),w=o.slice(-v).map(a=>a.leads);return{kpis:p,kpisCompare:d,dailySeries:o,dailySeriesCompare:c,channelBreakdown:q,campaignPerformance:r,landingPathPerformance:s,pipelineSnapshot:t,recentActivity:u,sparklineData:w}}var at=a.i(81938);function au({title:a,value:c,compareValue:e,sparklineData:f,tooltip:g,drillDownPath:h,drillDownParams:i,formatValue:j=a=>a.toLocaleString(),className:k}){let l,m,n=(0,d.useRouter)(),o=void 0!==e?(l=c-e,m=0!==e?l/e*100:null,{absolute:Math.round(l),percent:null!==m?Math.round(10*m)/10:null,isPositive:l>=0}):null,p=f.map((a,b)=>({value:a,index:b}));return(0,b.jsx)(A.AdminSectionCard,{title:a,className:(0,at.cn)("cursor-pointer transition-shadow hover:shadow-md",k),onClick:()=>{if(h){let a=new URLSearchParams(i),b=a.toString()?`${h}?${a.toString()}`:h;n.push(b)}},children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,b.jsx)("div",{className:"text-3xl font-bold",children:j(c)}),g&&(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsx)(E,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("div",{className:"invisible absolute bottom-full right-0 mb-2 w-48 rounded-md border bg-popover p-2 text-xs group-hover:visible z-10",children:g})]})]}),o&&(0,b.jsx)("div",{className:"flex items-center gap-2",children:0===o.absolute?(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[(0,b.jsx)(D.Minus,{className:"size-3"}),(0,b.jsx)("span",{children:"No change"})]}):(0,b.jsxs)("div",{className:(0,at.cn)("flex items-center gap-1 text-sm font-medium",o.isPositive?"text-green-600":"text-red-600"),children:[o.isPositive?(0,b.jsx)(B.TrendingUp,{className:"size-4"}):(0,b.jsx)(C.TrendingDown,{className:"size-4"}),(0,b.jsxs)("span",{children:[o.isPositive?"+":"",o.absolute]}),null!==o.percent&&(0,b.jsxs)("span",{className:"text-muted-foreground",children:["(",o.isPositive?"+":"",o.percent,"%)"]})]})}),f.length>0&&(0,b.jsx)("div",{className:"h-[60px] w-full",children:(0,b.jsx)(an.ChartContainer,{className:"min-h-[60px]",children:(0,b.jsx)(am.ResponsiveContainer,{width:"100%",height:"100%",children:(0,b.jsx)(al,{data:p,children:(0,b.jsx)(ah,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",strokeWidth:2,dot:!1,isAnimationActive:!1})})})})})]})})}var av=a.i(75241),aw=a.i(20397),ax=a.i(78177),ay=a.i(74376),az=a.i(65883);function aA({title:a,data:d,compareData:g,metric:h,onBarClick:i}){let j=c.useMemo(()=>d.map(a=>{let b=g?.find(b=>b.date===a.date);return{date:(0,e.format)((0,f.parseISO)(a.date),"MMM dd"),current:a[h],previous:b?.[h]??null}}),[d,g,h]);return(0,b.jsx)(A.AdminSectionCard,{title:a,children:(0,b.jsx)(an.ChartContainer,{className:"min-h-[300px]",children:(0,b.jsx)(am.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(av.AreaChart,{data:j,margin:{top:10,right:10,left:0,bottom:0},children:[(0,b.jsxs)("defs",{children:[(0,b.jsxs)("linearGradient",{id:"colorCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),(0,b.jsx)("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]}),g&&(0,b.jsxs)("linearGradient",{id:"colorPrevious",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,b.jsx)("stop",{offset:"5%",stopColor:"hsl(var(--chart-2))",stopOpacity:.2}),(0,b.jsx)("stop",{offset:"95%",stopColor:"hsl(var(--chart-2))",stopOpacity:0})]})]}),(0,b.jsx)(ax.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,b.jsx)(ai.XAxis,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),(0,b.jsx)(aj.YAxis,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),(0,b.jsx)(ay.Tooltip,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),g&&(0,b.jsx)(az.Legend,{formatter:a=>"current"===a?"Current Period":"Previous Period"}),(0,b.jsx)(aw.Area,{type:"monotone",dataKey:"current",stroke:"hsl(var(--chart-1))",fill:"url(#colorCurrent)",name:"current"}),g&&(0,b.jsx)(aw.Area,{type:"monotone",dataKey:"previous",stroke:"hsl(var(--chart-2))",fill:"url(#colorPrevious)",strokeDasharray:"5 5",name:"previous"})]})})})})}var aB=a.i(30454),aC=(0,F.generateCategoricalChart)({chartName:"BarChart",GraphicalChild:aB.Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ai.XAxis},{axisType:"yAxis",AxisComp:aj.YAxis}],formatAxisMap:ak.formatAxisMap}),aD=["points","className","baseLinePoints","connectNulls"];function aE(){return(aE=Object.assign.bind()).apply(this,arguments)}function aF(a){return function(a){if(Array.isArray(a))return aG(a)}(a)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||function(a,b){if(a){if("string"==typeof a)return aG(a,void 0);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return aG(a,void 0)}}(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aG(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var aH=function(a){return a&&a.x===+a.x&&a.y===+a.y},aI=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=[[]];return a.forEach(function(a){aH(a)?b[b.length-1].push(a):b[b.length-1].length>0&&b.push([])}),aH(a[0])&&b[b.length-1].push(a[0]),b[b.length-1].length<=0&&(b=b.slice(0,-1)),b},aJ=function(a,b){var c=aI(a);b&&(c=[c.reduce(function(a,b){return[].concat(aF(a),aF(b))},[])]);var d=c.map(function(a){return a.reduce(function(a,b,c){return"".concat(a).concat(0===c?"M":"L").concat(b.x,",").concat(b.y)},"")}).join("");return 1===c.length?"".concat(d,"Z"):d},aK=function(a,b,c){var d=aJ(a,c);return"".concat("Z"===d.slice(-1)?d.slice(0,-1):d,"L").concat(aJ(b.reverse(),c).slice(1))},aL=function(a){var b=a.points,d=a.className,e=a.baseLinePoints,f=a.connectNulls,g=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,aD);if(!b||!b.length)return null;var h=(0,K.default)("recharts-polygon",d);if(e&&e.length){var i=g.stroke&&"none"!==g.stroke,j=aK(b,e,f);return c.default.createElement("g",{className:h},c.default.createElement("path",aE({},(0,R.filterProps)(g,!0),{fill:"Z"===j.slice(-1)?g.fill:"none",stroke:"none",d:j})),i?c.default.createElement("path",aE({},(0,R.filterProps)(g,!0),{fill:"none",d:aJ(b,f)})):null,i?c.default.createElement("path",aE({},(0,R.filterProps)(g,!0),{fill:"none",d:aJ(e,f)})):null)}var k=aJ(b,f);return c.default.createElement("path",aE({},(0,R.filterProps)(g,!0),{fill:"Z"===k.slice(-1)?g.fill:"none",className:h,d:k}))},aM=a.i(78172),aN=a.i(91644),aO=a.i(29966);function aP(a){return(aP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function aQ(){return(aQ=Object.assign.bind()).apply(this,arguments)}function aR(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function aS(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?aR(Object(c),!0).forEach(function(b){aX(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):aR(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function aT(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,aY(d.key),d)}}function aU(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(aU=function(){return!!a})()}function aV(a){return(aV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function aW(a,b){return(aW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function aX(a,b,c){return(b=aY(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function aY(a){var b=function(a,b){if("object"!=aP(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=aP(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==aP(b)?b:b+""}var aZ=Math.PI/180,a$=function(a){var b,d;function e(){var a,b;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");return a=e,b=arguments,a=aV(a),function(a,b){if(b&&("object"===aP(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,aU()?Reflect.construct(a,b||[],aV(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&aW(e,a),b=[{key:"getTickLineCoord",value:function(a){var b=this.props,c=b.cx,d=b.cy,e=b.radius,f=b.orientation,g=b.tickSize,h=(0,aO.polarToCartesian)(c,d,e,a.coordinate),i=(0,aO.polarToCartesian)(c,d,e+("inner"===f?-1:1)*(g||8),a.coordinate);return{x1:h.x,y1:h.y,x2:i.x,y2:i.y}}},{key:"getTickTextAnchor",value:function(a){var b=this.props.orientation,c=Math.cos(-a.coordinate*aZ);return c>1e-5?"outer"===b?"start":"end":c<-1e-5?"outer"===b?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.cx,d=a.cy,e=a.radius,f=a.axisLine,g=a.axisLineType,h=aS(aS({},(0,R.filterProps)(this.props,!1)),{},{fill:"none"},(0,R.filterProps)(f,!1));if("circle"===g)return c.default.createElement(M.Dot,aQ({className:"recharts-polar-angle-axis-line"},h,{cx:b,cy:d,r:e}));var i=this.props.ticks.map(function(a){return(0,aO.polarToCartesian)(b,d,e,a.coordinate)});return c.default.createElement(aL,aQ({className:"recharts-polar-angle-axis-line"},h,{points:i}))}},{key:"renderTicks",value:function(){var a=this,b=this.props,d=b.ticks,f=b.tick,g=b.tickLine,h=b.tickFormatter,i=b.stroke,j=(0,R.filterProps)(this.props,!1),k=(0,R.filterProps)(f,!1),l=aS(aS({},j),{},{fill:"none"},(0,R.filterProps)(g,!1)),m=d.map(function(b,d){var m=a.getTickLineCoord(b),n=aS(aS(aS({textAnchor:a.getTickTextAnchor(b)},j),{},{stroke:"none",fill:i},k),{},{index:d,payload:b,x:m.x2,y:m.y2});return c.default.createElement(N.Layer,aQ({className:(0,K.default)("recharts-polar-angle-axis-tick",(0,aO.getTickClassName)(f)),key:"tick-".concat(b.coordinate)},(0,aN.adaptEventsOfChild)(a.props,b,d)),g&&c.default.createElement("line",aQ({className:"recharts-polar-angle-axis-tick-line"},l,m)),f&&e.renderTickItem(f,n,h?h(b.value,d):b.value))});return c.default.createElement(N.Layer,{className:"recharts-polar-angle-axis-ticks"},m)}},{key:"render",value:function(){var a=this.props,b=a.ticks,d=a.radius,e=a.axisLine;return!(d<=0)&&b&&b.length?c.default.createElement(N.Layer,{className:(0,K.default)("recharts-polar-angle-axis",this.props.className)},e&&this.renderAxisLine(),this.renderTicks()):null}}],d=[{key:"renderTickItem",value:function(a,b,d){return c.default.isValidElement(a)?c.default.cloneElement(a,b):(0,H.default)(a)?a(b):c.default.createElement(aM.Text,aQ({},b,{className:"recharts-polar-angle-axis-tick-value"}),d)}}],b&&aT(e.prototype,b),d&&aT(e,d),Object.defineProperty(e,"prototype",{writable:!1}),e}(c.PureComponent);aX(a$,"displayName","PolarAngleAxis"),aX(a$,"axisType","angleAxis"),aX(a$,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var a_=a.i(56480),a0=a.i(93054),a1=a.i(43106),a2=["cx","cy","angle","ticks","axisLine"],a3=["ticks","tick","angle","tickFormatter","stroke"];function a4(a){return(a4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function a5(){return(a5=Object.assign.bind()).apply(this,arguments)}function a6(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function a7(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?a6(Object(c),!0).forEach(function(b){bd(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):a6(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function a8(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function a9(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,be(d.key),d)}}function ba(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(ba=function(){return!!a})()}function bb(a){return(bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function bc(a,b){return(bc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function bd(a,b,c){return(b=be(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function be(a){var b=function(a,b){if("object"!=a4(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=a4(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==a4(b)?b:b+""}var bf=function(a){var b,d;function e(){var a,b;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");return a=e,b=arguments,a=bb(a),function(a,b){if(b&&("object"===a4(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,ba()?Reflect.construct(a,b||[],bb(this).constructor):a.apply(this,b))}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&bc(e,a),b=[{key:"getTickValueCoord",value:function(a){var b=a.coordinate,c=this.props,d=c.angle,e=c.cx,f=c.cy;return(0,aO.polarToCartesian)(e,f,b,d)}},{key:"getTickTextAnchor",value:function(){var a;switch(this.props.orientation){case"left":a="end";break;case"right":a="start";break;default:a="middle"}return a}},{key:"getViewBox",value:function(){var a=this.props,b=a.cx,c=a.cy,d=a.angle,e=a.ticks,f=(0,a_.default)(e,function(a){return a.coordinate||0});return{cx:b,cy:c,startAngle:d,endAngle:d,innerRadius:(0,a0.default)(e,function(a){return a.coordinate||0}).coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,b=a.cx,d=a.cy,e=a.angle,f=a.ticks,g=a.axisLine,h=a8(a,a2),i=f.reduce(function(a,b){return[Math.min(a[0],b.coordinate),Math.max(a[1],b.coordinate)]},[1/0,-1/0]),j=(0,aO.polarToCartesian)(b,d,i[0],e),k=(0,aO.polarToCartesian)(b,d,i[1],e),l=a7(a7(a7({},(0,R.filterProps)(h,!1)),{},{fill:"none"},(0,R.filterProps)(g,!1)),{},{x1:j.x,y1:j.y,x2:k.x,y2:k.y});return c.default.createElement("line",a5({className:"recharts-polar-radius-axis-line"},l))}},{key:"renderTicks",value:function(){var a=this,b=this.props,d=b.ticks,f=b.tick,g=b.angle,h=b.tickFormatter,i=b.stroke,j=a8(b,a3),k=this.getTickTextAnchor(),l=(0,R.filterProps)(j,!1),m=(0,R.filterProps)(f,!1),n=d.map(function(b,d){var j=a.getTickValueCoord(b),n=a7(a7(a7(a7({textAnchor:k,transform:"rotate(".concat(90-g,", ").concat(j.x,", ").concat(j.y,")")},l),{},{stroke:"none",fill:i},m),{},{index:d},j),{},{payload:b});return c.default.createElement(N.Layer,a5({className:(0,K.default)("recharts-polar-radius-axis-tick",(0,aO.getTickClassName)(f)),key:"tick-".concat(b.coordinate)},(0,aN.adaptEventsOfChild)(a.props,b,d)),e.renderTickItem(f,n,h?h(b.value,d):b.value))});return c.default.createElement(N.Layer,{className:"recharts-polar-radius-axis-ticks"},n)}},{key:"render",value:function(){var a=this.props,b=a.ticks,d=a.axisLine,e=a.tick;return b&&b.length?c.default.createElement(N.Layer,{className:(0,K.default)("recharts-polar-radius-axis",this.props.className)},d&&this.renderAxisLine(),e&&this.renderTicks(),a1.Label.renderCallByParent(this.props,this.getViewBox())):null}}],d=[{key:"renderTickItem",value:function(a,b,d){return c.default.isValidElement(a)?c.default.cloneElement(a,b):(0,H.default)(a)?a(b):c.default.createElement(aM.Text,a5({},b,{className:"recharts-polar-radius-axis-tick-value"}),d)}}],b&&a9(e.prototype,b),d&&a9(e,d),Object.defineProperty(e,"prototype",{writable:!1}),e}(c.PureComponent);bd(bf,"displayName","PolarRadiusAxis"),bd(bf,"axisType","radiusAxis"),bd(bf,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var bg=a.i(39585),bh=a.i(42168),bi=a.i(8672),bj=a.i(56445);function bk(a){return(bk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function bl(){return(bl=Object.assign.bind()).apply(this,arguments)}function bm(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function bn(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?bm(Object(c),!0).forEach(function(b){bs(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):bm(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function bo(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,bt(d.key),d)}}function bp(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(a){}return(bp=function(){return!!a})()}function bq(a){return(bq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function br(a,b){return(br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,b){return a.__proto__=b,a})(a,b)}function bs(a,b,c){return(b=bt(b))in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function bt(a){var b=function(a,b){if("object"!=bk(a)||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=bk(d))return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==bk(b)?b:b+""}var bu=function(a){var b,d;function e(a){var b,c,d;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");return c=e,d=[a],c=bq(c),bs(b=function(a,b){if(b&&("object"===bk(b)||"function"==typeof b))return b;if(void 0!==b)throw TypeError("Derived constructors may only return object or undefined");var c=a;if(void 0===c)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(this,bp()?Reflect.construct(c,d||[],bq(this).constructor):c.apply(this,d)),"pieRef",null),bs(b,"sectorRefs",[]),bs(b,"id",(0,Q.uniqueId)("recharts-pie-")),bs(b,"handleAnimationEnd",function(){var a=b.props.onAnimationEnd;b.setState({isAnimationFinished:!0}),(0,H.default)(a)&&a()}),bs(b,"handleAnimationStart",function(){var a=b.props.onAnimationStart;b.setState({isAnimationFinished:!1}),(0,H.default)(a)&&a()}),b.state={isAnimationFinished:!a.isAnimationActive,prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,sectorToFocus:0},b}if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");return e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),a&&br(e,a),b=[{key:"isActiveIndex",value:function(a){var b=this.props.activeIndex;return Array.isArray(b)?-1!==b.indexOf(a):a===b}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?0!==a.length:a||0===a}},{key:"renderLabels",value:function(a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var b=this.props,d=b.label,f=b.labelLine,g=b.dataKey,h=b.valueKey,i=(0,R.filterProps)(this.props,!1),j=(0,R.filterProps)(d,!1),k=(0,R.filterProps)(f,!1),l=d&&d.offsetRadius||20,m=a.map(function(a,b){var m=(a.startAngle+a.endAngle)/2,n=(0,aO.polarToCartesian)(a.cx,a.cy,a.outerRadius+l,m),o=bn(bn(bn(bn({},i),a),{},{stroke:"none"},j),{},{index:b,textAnchor:e.getTextAnchor(n.x,a.cx)},n),p=bn(bn(bn(bn({},i),a),{},{fill:"none",stroke:a.fill},k),{},{index:b,points:[(0,aO.polarToCartesian)(a.cx,a.cy,a.outerRadius,m),n]}),q=g;return(0,I.default)(g)&&(0,I.default)(h)?q="value":(0,I.default)(g)&&(q=h),c.default.createElement(N.Layer,{key:"label-".concat(a.startAngle,"-").concat(a.endAngle,"-").concat(a.midAngle,"-").concat(b)},f&&e.renderLabelLineItem(f,p,"line"),e.renderLabelItem(d,o,(0,T.getValueByDataKey)(a,q)))});return c.default.createElement(N.Layer,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(a){var b=this,d=this.props,e=d.activeShape,f=d.blendStroke,g=d.inactiveShape;return a.map(function(d,h){if((null==d?void 0:d.startAngle)===0&&(null==d?void 0:d.endAngle)===0&&1!==a.length)return null;var i=b.isActiveIndex(h),j=g&&b.hasActiveIndex()?g:null,k=bn(bn({},d),{},{stroke:f?d.fill:d.stroke,tabIndex:-1});return c.default.createElement(N.Layer,bl({ref:function(a){a&&!b.sectorRefs.includes(a)&&b.sectorRefs.push(a)},tabIndex:-1,className:"recharts-pie-sector"},(0,aN.adaptEventsOfChild)(b.props,d,h),{key:"sector-".concat(null==d?void 0:d.startAngle,"-").concat(null==d?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),c.default.createElement(bj.Shape,bl({option:i?e:j,isActive:i,shapeType:"sector"},k)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,b=this.props,d=b.sectors,e=b.isAnimationActive,f=b.animationBegin,g=b.animationDuration,h=b.animationEasing,i=b.animationId,j=this.state,k=j.prevSectors,l=j.prevIsAnimationActive;return c.default.createElement(G.default,{begin:f,duration:g,isActive:e,easing:h,from:{t:0},to:{t:1},key:"pie-".concat(i,"-").concat(l),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var e=b.t,f=[],g=(d&&d[0]).startAngle;return d.forEach(function(a,b){var c=k&&k[b],d=b>0?(0,bg.default)(a,"paddingAngle",0):0;if(c){var h=(0,Q.interpolateNumber)(c.endAngle-c.startAngle,a.endAngle-a.startAngle),i=bn(bn({},a),{},{startAngle:g+d,endAngle:g+h(e)+d});f.push(i),g=i.endAngle}else{var j=a.endAngle,l=a.startAngle,m=(0,Q.interpolateNumber)(0,j-l)(e),n=bn(bn({},a),{},{startAngle:g+d,endAngle:g+m+d});f.push(n),g=n.endAngle}}),c.default.createElement(N.Layer,null,a.renderSectorsStatically(f))})}},{key:"attachKeyboardHandlers",value:function(a){var b=this;a.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":var c=++b.state.sectorToFocus%b.sectorRefs.length;b.sectorRefs[c].focus(),b.setState({sectorToFocus:c});break;case"ArrowRight":var d=--b.state.sectorToFocus<0?b.sectorRefs.length-1:b.state.sectorToFocus%b.sectorRefs.length;b.sectorRefs[d].focus(),b.setState({sectorToFocus:d});break;case"Escape":b.sectorRefs[b.state.sectorToFocus].blur(),b.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var a=this.props,b=a.sectors,c=a.isAnimationActive,d=this.state.prevSectors;return c&&b&&b.length&&(!d||!(0,J.default)(d,b))?this.renderSectorsWithAnimation():this.renderSectorsStatically(b)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,b=this.props,d=b.hide,e=b.sectors,f=b.className,g=b.label,h=b.cx,i=b.cy,j=b.innerRadius,k=b.outerRadius,l=b.isAnimationActive,m=this.state.isAnimationFinished;if(d||!e||!e.length||!(0,Q.isNumber)(h)||!(0,Q.isNumber)(i)||!(0,Q.isNumber)(j)||!(0,Q.isNumber)(k))return null;var n=(0,K.default)("recharts-pie",f);return c.default.createElement(N.Layer,{tabIndex:this.props.rootTabIndex,className:n,ref:function(b){a.pieRef=b}},this.renderSectors(),g&&this.renderLabels(e),a1.Label.renderCallByParent(this.props,null,!1),(!l||m)&&O.LabelList.renderCallByParent(this.props,e,!1))}}],d=[{key:"getDerivedStateFromProps",value:function(a,b){return b.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==b.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:b.curSectors,isAnimationFinished:!0}:a.sectors!==b.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,b){return a>b?"start":a<b?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,b,d){if(c.default.isValidElement(a))return c.default.cloneElement(a,b);if((0,H.default)(a))return a(b);var e=(0,K.default)("recharts-pie-label-line","boolean"!=typeof a?a.className:"");return c.default.createElement(L.Curve,bl({},b,{key:d,type:"linear",className:e}))}},{key:"renderLabelItem",value:function(a,b,d){if(c.default.isValidElement(a))return c.default.cloneElement(a,b);var e=d;if((0,H.default)(a)&&(e=a(b),c.default.isValidElement(e)))return e;var f=(0,K.default)("recharts-pie-label-text","boolean"==typeof a||(0,H.default)(a)?"":a.className);return c.default.createElement(aM.Text,bl({},b,{alignmentBaseline:"middle",className:f}),e)}}],b&&bo(e.prototype,b),d&&bo(e,d),Object.defineProperty(e,"prototype",{writable:!1}),e}(c.PureComponent);bs(bu,"displayName","Pie"),bs(bu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!S.Global.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),bs(bu,"parseDeltaAngle",function(a,b){return(0,Q.mathSign)(b-a)*Math.min(Math.abs(b-a),360)}),bs(bu,"getRealPieData",function(a){var b=a.data,c=a.children,d=(0,R.filterProps)(a,!1),e=(0,R.findAllByType)(c,bh.Cell);return b&&b.length?b.map(function(a,b){return bn(bn(bn({payload:a},d),a),e&&e[b]&&e[b].props)}):e&&e.length?e.map(function(a){return bn(bn({},d),a.props)}):[]}),bs(bu,"parseCoordinateOfPie",function(a,b){var c=b.top,d=b.left,e=b.width,f=b.height,g=(0,aO.getMaxRadius)(e,f);return{cx:d+(0,Q.getPercentValue)(a.cx,e,e/2),cy:c+(0,Q.getPercentValue)(a.cy,f,f/2),innerRadius:(0,Q.getPercentValue)(a.innerRadius,g,0),outerRadius:(0,Q.getPercentValue)(a.outerRadius,g,.8*g),maxRadius:a.maxRadius||Math.sqrt(e*e+f*f)/2}}),bs(bu,"getComposedData",function(a){var b,c,d=a.item,e=a.offset,f=void 0!==d.type.defaultProps?bn(bn({},d.type.defaultProps),d.props):d.props,g=bu.getRealPieData(f);if(!g||!g.length)return null;var h=f.cornerRadius,i=f.startAngle,j=f.endAngle,k=f.paddingAngle,l=f.dataKey,m=f.nameKey,n=f.valueKey,o=f.tooltipType,p=Math.abs(f.minAngle),q=bu.parseCoordinateOfPie(f,e),r=bu.parseDeltaAngle(i,j),s=Math.abs(r),t=l;(0,I.default)(l)&&(0,I.default)(n)?((0,bi.warn)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),t="value"):(0,I.default)(l)&&((0,bi.warn)(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),t=n);var u=g.filter(function(a){return 0!==(0,T.getValueByDataKey)(a,t,0)}).length,v=s-u*p-(s>=360?u:u-1)*k,w=g.reduce(function(a,b){var c=(0,T.getValueByDataKey)(b,t,0);return a+((0,Q.isNumber)(c)?c:0)},0);return w>0&&(b=g.map(function(a,b){var d,e=(0,T.getValueByDataKey)(a,t,0),f=(0,T.getValueByDataKey)(a,m,b),g=((0,Q.isNumber)(e)?e:0)/w,j=(d=b?c.endAngle+(0,Q.mathSign)(r)*k*(0!==e):i)+(0,Q.mathSign)(r)*((0!==e?p:0)+g*v),l=(d+j)/2,n=(q.innerRadius+q.outerRadius)/2,s=[{name:f,value:e,payload:a,dataKey:t,type:o}],u=(0,aO.polarToCartesian)(q.cx,q.cy,n,l);return c=bn(bn(bn({percent:g,cornerRadius:h,name:f,tooltipPayload:s,midAngle:l,middleRadius:n,tooltipPosition:u},a),q),{},{value:(0,T.getValueByDataKey)(a,t),startAngle:d,endAngle:j,payload:a,paddingAngle:(0,Q.mathSign)(r)*k})})),bn(bn({},q),{},{sectors:b,data:g})});var bv=(0,F.generateCategoricalChart)({chartName:"PieChart",GraphicalChild:bu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:a$},{axisType:"radiusAxis",AxisComp:bf}],formatAxisMap:aO.formatAxisMap,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function bw({data:a,onBarClick:c}){let e=(0,d.useRouter)();return(0,b.jsx)(A.AdminSectionCard,{title:"Leads by Channel",children:(0,b.jsx)(an.ChartContainer,{className:"min-h-[300px]",children:(0,b.jsx)(am.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(aC,{data:a,margin:{top:10,right:10,left:0,bottom:0},children:[(0,b.jsx)(ax.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,b.jsx)(ai.XAxis,{dataKey:"channel",tick:{fontSize:12},tickLine:!1,axisLine:!1}),(0,b.jsx)(aj.YAxis,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),(0,b.jsx)(ay.Tooltip,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),(0,b.jsx)(aB.Bar,{dataKey:"leads",fill:"hsl(var(--chart-1))",radius:[4,4,0,0],onClick:a=>{c?c(a.channel):e.push(`/leads?source=${a.channel.toLowerCase()}`)},style:{cursor:"pointer"}})]})})})})}let bx=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))"];function by({data:a}){return(0,b.jsx)(A.AdminSectionCard,{title:"Pipeline Snapshot",children:(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)("div",{children:(0,b.jsx)(an.ChartContainer,{className:"min-h-[300px]",children:(0,b.jsx)(am.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(aC,{data:a,layout:"vertical",margin:{top:10,right:10,left:60,bottom:0},children:[(0,b.jsx)(ax.CartesianGrid,{strokeDasharray:"3 3",className:"stroke-muted"}),(0,b.jsx)(ai.XAxis,{type:"number",tick:{fontSize:12},tickLine:!1,axisLine:!1}),(0,b.jsx)(aj.YAxis,{dataKey:"stage",type:"category",tick:{fontSize:12},tickLine:!1,axisLine:!1}),(0,b.jsx)(ay.Tooltip,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}}),(0,b.jsx)(aB.Bar,{dataKey:"count",radius:[0,4,4,0],children:a.map((a,c)=>(0,b.jsx)(bh.Cell,{fill:bx[c%bx.length]},`cell-${c}`))})]})})})}),(0,b.jsx)("div",{children:(0,b.jsx)(an.ChartContainer,{className:"min-h-[300px]",children:(0,b.jsx)(am.ResponsiveContainer,{width:"100%",height:300,children:(0,b.jsxs)(bv,{children:[(0,b.jsx)(bu,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({stage:a,percentage:b})=>`${a}: ${b.toFixed(1)}%`,outerRadius:100,fill:"#8884d8",dataKey:"count",children:a.map((a,c)=>(0,b.jsx)(bh.Cell,{fill:bx[c%bx.length]},`cell-${c}`))}),(0,b.jsx)(ay.Tooltip,{contentStyle:{backgroundColor:"hsl(var(--background))",border:"1px solid hsl(var(--border))",borderRadius:"var(--radius)"}})]})})})})]})})}var bz=a.i(75886),bA=a.i(33548);function bB({data:a,dateRange:c}){let e=(0,d.useRouter)();return(0,b.jsx)(A.AdminSectionCard,{title:"Top Campaigns",children:(0,b.jsxs)(bz.Table,{children:[(0,b.jsx)(bz.TableHeader,{children:(0,b.jsxs)(bz.TableRow,{children:[(0,b.jsx)(bz.TableHead,{children:"Campaign"}),(0,b.jsx)(bz.TableHead,{children:"Channel"}),(0,b.jsx)(bz.TableHead,{className:"text-right",children:"Leads"}),(0,b.jsx)(bz.TableHead,{className:"text-right",children:"Qualified"}),(0,b.jsx)(bz.TableHead,{className:"text-right",children:"CVR"})]})}),(0,b.jsx)(bz.TableBody,{children:0===a.length?(0,b.jsx)(bz.TableRow,{children:(0,b.jsx)(bz.TableCell,{colSpan:5,className:"text-center text-muted-foreground text-sm py-8",children:"No data available"})}):a.map(a=>(0,b.jsxs)(bz.TableRow,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>{let b;(b=new URLSearchParams).set("utm_campaign",a.utm_campaign),c&&(b.set("from",c.from),b.set("to",c.to)),e.push(`/leads?${b.toString()}`)},children:[(0,b.jsx)(bz.TableCell,{className:"font-medium",children:a.campaignName}),(0,b.jsx)(bz.TableCell,{children:a.channel}),(0,b.jsx)(bz.TableCell,{className:"text-right",children:a.leads.toLocaleString()}),(0,b.jsx)(bz.TableCell,{className:"text-right",children:a.qualified.toLocaleString()}),(0,b.jsx)(bz.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,b.jsxs)("span",{children:[a.cvr,"%"]}),(0,b.jsx)(bA.ArrowRight,{className:"size-3 text-muted-foreground"})]})})]},a.campaignId))})]})})}function bC({data:a,dateRange:c}){let e=(0,d.useRouter)();return(0,b.jsx)(A.AdminSectionCard,{title:"Top Landing Paths",children:(0,b.jsxs)(bz.Table,{children:[(0,b.jsx)(bz.TableHeader,{children:(0,b.jsxs)(bz.TableRow,{children:[(0,b.jsx)(bz.TableHead,{children:"Path"}),(0,b.jsx)(bz.TableHead,{className:"text-right",children:"Sessions"}),(0,b.jsx)(bz.TableHead,{className:"text-right",children:"Leads"}),(0,b.jsx)(bz.TableHead,{className:"text-right",children:"CVR"})]})}),(0,b.jsx)(bz.TableBody,{children:0===a.length?(0,b.jsx)(bz.TableRow,{children:(0,b.jsx)(bz.TableCell,{colSpan:4,className:"text-center text-muted-foreground text-sm py-8",children:"No data available"})}):a.map((a,d)=>(0,b.jsxs)(bz.TableRow,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>{let a;return a=new URLSearchParams,void(c&&(a.set("from",c.from),a.set("to",c.to)),e.push(`/leads?${a.toString()}`))},children:[(0,b.jsx)(bz.TableCell,{className:"font-medium font-mono text-sm",children:a.path}),(0,b.jsx)(bz.TableCell,{className:"text-right",children:a.sessions.toLocaleString()}),(0,b.jsx)(bz.TableCell,{className:"text-right",children:a.leads.toLocaleString()}),(0,b.jsx)(bz.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,b.jsxs)("span",{children:[a.cvr,"%"]}),(0,b.jsx)(bA.ArrowRight,{className:"size-3 text-muted-foreground"})]})})]},d))})]})})}function bD({data:a}){return(0,b.jsx)(A.AdminSectionCard,{title:"Recent Activity",children:(0,b.jsx)("div",{className:"space-y-3",children:0===a.length?(0,b.jsx)("p",{className:"text-center text-muted-foreground text-sm py-8",children:"No recent activity"}):a.slice(0,10).map(a=>(0,b.jsx)("div",{className:"flex items-start gap-3 text-sm border-b pb-3 last:border-0",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs mt-1",children:[a.actor&&`${a.actor}  `,new Date(a.timestamp).toLocaleString()]})]})},a.id))})})}function bE({children:a}){let c=(0,d.useSearchParams)(),e=c.get("from"),f=c.get("to"),g=c.get("compare_mode")||"prev";return(0,b.jsx)(b.Fragment,{children:a({from:e,to:f,compareMode:g})})}function bF({children:a}){return(0,b.jsx)(c.Suspense,{fallback:null,children:(0,b.jsx)(bE,{children:a})})}function bG({params:a}){let[d,g]=c.useState(null),[i,j]=c.useState(!0),[l,o]=c.useState(null),[p,q]=c.useState(!1),[r,s]=c.useState(null),t=a.from,u=a.to,v=a.compareMode||"prev";c.useEffect(()=>{if(t&&u)try{let a=(0,f.parseISO)(t),b=(0,f.parseISO)(u);o({from:a,to:b})}catch{let a=new Date;o({from:h(a,30),to:a})}else{let a=new Date;o({from:h(a,30),to:a})}},[t,u]),c.useEffect(()=>{if(l&&p){if("prev"===v){let a=k(l.to,l.from),b=h(l.from,1);s({from:h(b,a),to:b})}else if("month"===v){let a=h(l.from,1);s({from:h(a,k(l.to,l.from)),to:a})}}else s(null)},[l,p,v]),c.useEffect(()=>{if(!l)return;let a=!1;return j(!0),as(l,r||void 0).then(b=>{a||(g(b),j(!1))}).catch(b=>{a||(console.error("Failed to load dashboard data:",b),j(!1))}),()=>{a=!0}},[l,r]);let w=c.useCallback((a={})=>{let b={...a};return l&&(b.from=(0,e.format)(l.from,"yyyy-MM-dd"),b.to=(0,e.format)(l.to,"yyyy-MM-dd")),b},[l]);return!i&&d&&l?(0,b.jsxs)(m.AdminPageShell,{title:"Dashboard",description:"Overview of your business metrics",children:[(0,b.jsx)(z,{onDateRangeChange:o,onCompareChange:q}),(0,b.jsxs)("div",{className:"space-y-6 p-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 overflow-x-auto snap-x snap-mandatory",children:[(0,b.jsx)(au,{title:"New Leads",value:d.kpis.newLeads,compareValue:d.kpisCompare?.newLeads,sparklineData:d.sparklineData,tooltip:"Total new leads in the selected period",drillDownPath:"/leads",drillDownParams:w({status:"new"})}),(0,b.jsx)(au,{title:"Qualified",value:d.kpis.qualifiedLeads,compareValue:d.kpisCompare?.qualifiedLeads,sparklineData:d.sparklineData,tooltip:"Leads that have been qualified",drillDownPath:"/leads",drillDownParams:w({status:"qualified"})}),(0,b.jsx)(au,{title:"Meetings",value:d.kpis.meetingsScheduled,compareValue:d.kpisCompare?.meetingsScheduled,sparklineData:d.sparklineData,tooltip:"Meetings scheduled with leads",drillDownPath:"/leads",drillDownParams:w({status:"meeting_scheduled"})}),(0,b.jsx)(au,{title:"Won",value:d.kpis.won,compareValue:d.kpisCompare?.won,sparklineData:d.sparklineData,tooltip:"Converted leads / clients",drillDownPath:"/clients",drillDownParams:w({status:"active"})}),(0,b.jsx)(au,{title:"CVR: LeadQualified",value:d.kpis.cvrLeadToQualified,compareValue:d.kpisCompare?.cvrLeadToQualified,sparklineData:d.sparklineData,tooltip:"Conversion rate from new leads to qualified",formatValue:a=>`${a}%`}),(0,b.jsx)(au,{title:"CVR: QualifiedMeeting",value:d.kpis.cvrQualifiedToMeeting,compareValue:d.kpisCompare?.cvrQualifiedToMeeting,sparklineData:d.sparklineData,tooltip:"Conversion rate from qualified to meeting scheduled",formatValue:a=>`${a}%`})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)(aA,{title:"Acquisition Trend",data:d.dailySeries,compareData:d.dailySeriesCompare,metric:"leads"}),(0,b.jsx)(bw,{data:d.channelBreakdown,onBarClick:a=>{let b=new URLSearchParams(w({source:a}));window.location.href=`/leads?${b.toString()}`}})]}),(0,b.jsx)(by,{data:d.pipelineSnapshot}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)(bB,{data:d.campaignPerformance,dateRange:l?{from:(0,e.format)(l.from,"yyyy-MM-dd"),to:(0,e.format)(l.to,"yyyy-MM-dd")}:void 0}),(0,b.jsx)(bC,{data:d.landingPathPerformance,dateRange:l?{from:(0,e.format)(l.from,"yyyy-MM-dd"),to:(0,e.format)(l.to,"yyyy-MM-dd")}:void 0})]}),(0,b.jsx)(bD,{data:d.recentActivity})]})]}):(0,b.jsxs)(m.AdminPageShell,{title:"Dashboard",description:"Overview of your business metrics",children:[(0,b.jsx)(z,{}),(0,b.jsxs)("div",{className:"space-y-6 p-4",children:[(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:Array.from({length:6}).map((a,c)=>(0,b.jsx)(n.AdminSkeleton,{variant:"rectangular",className:"h-32"},c))}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)(n.AdminSkeleton,{variant:"rectangular",className:"h-80"}),(0,b.jsx)(n.AdminSkeleton,{variant:"rectangular",className:"h-80"})]})]})]})}function bH(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsxs)(m.AdminPageShell,{title:"Dashboard",description:"Overview of your business metrics",children:[(0,b.jsx)(z,{}),(0,b.jsxs)("div",{className:"space-y-6 p-4",children:[(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:Array.from({length:6}).map((a,c)=>(0,b.jsx)(n.AdminSkeleton,{variant:"rectangular",className:"h-32"},c))}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsx)(n.AdminSkeleton,{variant:"rectangular",className:"h-80"}),(0,b.jsx)(n.AdminSkeleton,{variant:"rectangular",className:"h-80"})]})]})]}),children:(0,b.jsx)(bF,{children:a=>(0,b.jsx)(bG,{params:a})})})}a.s(["default",()=>bH,"dynamic",0,"force-dynamic"],14231)}];

//# sourceMappingURL=_e4798666._.js.map